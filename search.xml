<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Pythonä½¿ç”¨Seleniumï¼Œxpathå’Œcsså¯¹æ¯”ï¼Œä»¥åŠ xpathæ¨¡ç³Šå®šä½ï¼Œé€‚ç”¨äºåŠ¨æ€idã€classåŠå˜åŒ–çš„å±æ€§</title>
      <link href="/kvfadb/"/>
      <url>/kvfadb/</url>
      
        <content type="html"><![CDATA[<hr><p>title: Python ä½¿ç”¨ Seleniumï¼Œxpath å’Œ css å¯¹æ¯”ï¼Œä»¥åŠ xpath æ¨¡ç³Šå®šä½ï¼Œé€‚ç”¨äºåŠ¨æ€ idã€class åŠå˜åŒ–çš„å±æ€§<br>author: hongwei<br>top: false<br>cover: false<br>coverImg: /medias/featureimages/17.jpg<br>toc: true<br>mathjax: false<br>summary: åŸºäº Python ä½¿ç”¨ Seleniumï¼Œxpath å’Œ css æŠ€å·§ã€‚ xpath å®šä½æ¨¡ç³Šæœç´¢ï¼Œé€‚ç”¨äºåŠ¨æ€ idã€class åŠå˜åŒ–çš„å±æ€§.</p><ul><li>Selenium</li></ul><p>tags:</p><ul><li>python</li><li>selenium</li><li>webdriver</li></ul><p>urlname: python-selenium-xpath-css</p><p>date: 2017-02-22 10:00:37</p><p>img:</p><p>password:</p><p>updated: 2017-02-22 10:00:37</p><hr><p><a name="0a132d89"></a></p><h1 id="csså®šä½æ–¹å¼ç›¸æ¯”xpathçš„ä¼˜åŠ¿"><a href="#csså®šä½æ–¹å¼ç›¸æ¯”xpathçš„ä¼˜åŠ¿" class="headerlink" title="csså®šä½æ–¹å¼ç›¸æ¯”xpathçš„ä¼˜åŠ¿"></a>csså®šä½æ–¹å¼ç›¸æ¯”xpathçš„ä¼˜åŠ¿</h1><ul><li>ä¼˜åŠ¿ 1ï¼šä¸€èˆ¬æƒ…å†µä¸‹å®šä½é€Ÿåº¦è¦æ¯” XPATH å¿«</li><li>ä¼˜åŠ¿ 2ï¼šè¯­æ³•è¦æ¯” XPATHæ›´ç®€æ´<br><a name="CSS"></a><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><table><thead><tr><th>ç”¨æ³•</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>*</td><td>é€šç”¨å…ƒç´ é€‰æ‹©å™¨ï¼ŒåŒ¹é…ä»»ä½•å…ƒç´ </td></tr><tr><td>E</td><td>æ ‡ç­¾é€‰æ‹©å™¨ï¼ŒåŒ¹é…æ‰€æœ‰ä½¿ç”¨ Eæ ‡ç­¾çš„å…ƒç´ </td></tr><tr><td>.info</td><td>classé€‰æ‹©å™¨ï¼ŒåŒ¹é…æ‰€æœ‰ classå±æ€§ä¸­åŒ…å« infoçš„å…ƒç´ </td></tr><tr><td>#footer</td><td>idé€‰æ‹©å™¨ï¼ŒåŒ¹é…æ‰€æœ‰idå±æ€§ç­‰äº footerçš„å…ƒç´ </td></tr><tr><td>E,F</td><td>å¤šå…ƒç´ é€‰æ‹©å™¨ï¼ŒåŒæ—¶åŒ¹é…æ‰€æœ‰ Eå…ƒç´ æˆ– Få…ƒç´ ï¼ŒEå’Œ Fä¹‹é—´ç”¨é€—å·åˆ†éš”</td></tr><tr><td>E F</td><td>åä»£å…ƒç´ é€‰æ‹©å™¨ï¼ŒåŒ¹é…æ‰€æœ‰å±äº Eå…ƒç´ åä»£çš„ Få…ƒç´ ï¼ŒEå’Œ Fä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”</td></tr><tr><td>E &gt; F</td><td>å­å…ƒç´ é€‰æ‹©å™¨ï¼ŒåŒ¹é…æ‰€æœ‰ Eå…ƒç´ çš„å­å…ƒç´  F</td></tr><tr><td>E + F</td><td>æ¯—é‚»å…ƒç´ é€‰æ‹©å™¨ï¼ŒåŒ¹é…ç´§éš Eå…ƒç´ ä¹‹åçš„åŒçº§å…ƒç´  F ï¼ˆåªåŒ¹é…ç¬¬ä¸€ä¸ªï¼‰</td></tr><tr><td>E ~ F</td><td>åŒçº§å…ƒç´ é€‰æ‹©å™¨ï¼ŒåŒ¹é…æ‰€æœ‰åœ¨ Eå…ƒç´ ä¹‹åçš„åŒçº§ F å…ƒç´ </td></tr><tr><td>E[att=â€™valâ€™]</td><td>å±æ€§ attçš„å€¼ä¸º val çš„E å…ƒç´  ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</td></tr><tr><td>E[att^=â€™valâ€™]</td><td>å±æ€§ attçš„å€¼ä»¥ val å¼€å¤´çš„E å…ƒç´  ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</td></tr><tr><td>E[att$=â€™valâ€™]</td><td>å±æ€§ attçš„å€¼ä»¥ val ç»“å°¾çš„E å…ƒç´  ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</td></tr><tr><td>E[att*=â€™valâ€™]</td><td>å±æ€§ attçš„å€¼åŒ…å« val çš„E å…ƒç´  ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</td></tr><tr><td>E[att1=â€™v1â€™][att2*=â€™v2â€™]</td><td>å±æ€§ att1çš„å€¼ä¸º v1ï¼Œatt2çš„å€¼åŒ…å« v2 ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</td></tr><tr><td>E:contains(â€˜xxxxâ€™)</td><td>å†…å®¹ä¸­åŒ…å« xxxx çš„ Eå…ƒç´ </td></tr><tr><td>E:not(s)</td><td>åŒ¹é…ä¸ç¬¦åˆå½“å‰é€‰æ‹©å™¨çš„ä»»ä½•å…ƒç´ </td></tr></tbody></table></li></ul><p><strong>ä¸¾ä¾‹</strong></p><table><thead><tr><th>åŒ¹é…(å»æ‰#)</th><th>locator</th></tr></thead><tbody><tr><td>&lt;#div class=â€formdivâ€&gt;</td><td>css=div<br /> css=div.formdiv</td></tr><tr><td>&lt;#ul id=â€recordlistâ€&gt;</td><td>css=#recordlist <br /> css=ul#recordlist</td></tr><tr><td>&lt;#p&gt;Heading</td><td>css=div.subdiv p <br /> css=div.subdiv &gt; ul &gt; p</td></tr><tr><td>&lt;#div class=â€subdivâ€&gt;</td><td>css=form + div</td></tr><tr><td>&lt;#li&gt;Cat</td><td>css=p + li <br /> css=p ~ li</td></tr><tr><td>&lt;#input name=â€usernameâ€&gt;</td><td>css=form &gt; input[name=username]</td></tr><tr><td>&lt;#input value=â€SYS123456â€ name=â€vidâ€ type=â€hiddenâ€&gt;</td><td>css=input[name$=id][value^=SYS]</td></tr><tr><td>&lt;#input name=â€usernameâ€ type=â€textâ€&gt;</td><td>css=input:not([name$=id][value^=SYS])</td></tr><tr><td>&lt;#li&gt;Goat</td><td>css=li:contains(â€˜Goaâ€™)</td></tr><tr><td>&lt;#li&gt;Cat</td><td>css=li:not(contains(â€˜Goaâ€™))</td></tr></tbody></table><p><a name="6bf1c105"></a></p><h2 id="CSSå’Œxpathå¯¹æ¯”"><a href="#CSSå’Œxpathå¯¹æ¯”" class="headerlink" title="CSSå’Œxpathå¯¹æ¯”"></a>CSSå’Œxpathå¯¹æ¯”</h2><table><thead><tr><th>ç›®æ ‡</th><th>CSS</th><th>XPath</th></tr></thead><tbody><tr><td>æ‰€æœ‰å…ƒç´ </td><td>*</td><td>//*</td></tr><tr><td>æ‰€æœ‰çš„ P å…ƒç´ </td><td>p</td><td>//p</td></tr><tr><td>æ‰€æœ‰çš„ p å…ƒç´ çš„å­å…ƒç´ </td><td>p &gt; *</td><td>//p/*</td></tr><tr><td>æ ¹æ® IDè·å–å…ƒç´ </td><td>#foo</td><td>//*[@id=â€™fooâ€™]</td></tr><tr><td>æ ¹æ® Classè·å–å…ƒç´ </td><td>.foo</td><td>//<em>[contains(@class,â€™fooâ€™)] <br /> //</em>[@class=â€™fooâ€™]</td></tr><tr><td>æ‹¥æœ‰æŸä¸ªå±æ€§çš„å…ƒç´ </td><td>*[title]</td><td>//*[@title]</td></tr><tr><td>æ‰€æœ‰ På…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ </td><td>p &gt; *:first-child</td><td>//p/*[0]</td></tr><tr><td>æ‰€æœ‰æ‹¥æœ‰å­å…ƒç´  a çš„ P å…ƒç´ </td><td>æ— æ³•å®ç°</td><td>//p[a]</td></tr><tr><td>ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ </td><td>p + *</td><td>//p/following-sibling::*[0]</td></tr><tr><td>æ ‡ç­¾</td><td>div</td><td>//div</td></tr><tr><td>By id</td><td>div#eleid</td><td>//div[@id=â€™eleidâ€™]</td></tr><tr><td>By class</td><td>div.eleclass</td><td>//div[contains(@class,â€™eleclassâ€™)] <br /> //div[@class=â€™eleclassâ€™]</td></tr><tr><td>By å±æ€§</td><td>//div[@title=â€™Move mouse hereâ€™]</td><td>div[title=Move mousehere] <br /> div[title^=Move] <br /> div[title$=here] <br /> div[title*=mouse]</td></tr><tr><td>å®šä½å­å…ƒç´ </td><td>div#eleid &gt;* <br /> div#eleid &gt;h1</td><td>//div[@id=â€™eleidâ€™]/* <br /> //div/h1</td></tr><tr><td>å®šä½åä»£å…ƒç´ </td><td>div h1</td><td>//div[@id=â€™eleidâ€™]//h1</td></tr><tr><td>By index</td><td>li:nth(5)</td><td>//li[6]</td></tr><tr><td>By content</td><td>a:contains(Issue1164)</td><td>//a[contains(.,â€™Issue 1164â€™)]</td></tr><tr><td>æ ¹æ®å­å…ƒç´ å›æº¯å®šä½çˆ¶å…ƒç´ </td><td>li{a:contains(Issue1244)} <br /> ul{a:contains(Issue1244)}</td><td>//li[a[contains(.,â€™Issue 1244â€™)]] <br /> //*[./a[contains(.,â€™Issue1244â€™)]] <br /> //ul[.//a[contains(.,â€™Issue1244â€™)]]</td></tr><tr><td>æ ¹æ®é‚»è¿‘å…ƒç´ å®šä½</td><td>css=li:contains(Issue1244) + li <br /> css=ul{a:contains(Issue1244)} ~ ul</td><td>//li[preceding-sibling::li[contains(.,â€™Issue1244â€™)]] <br /> //ul[preceding-sibling::ul[.//a[contains(.,â€™Issue1244â€™)]]]</td></tr></tbody></table><p><a name="6e547eda"></a></p><h1 id="xpath-å®šä½æ¨¡ç³Šæœç´¢"><a href="#xpath-å®šä½æ¨¡ç³Šæœç´¢" class="headerlink" title="xpath å®šä½æ¨¡ç³Šæœç´¢"></a>xpath å®šä½æ¨¡ç³Šæœç´¢</h1><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#!/usr/bin/env python</span><span class="token comment" spellcheck="true">#coding: utf-8</span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">import</span> time<span class="token triple-quoted-string string">"""xpath æ¨¡ç³ŠåŒ¹é…ï¼Œç±»ä¼¼find_by_partial_linkcontains(å±æ€§åï¼Œå­—ç¬¦ä¸²)  åŒ…å«ï¼Œstarts-with(å±æ€§åï¼Œå­—ç¬¦ä¸²ï¼‰  å¼€å§‹ï¼Œends-with(å±æ€§åï¼Œå­—ç¬¦ä¸²ï¼‰  ç»“æŸ,matchs(å±æ€§åï¼Œå­—ç¬¦ä¸²ï¼‰  åŒ¹é…"""</span>driver<span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://www.baidu.com"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># xpath æ¨¡ç³ŠåŒ¹é…</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[contains(@name,'tj_trhao123')]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># xpath æ¨¡ç³ŠåŒ¹é…æŸä¸ªå±æ€§</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[contains(@id,'search-input')]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>u<span class="token string">"xpath æ¨¡ç³Šæœç´¢"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># xpath æ¨¡ç³ŠåŒ¹é…ä»¥ä»€ä¹ˆå¼€å¤´</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[starts-with(@id,'search-in')]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>u<span class="token string">"-- å¼€å¤´"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># xpath æ¨¡ç³ŠåŒ¹é…ä»¥ä»€ä¹ˆç»“æŸ</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[ends-with(@id,'search-input')]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>u<span class="token string">"-- ç»“æŸ"</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token operator">*</span>contains<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> å¦‚æœaä¸­å«æœ‰å­—ç¬¦ä¸²bï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falsestarts<span class="token operator">-</span><span class="token keyword">with</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> å¦‚æœaæ˜¯ä»¥å­—ç¬¦ä¸²bå¼€å¤´ï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›falseends<span class="token operator">-</span><span class="token keyword">with</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> å¦‚æœaæ˜¯ä»¥å­—ç¬¦ä¸²bç»“å°¾ï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›false<span class="token operator">**</span><span class="token operator">*</span><span class="token comment" spellcheck="true"># xpath æ¨¡ç³ŠåŒ¹é…æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[matchs(text(),'hao123')]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">"//*[contains(.,'hao123')]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä½¿ç”¨Seleniumï¼Œç­‰å¾…æ–¹å¼æ•´ç†</title>
      <link href="/qa3m2o/"/>
      <url>/qa3m2o/</url>
      
        <content type="html"><![CDATA[<hr><p>title: Python ä½¿ç”¨ Seleniumï¼Œç­‰å¾…æ–¹å¼æ•´ç†<br>author: hongwei<br>top: false<br>cover: false<br>coverImg: /medias/featureimages/13.jpg<br>toc: true<br>mathjax: false<br>summary: åŸºäº Python ä½¿ç”¨ Seleniumï¼Œä¸‰ç§ç­‰å¾…æ–¹å¼</p><ul><li>Selenium</li></ul><p>tags:</p><ul><li>python</li><li>selenium</li><li>webdriver</li></ul><p>urlname: python-selenium-waittime</p><p>date: 2017-04-06 11:23:37</p><p>img:</p><p>password:</p><p>updated: 2017-04-06 11:23:37</p><hr><ul><li>time.sleep</li><li>WebDriverWait</li><li>driver.implicitly_wait</li></ul><p><a name="25ef8253"></a></p><h1 id="å¼ºåˆ¶ç­‰å¾…"><a href="#å¼ºåˆ¶ç­‰å¾…" class="headerlink" title="å¼ºåˆ¶ç­‰å¾…"></a>å¼ºåˆ¶ç­‰å¾…</h1><p>ä¸ç®¡å¦åŠ è½½å®Œäº†ï¼Œç¨‹åºéƒ½å¾—ç­‰å¾…3ç§’</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#! /usr/bin/env python</span><span class="token comment" spellcheck="true"># coding: utf-8 </span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">import</span> timedriver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.zhwei.cn/'</span><span class="token punctuation">)</span>time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># å¼ºåˆ¶ç­‰å¾…3ç§’å†æ‰§è¡Œä¸‹ä¸€æ­¥</span><span class="token keyword">print</span> driver<span class="token punctuation">.</span>current_urldriver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><a name="02c087e0"></a></p><h1 id="æ˜¾æ€§ç­‰å¾…"><a href="#æ˜¾æ€§ç­‰å¾…" class="headerlink" title="æ˜¾æ€§ç­‰å¾…"></a>æ˜¾æ€§ç­‰å¾…</h1><p><a href="http://python-selenium-zh.readthedocs.io/zh_CN/latest/5.Waits/" target="_blank" rel="noopener">å®˜æ–¹ä¸­æ–‡æ–‡æ¡£åœ°å€</a></p><p>æ˜¾å¼çš„waitsç­‰å¾…ä¸€ä¸ªç¡®å®šçš„æ¡ä»¶è§¦å‘ç„¶åæ‰è¿›è¡Œæ›´æ·±ä¸€æ­¥çš„æ‰§è¡Œã€‚æœ€ç³Ÿç³•çš„çš„åšæ³•æ˜¯time.sleep()ï¼Œè¿™æŒ‡å®šçš„æ¡ä»¶æ˜¯ç­‰å¾…ä¸€ä¸ªæŒ‡å®šçš„æ—¶é—´æ®µã€‚ è¿™é‡Œæä¾›ä¸€äº›ä¾¿åˆ©çš„æ–¹æ³•è®©ä½ ç¼–å†™çš„ä»£ç åªç­‰å¾…éœ€è¦çš„æ—¶é—´ï¼ŒWebDriverWaitç»“åˆExpectedConditionæ˜¯ä¸€ç§å®ç°çš„æ–¹æ³•ï¼š</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#! /usr/bin/env python</span><span class="token comment" spellcheck="true"># coding: utf-8 </span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support<span class="token punctuation">.</span>ui <span class="token keyword">import</span> WebDriverWait<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support <span class="token keyword">import</span> expected_conditions <span class="token keyword">as</span> ECdriver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.zhwei.cn/"</span><span class="token punctuation">)</span><span class="token keyword">try</span><span class="token punctuation">:</span>    element <span class="token operator">=</span> WebDriverWait<span class="token punctuation">(</span>driver<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>until<span class="token punctuation">(</span>        EC<span class="token punctuation">.</span>presence_of_element_located<span class="token punctuation">(</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span><span class="token string">"myDynamicElement"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token keyword">finally</span><span class="token punctuation">:</span>    driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>è¿™æ®µä»£ç ä¼šç­‰å¾…10ç§’ï¼Œå¦‚æœ10ç§’å†…æ‰¾åˆ°å…ƒç´ åˆ™ç«‹å³è¿”å›ï¼Œå¦åˆ™ä¼šæŠ›å‡º<code>TimeoutException</code>å¼‚å¸¸ï¼Œ<code>WebDriverWait</code>é»˜è®¤æ¯500æ¯«ç§’è°ƒç”¨ä¸€ä¸‹<code>ExpectedCondition</code>ç›´åˆ°å®ƒè¿”å›æˆåŠŸä¸ºæ­¢ã€‚<code>ExpectedCondition</code>ç±»å‹æ˜¯å¸ƒå°”çš„ï¼ŒæˆåŠŸçš„è¿”å›å€¼å°±æ˜¯<code>true</code>,å…¶ä»–ç±»å‹çš„<code>ExpectedCondition</code>æˆåŠŸçš„è¿”å›å€¼å°±æ˜¯<code>not null</code><br />é¢„æœŸæ¡ä»¶</p><p>è‡ªåŠ¨åŒ–ç½‘é¡µæ“ä½œæ—¶ï¼Œæœ‰è®¸å¤šé¢‘ç¹ä½¿ç”¨åˆ°çš„é€šç”¨æ¡ä»¶ã€‚ä¸‹é¢åˆ—å‡ºçš„æ˜¯æ¯ä¸€ä¸ªæ¡ä»¶çš„å®ç°ã€‚<code>Selenium + Python</code> æä¾›äº†è®¸å¤šæ–¹ä¾¿çš„æ–¹æ³•ï¼Œå› æ­¤ä½ ä¸éœ€è¦è‡ªå·±ç¼–å†™<code>expected_condition</code>çš„ç±»ï¼Œæˆ–è€…åˆ›å»ºä½ è‡ªå·±çš„é€šç”¨åŒ…ã€‚</p><table><thead><tr><th>é€šç”¨æ¡ä»¶</th><th>ç”¨æ³•</th></tr></thead><tbody><tr><td>title_is <br /> title_contains</td><td>éªŒè¯titleï¼ŒéªŒè¯ä¼ å…¥çš„å‚æ•°titleæ˜¯å¦ç­‰äºæˆ–åŒ…å«äºdriver.title</td></tr><tr><td>presence_of_element_located <br /> visibility_of_element_located</td><td>éªŒè¯å…ƒç´ æ˜¯å¦å‡ºç°ï¼Œä¼ å…¥çš„å‚æ•°éƒ½æ˜¯å…ƒç»„ç±»å‹çš„locatorï¼Œå¦‚(By.ID, â€˜kwâ€™) é¡¾åæ€ä¹‰ï¼Œä¸€ä¸ªåªè¦ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ åŠ è½½å‡ºæ¥å°±é€šè¿‡ï¼›å¦ä¸€ä¸ªå¿…é¡»æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ éƒ½åŠ è½½å‡ºæ¥æ‰è¡Œ</td></tr><tr><td>visibility_of_element_located <br /> invisibility_of_element_located <br /> visibility_of</td><td>éªŒè¯å…ƒç´ æ˜¯å¦å¯è§ï¼Œå‰ä¸¤ä¸ªä¼ å…¥å‚æ•°æ˜¯å…ƒç»„ç±»å‹çš„locatorï¼Œç¬¬ä¸‰ä¸ªä¼ å…¥WebElementç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªå…¶å®è´¨æ˜¯ä¸€æ ·çš„</td></tr><tr><td>text_to_be_present_in_element <br /> text_to_be_present_in_element_value</td><td>è¿™ä¸¤ä¸ªäººæ¡ä»¶åˆ¤æ–­æŸæ®µæ–‡æœ¬æ˜¯å¦å‡ºç°åœ¨æŸå…ƒç´ ä¸­ï¼Œä¸€ä¸ªåˆ¤æ–­å…ƒç´ çš„textï¼Œä¸€ä¸ªåˆ¤æ–­å…ƒç´ çš„value</td></tr><tr><td>frame_to_be_available_and_switch_to_it</td><td>åˆ¤æ–­frameæ˜¯å¦å¯åˆ‡å…¥ï¼Œå¯ä¼ å…¥locatorå…ƒç»„æˆ–è€…ç›´æ¥ä¼ å…¥å®šä½æ–¹å¼ï¼šidã€nameã€indexæˆ–WebElement</td></tr><tr><td>alert_is_present</td><td>åˆ¤æ–­æ˜¯å¦æœ‰alertå‡ºç°</td></tr><tr><td>element_to_be_clickable</td><td>åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯ç‚¹å‡»ï¼Œä¼ å…¥locator</td></tr><tr><td>element_to_be_selected <br /> element_located_to_be_selected <br /> element_selection_state_to_be <br /> element_located_selection_state_to_be</td><td>è¿™å››ä¸ªæ¡ä»¶åˆ¤æ–­å…ƒç´ æ˜¯å¦è¢«é€‰ä¸­ï¼Œç¬¬ä¸€ä¸ªæ¡ä»¶ä¼ WebElementå¯¹è±¡ï¼Œç¬¬äºŒä¸ªä¼ å…¥locatorå…ƒç»„ç¬¬ä¸‰ä¸ªä¼ å…¥WebElementå¯¹è±¡ä»¥åŠçŠ¶æ€ï¼Œç›¸ç­‰è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseç¬¬å››ä¸ªä¼ å…¥locatorä»¥åŠçŠ¶æ€ï¼Œç›¸ç­‰è¿”å›Trueï¼Œå¦åˆ™è¿”å›False</td></tr><tr><td>staleness_of</td><td>åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦ä»åœ¨DOMä¸­ï¼Œä¼ å…¥WebElementå¯¹è±¡ï¼Œå¯ä»¥åˆ¤æ–­é¡µé¢æ˜¯å¦åˆ·æ–°äº†</td></tr></tbody></table><p><a name="e51bee61"></a></p><h1 id="éšå½¢ç­‰å¾…"><a href="#éšå½¢ç­‰å¾…" class="headerlink" title="éšå½¢ç­‰å¾…"></a>éšå½¢ç­‰å¾…</h1><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#! /usr/bin/env python</span><span class="token comment" spellcheck="true"># coding: utf-8 </span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriverdriver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>implicitly_wait<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># seconds</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.zhwei.cn/"</span><span class="token punctuation">)</span>myDynamicElement <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'myDynamicElement'</span><span class="token punctuation">)</span></code></pre><p><a name="68de02df"></a></p><h2 id="éšå¼waits"><a href="#éšå¼waits" class="headerlink" title="éšå¼waits:"></a>éšå¼waits:</h2><p>ä¸æ˜ç¡®çš„è¡Œä¸ºè¡¨ç°ï¼ŒåŒä¸€ä¸ªé—®é¢˜ä¾èµ–äºä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œä¸åŒçš„æµè§ˆå™¨ï¼Œä¸åŒçš„<code>selenium</code>ç‰ˆæœ¬ä¼šæœ‰å„ç§ä¸åŒçš„è¡¨ç°ï¼Œåœ¨è¿œç¨‹çš„<code>selenium</code>ä¸Šè¿è¡Œï¼ˆæ§åˆ¶æµè§ˆå™¨çš„é‚£éƒ¨åˆ†ï¼‰åªèƒ½åœ¨å¯»æ‰¾å…ƒç´ çš„å‡½æ•°ä¸Šå·¥ä½œï¼Œè¿”å›æ‰¾åˆ°çš„å…ƒç´ æˆ–è€…ï¼ˆåœ¨è¶…æ—¶ä»¥åï¼‰æ²¡æœ‰æ‰¾åˆ°ã€‚å¦‚æœæ£€æŸ¥å…ƒç´ ç¼ºå¤±é‚£ä¹ˆæ€»æ˜¯ä¼šç­‰å¾…åˆ°è¶…æ—¶ï¼Œé™¤äº†æ—¶é—´éƒ½ä¸èƒ½æŒ‡å®šã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é…åˆ Valine è¯„è®ºç³»ç»Ÿä½¿ç”¨çš„ Valine-Admin åŠæ˜¾ç¤ºä¸ªæ€§å¤´åƒ</title>
      <link href="/Valine-Admin-Gravatar/"/>
      <url>/Valine-Admin-Gravatar/</url>
      
        <content type="html"><![CDATA[<p><a name="Valine"></a></p><h1 id="Valine"><a href="#Valine" class="headerlink" title="Valine"></a>Valine</h1><p>ä¸€æ¬¾å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„æ— åç«¯è¯„è®ºç³»ç»Ÿã€‚</p><p>Valine è¯ç”Ÿäº2017å¹´8æœˆ7æ—¥ï¼Œæ˜¯ä¸€æ¬¾åŸºäº<a href="https://www.leancloud.cn/" target="_blank" rel="noopener">LeanCloud</a>çš„å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„æ— åç«¯è¯„è®ºç³»ç»Ÿã€‚</p><p>ç†è®ºä¸Šæ”¯æŒä½†ä¸é™äºé™æ€åšå®¢ï¼Œç›®å‰å·²æœ‰Hexoã€Jekyllã€Typechoã€Hugoã€Ghost ç­‰åšå®¢ç¨‹åºåœ¨ä½¿ç”¨ <a href="https://valine.js.org/" target="_blank" rel="noopener">Valine</a>ã€‚</p><p><a name="c666ad11"></a></p><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ul><li>å¿«é€Ÿ</li><li>å®‰å…¨</li><li>Emoji ğŸ˜‰</li><li>æ— åç«¯å®ç°</li><li>MarkDown å…¨è¯­æ³•æ”¯æŒ</li><li>è½»é‡æ˜“ç”¨(~15kb gzipped)</li><li>æ–‡ç« é˜…è¯»é‡ç»Ÿè®¡   v1.2.0+</li></ul><p><a name="c9c2e389"></a></p><h2 id="å¿«é€Ÿä½¿ç”¨"><a href="#å¿«é€Ÿä½¿ç”¨" class="headerlink" title="å¿«é€Ÿä½¿ç”¨"></a>å¿«é€Ÿä½¿ç”¨</h2><ol><li>æ³¨å†Œ<a href="https://www.leancloud.cn/" target="_blank" rel="noopener">LeanCloud</a></li><li>åˆ›å»º<code>Valine</code>åº”ç”¨ï¼Œåç§°ä»»æ„ï¼Œä¾‹å¦‚<code>Valine</code></li><li>è¿›å…¥å¯¹åº”çš„åº”ç”¨ï¼Œç‚¹å‡»<code>è®¾ç½® -&gt; åº”ç”¨ Keys</code>ï¼Œè·å–<code>AppID</code>å’Œ<code>AppKey</code></li><li>ä»¥<code>Hexo</code>ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸ºä¾‹ï¼Œå¡«å…¥å¯¹åº”çš„åœ°æ–¹ï¼Œåé¢è€ƒè™‘åŠ å…¥åˆ°<code>Django</code></li></ol><pre><code>valine:  enable: true  appId: AppID  appKey: AppKey  notify: false  verify: false  visitor: true  avatar: &#39;mp&#39; # Gravatar style : mp/identicon/monsterid/wavatar/retro/hide  pageSize: 10  placeholder: &#39;just go go&#39; # Comment Box placeholder</code></pre><p><a name="c8aa3ee9"></a></p><h2 id="Valine-é…ç½®"><a href="#Valine-é…ç½®" class="headerlink" title="Valine é…ç½®"></a>Valine é…ç½®</h2><ol><li>æŸ¥çœ‹è¯„è®º<br /><br>ç‚¹å‡» <code>å­˜å‚¨ -&gt; ç»“æ„åŒ–æ•°æ®</code>ï¼Œé€‰æ‹©<code>åˆ›å»ºClass</code>ï¼Œåç§°<code>Comment</code>ï¼Œå…¶ä»–ä¿æŒé»˜è®¤ï¼Œä»¥åå°±å¯åœ¨æ­¤Classå†…æŸ¥çœ‹</li><li>æ–‡ç« é˜…è¯»é‡ç»Ÿè®¡<br /><br>ç‚¹å‡» <code>å­˜å‚¨ -&gt; ç»“æ„åŒ–æ•°æ®</code>ï¼Œé€‰æ‹©<code>åˆ›å»ºClass</code>ï¼Œåç§°<code>Counter</code>ï¼Œå…¶ä»–ä¿æŒé»˜è®¤ï¼Œä»¥åå°±å¯åœ¨æ­¤Classå†…æŸ¥çœ‹</li></ol><blockquote><p>æ³¨ï¼šæ–‡ç« é˜…è¯»é‡ç»Ÿè®¡æœ‰æ—¶ä¼šå’Œåšå®¢å†…çš„ç»Ÿè®¡è½¯ä»¶ä¸å…¼å®¹</p></blockquote><p><a name="Valine-Admin"></a></p><h1 id="Valine-Admin"><a href="#Valine-Admin" class="headerlink" title="Valine-Admin"></a>Valine-Admin</h1><p><a href="https://github.com/hongweifuture/Valine-Admin" target="_blank" rel="noopener">Github é¡¹ç›®åœ°å€ï¼Œå…·ä½“æ•™ç¨‹ä»¥ æœ€æ–°ç‰ˆ ä¸ºå‡†</a></p><p><a name="e05dce83"></a></p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Valine Admin é¡¹ç›®æ˜¯ä¸€ä¸ªå¯¹ <a href="https://valine.js.org" target="_blank" rel="noopener">Valine</a> è¯„è®ºç³»ç»Ÿçš„æ‹“å±•åº”ç”¨ï¼Œå¯å¢å¼º Valine çš„é‚®ä»¶é€šçŸ¥åŠŸèƒ½ã€‚åŸºäº Leancloud çš„äº‘å¼•æ“ä¸äº‘å‡½æ•°ï¼Œä¸»è¦å®ç°è¯„è®ºé‚®ä»¶é€šçŸ¥ã€è¯„è®ºç®¡ç†ã€è‡ªå®šä¹‰é‚®ä»¶é€šçŸ¥æ¨¡æ¿ç­‰åŠŸèƒ½ï¼Œè€Œä¸”è¿˜å¯ä»¥æä¾›é‚®ä»¶ <code>é€šçŸ¥ç«™é•¿</code> å’Œ <code>@ é€šçŸ¥</code> çš„åŠŸèƒ½ã€‚</p><p><a href="https://github.com/hongweifuture/Valine-Admin/blob/master/é«˜çº§é…ç½®.md#é‚®ä»¶é€šçŸ¥å±•ç¤º" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹æ¼”ç¤º</a></p><p><a name="a9f94dcd"></a></p><h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><ol><li>éœ€è¦ç¡®ä¿ Valine çš„åŸºç¡€åŠŸèƒ½æ˜¯æ­£å¸¸çš„ï¼Œå‚è€ƒ <a href="https://valine.js.org" target="_blank" rel="noopener">Valine Docs</a>ã€‚</li><li>è¿›å…¥ <a href="https://leancloud.cn/dashboard/applist.html#/apps" target="_blank" rel="noopener">Leancloud</a> å¯¹åº”çš„ Valine åº”ç”¨ä¸­ã€‚</li><li>ç‚¹å‡» <code>äº‘å¼•æ“ -&gt; è®¾ç½®</code> å¡«å†™ä»£ç åº“ï¼š<code>https://github.com/hongweifuture/Valine-Admin</code>ï¼Œä¿å­˜</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/20200207142608.png" alt=""></p><ol start="4"><li>è®¾ç½®<code>è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</code>ï¼Œéœ€è¦è®¾ç½®äº‘å¼•æ“çš„ç¯å¢ƒå˜é‡ä»¥æä¾›å¿…è¦çš„ä¿¡æ¯ï¼Œå˜é‡å‚æ•°å‚è€ƒä¸‹é¢çš„<code>é…ç½®é¡¹</code></li></ol><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/20200207155409.png" alt=""><br /><br><br /><br><strong>é…ç½®é¡¹</strong></p><table><thead><tr><th align="center">å˜é‡</th><th align="center">ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">SITE_NAME</td><td align="center">HONGWEIâ€™S Blog</td><td>[å¿…å¡«] ç½‘ç«™åç§°</td></tr><tr><td align="center">SITE_URL</td><td align="center"><a href="https://www.zhwei.cn">https://www.zhwei.cn</a></td><td>[å¿…å¡«] ç½‘ç«™åœ°å€ï¼Œ<strong>æœ€åä¸è¦åŠ  <code>/</code></strong></td></tr><tr><td align="center">SMTP_SERVICE</td><td align="center">QQ</td><td>[å¿…å¡«] é‚®ä»¶æœåŠ¡æä¾›å•†ï¼Œæ”¯æŒ QQã€163ã€126ã€Gmail ä»¥åŠ <a href="https://nodemailer.com/smtp/well-known/#supported-services" target="_blank" rel="noopener">æ›´å¤š</a>ã€‚ â€” <em>å¦‚è¿™é‡Œæ²¡æœ‰ä½ ä½¿ç”¨çš„é‚®ä»¶æä¾›å•†ï¼Œè¯·æŸ¥çœ‹<a href="/%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8">è‡ªå®šä¹‰é‚®ä»¶æœåŠ¡å™¨</a></em></td></tr><tr><td align="center">SMTP_USER</td><td align="center"><a href="mailto:xxxx@qq.com">xxxx@qq.com</a></td><td>[å¿…å¡«] SMTPç™»å½•ç”¨æˆ·ï¼Œä¸€èˆ¬ä¸ºé‚®ç®±åœ°å€</td></tr><tr><td align="center">SMTP_PASS</td><td align="center">xxxx</td><td>[å¿…å¡«] SMTPç™»å½•å¯†ç ï¼Œä¸€èˆ¬ä¸ºæˆæƒç ï¼Œè€Œä¸æ˜¯é‚®ç®±çš„ç™»é™†å¯†ç ï¼Œè¯·è‡ªè¡ŒæŸ¥è¯¢å¯¹åº”é‚®ä»¶æœåŠ¡å•†çš„è·å–æ–¹å¼</td></tr><tr><td align="center">SENDER_NAME</td><td align="center">HONGWEIâ€™S Blog Valine è¯„è®ºæé†’</td><td>[å¯é€‰] å‘ä»¶äºº</td></tr><tr><td align="center">ADMIN_URL</td><td align="center"><a href="https://xxx.leanapp.cn/" target="_blank" rel="noopener">https://xxx.leanapp.cn/</a></td><td>[å»ºè®®] Webä¸»æœºäºŒçº§åŸŸåï¼Œç”¨äºè‡ªåŠ¨å”¤é†’</td></tr><tr><td align="center">TO_EMAIL</td><td align="center"><a href="mailto:xxxxx@gmail.com">xxxxx@gmail.com</a></td><td>[å¯é€‰] æŒ‡å®šç«™é•¿æ”¶ä¿¡é‚®ç®±ï¼Œé»˜è®¤å€¼ä¸º<code>SITE_USER</code>ã€‚ç”¨äº SMTP å‘ä»¶äººä¸ç«™é•¿æ”¶ä»¶äººä¸ä¸€è‡´çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</td></tr><tr><td align="center">TEMPLATE_NAME</td><td align="center">rainbow</td><td>[å¯é€‰] é€šçŸ¥é‚®ä»¶çš„æ¨¡æ¿ï¼ˆdefaultå’Œrainbowï¼‰ï¼Œå‚è€ƒé«˜çº§åŠŸèƒ½</td></tr></tbody></table><ol start="5"><li>ç‚¹å‡» <code>äº‘å¼•æ“ -&gt; éƒ¨ç½²</code>ï¼Œé€‰æ‹©<code>Gitæºç éƒ¨ç½²</code>ï¼Œåˆ†æ”¯æˆ–ç‰ˆæœ¬å·è¾“å…¥<code>master</code>ï¼Œä¸‹è½½æœ€æ–°ä¾èµ–ï¼ˆå¯é€‰ï¼‰ï¼Œéƒ¨ç½²</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/20200207143035.png" alt=""><br /><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/20200207143205.png" alt=""><br /><br><a name="877a58ea"></a></p><h2 id="åå°ç®¡ç†"><a href="#åå°ç®¡ç†" class="headerlink" title="åå°ç®¡ç†"></a>åå°ç®¡ç†</h2><ol><li>ç‚¹å‡» <code>äº‘å¼•æ“ -&gt; è®¾ç½®</code>ï¼Œåœ¨<code>Webä¸»æœºåŸŸå</code>ä½ç½®ç‚¹å‡»<code>ç”³è¯·</code>ï¼Œè·å–äºŒçº§åŸŸåï¼Œç°åœ¨çš„äºŒçº§åŸŸåä¸æ”¯æŒè‡ªå®šä¹‰ï¼Œå¦‚æœæƒ³å¥½è®°è¯·å‚è€ƒé«˜çº§åŠŸèƒ½</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/20200207143315.png" alt=""><br /></p><ol start="2"><li>è®¾ç½®åå°ç®¡ç†ç™»å½•ä¿¡æ¯ï¼Œç‚¹å‡» <code>å­˜å‚¨ -&gt; ç»“æ„åŒ–æ•°æ®</code>ï¼Œé€‰æ‹©<code>_User -&gt; æ·»åŠ è¡Œ</code>ï¼Œåªéœ€è¦å¡«å†™<code>password</code>ã€<code>username</code>ã€<code>email</code>è¿™ä¸‰ä¸ªå­—æ®µå³å¯, ä½¿ç”¨ email ä½œä¸ºè´¦å·ç™»é™†ã€password ä½œä¸ºè´¦å·å¯†ç ã€username ä»»æ„å³å¯ã€‚ï¼ˆä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œæ­¤ email å¿…é¡»ä¸ºé…ç½®ä¸­çš„ SMTP_USER æˆ– TO_EMAILï¼Œ å¦åˆ™ä¸å…è®¸ç™»å½•ï¼‰</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/20200207151339.png" alt=""><br /></p><ol start="3"><li>æ­¤åï¼Œå¯ä»¥é€šè¿‡<code>https://äºŒçº§åŸŸå.leanapp.cn/</code>ç®¡ç†è¯„è®º</li></ol><p><a name="a1bd9760"></a></p><h2 id="å®šæ—¶ä»»åŠ¡"><a href="#å®šæ—¶ä»»åŠ¡" class="headerlink" title="å®šæ—¶ä»»åŠ¡"></a>å®šæ—¶ä»»åŠ¡</h2><p>å…è´¹ç‰ˆçš„ LeanCloud å®¹å™¨ï¼Œæ˜¯æœ‰å¼ºåˆ¶æ€§ä¼‘çœ ç­–ç•¥çš„ï¼Œä¸èƒ½ 24 å°æ—¶è¿è¡Œï¼š</p><ul><li>æ¯å¤©å¿…é¡»ä¼‘çœ  6 ä¸ªå°æ—¶</li><li>30 åˆ†é’Ÿå†…æ²¡æœ‰å¤–éƒ¨è¯·æ±‚ï¼Œåˆ™ä¼‘çœ </li><li>ä¼‘çœ åå¦‚æœæœ‰æ–°çš„å¤–éƒ¨è¯·æ±‚å®ä¾‹åˆ™é©¬ä¸Šå¯åŠ¨ï¼ˆä½†æ¿€æ´»æ—¶æ­¤æ¬¡å‘é€é‚®ä»¶ä¼šå¤±è´¥ï¼‰ã€‚</li></ul><p>åˆ†æäº†ä¸€ä¸‹ä¸Šæ–¹çš„ç­–ç•¥ï¼Œå¦‚æœä¸æƒ³ä»˜è´¹çš„è¯ï¼Œæœ€ä½³ä½¿ç”¨æ–¹æ¡ˆå°±è®¾ç½®å®šæ—¶å™¨ï¼Œç›®å‰åŸºäº LeanCloud è‡ªå¸¦å®šæ—¶å™¨å®ç°äº†ä¸¤ç§äº‘å‡½æ•°å®šæ—¶ä»»åŠ¡ï¼š</p><ul><li>è‡ªåŠ¨å”¤é†’ï¼Œå®šæ—¶è®¿é—®Web APPäºŒçº§åŸŸåé˜²æ­¢äº‘å¼•æ“ä¼‘çœ ï¼ˆæ¨èï¼‰</li><li>å®šæ—¶æ£€æŸ¥ï¼Œæ¯å¤©å®šæ—¶æ£€æŸ¥24å°æ—¶å†…æ¼å‘çš„é‚®ä»¶é€šçŸ¥</li></ul><p><strong>é…ç½®</strong></p><ol><li>é¦–å…ˆéœ€è¦æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œç‚¹å‡» <code>äº‘å¼•æ“ -&gt; è®¾ç½®</code>ï¼Œé…ç½®<code>è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</code>ï¼Œå˜é‡å<code>ADMIN_URL</code>ï¼Œå˜é‡å€¼<code>Web ä¸»æœºåŸŸåï¼Œå³äºŒçº§åŸŸååœ°å€</code>ï¼Œæ·»åŠ åé‡å¯å®¹å™¨ç¯å¢ƒå˜é‡æ‰ä¼šç”Ÿæ•ˆ</li><li>é…ç½®å®šæ—¶ä»»åŠ¡ï¼Œå‡» <code>äº‘å¼•æ“ -&gt; å®šæ—¶ä»»åŠ¡</code></li></ol><ul><li>é…ç½®è‡ªåŠ¨å”¤é†’ï¼ˆæ¨èï¼‰ï¼Œåˆ›å»ºå®šæ—¶ä»»åŠ¡ï¼Œåç§°ä»»æ„ï¼Œç”Ÿäº§ç¯å¢ƒé€‰æ‹©<code>self-wake</code>äº‘å‡½æ•°ï¼ŒCronè¡¨è¾¾å¼å¡«å…¥<code>0 */20 7-23 * * ?</code>ï¼Œè¡¨ç¤ºæ¯å¤© 7 - 23 ç‚¹æ¯ 20 åˆ†é’Ÿè®¿é—®ä¸€æ¬¡ï¼Œè¿™æ ·å¯ä»¥ä¿æŒæ¯å¤©çš„ç»å¤§å¤šæ•°æ—¶é—´é‚®ä»¶æœåŠ¡æ˜¯æ­£å¸¸çš„ã€‚</li><li>é…ç½®å®šæ—¶æ£€æŸ¥ï¼Œåˆ›å»ºå®šæ—¶ä»»åŠ¡ï¼Œåç§°ä»»æ„ï¼Œç”Ÿäº§ç¯å¢ƒé€‰æ‹©<code>resend-mails</code>äº‘å‡½æ•°ï¼ŒCronè¡¨è¾¾å¼å¡«å…¥<code>0 0 8 * * ?</code>ï¼Œè¡¨ç¤ºæ¯å¤©æ—©8ç‚¹æ£€æŸ¥è¿‡å»24å°æ—¶å†…æ¼å‘çš„é€šçŸ¥é‚®ä»¶å¹¶è¡¥å‘</li></ul><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/20200207153831.png" alt=""><br /></p><p><a name="1f318234"></a></p><h2 id="é«˜çº§é…ç½®"><a href="#é«˜çº§é…ç½®" class="headerlink" title="é«˜çº§é…ç½®"></a>é«˜çº§é…ç½®</h2><p><a href="https://github.com/hongweifuture/Valine-Admin/blob/master/%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%82%AE%E4%BB%B6%E6%A8%A1%E6%9D%BF" target="_blank" rel="noopener">è‡ªå®šä¹‰é‚®ä»¶æ¨¡æ¿</a></p><p><a href="https://github.com/hongweifuture/Valine-Admin/blob/master/%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%94%B6%E4%BB%B6%E9%82%AE%E7%AE%B1" target="_blank" rel="noopener">è‡ªå®šä¹‰æ”¶ä»¶é‚®ç®±</a></p><p><a href="https://github.com/hongweifuture/Valine-Admin/blob/master/%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8" target="_blank" rel="noopener">è‡ªå®šä¹‰é‚®ä»¶æœåŠ¡å™¨</a></p><p><a href="https://github.com/hongweifuture/Valine-Admin/blob/master/%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE.md#web-%E8%AF%84%E8%AE%BA%E7%AE%A1%E7%90%86" target="_blank" rel="noopener">Web è¯„è®ºç®¡ç†</a></p><p><a href="https://github.com/hongweifuture/Valine-Admin/blob/master/%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE.md#%E5%A5%BD%E8%AE%B0%E7%9A%84%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D" target="_blank" rel="noopener">å¥½è®°çš„äºŒçº§åŸŸå</a></p><p><a href="https://github.com/hongweifuture/Valine-Admin/blob/master/%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE.md#leancloud-%E4%BC%91%E7%9C%A0%E7%AD%96%E7%95%A5" target="_blank" rel="noopener">Leancloud ä¼‘çœ ç­–ç•¥(å¿…çœ‹)</a></p><p><a href="https://github.com/hongweifuture/Valine-Admin/blob/master/%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE.md#%E5%BC%80%E5%8F%91" target="_blank" rel="noopener">å¼€å‘æŒ‡å—</a></p><p><a name="e9510be1"></a></p><h2 id="æ˜¾ç¤ºä¸ªæ€§å¤´åƒ"><a href="#æ˜¾ç¤ºä¸ªæ€§å¤´åƒ" class="headerlink" title="æ˜¾ç¤ºä¸ªæ€§å¤´åƒ"></a>æ˜¾ç¤ºä¸ªæ€§å¤´åƒ</h2><p>Valine ç›®å‰ä½¿ç”¨çš„æ˜¯<a href="http://cn.gravatar.com/" target="_blank" rel="noopener">Gravatar</a> ä½œä¸ºè¯„è®ºåˆ—è¡¨å¤´åƒã€‚</p><p>è¯·è‡ªè¡Œç™»å½•æˆ–æ³¨å†Œ<a href="http://cn.gravatar.com/" target="_blank" rel="noopener">Gravatar</a>ï¼Œç„¶åä¿®æ”¹è‡ªå·±çš„å¤´åƒã€‚</p><p>è¯„è®ºçš„æ—¶å€™ï¼Œç•™ä¸‹åœ¨<a href="http://cn.gravatar.com/" target="_blank" rel="noopener">Gravatar</a>æ³¨å†Œæ—¶æ‰€ä½¿ç”¨çš„é‚®ç®±å³å¯ã€‚</p><p>æ„Ÿè°¢<code>gravatar.cat.net</code>æä¾›çš„é•œåƒæœåŠ¡ã€‚</p><blockquote><p>å¦‚æœä½ ä¿®æ”¹äº†å¤´åƒåå‘ç°æ²¡æœ‰æ›´æ–°ï¼Œè¯·ä¸è¦æ…Œå¼ ï¼Œå› ä¸º<code>gravatar.cat.net</code> æœ‰ä¸ƒå¤©çš„ç¼“å­˜æœŸï¼Œå®‰é™çš„ç­‰å¾…å§~</p></blockquote><p>ç›®å‰<code>éè‡ªå®šä¹‰å¤´åƒ</code>æœ‰ä»¥ä¸‹7ç§<code>é»˜è®¤å€¼</code>å¯é€‰:</p><table><thead><tr><th align="center">å‚æ•°å€¼</th><th align="center">è¡¨ç°å½¢å¼</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td align="center">ç©ºå­—ç¬¦ä¸²<code>&#39;&#39;</code></td><td align="center"><img src="https://img-blog.csdnimg.cn/20200207232029388.jpg#alt=Gravatar%E5%AE%98%E6%96%B9%E5%9B%BE%E5%BD%A2" alt=""></td><td>Gravatarå®˜æ–¹å›¾å½¢</td></tr><tr><td align="center"><code>mp</code></td><td align="center"><img src="https://img-blog.csdnimg.cn/20200207231815493.png#alt=%E7%A5%9E%E7%A7%98%E4%BA%BA%28%E4%B8%80%E4%B8%AA%E7%81%B0%E7%99%BD%E5%A4%B4%E5%83%8F%29" alt=""></td><td>ç¥ç§˜äºº(ä¸€ä¸ªç°ç™½å¤´åƒ)</td></tr><tr><td align="center"><code>identicon</code></td><td align="center"><img src="https://img-blog.csdnimg.cn/20200207231835995.png#alt=%E6%8A%BD%E8%B1%A1%E5%87%A0%E4%BD%95%E5%9B%BE%E5%BD%A2" alt=""></td><td>æŠ½è±¡å‡ ä½•å›¾å½¢</td></tr><tr><td align="center"><code>monsterid</code></td><td align="center"><img src="https://img-blog.csdnimg.cn/20200207231850268.png#alt=%E5%B0%8F%E6%80%AA%E7%89%A9" alt=""></td><td>å°æ€ªç‰©</td></tr><tr><td align="center"><code>wavatar</code></td><td align="center"><img src="https://img-blog.csdnimg.cn/20200207231902977.png#alt=%E7%94%A8%E4%B8%8D%E5%90%8C%E9%9D%A2%E5%AD%94%E5%92%8C%E8%83%8C%E6%99%AF%E7%BB%84%E5%90%88%E7%94%9F%E6%88%90%E7%9A%84%E5%A4%B4%E5%83%8F" alt=""></td><td>ç”¨ä¸åŒé¢å­”å’ŒèƒŒæ™¯ç»„åˆç”Ÿæˆçš„å¤´åƒ</td></tr><tr><td align="center"><code>retro</code></td><td align="center"><img src="https://img-blog.csdnimg.cn/20200207231915298.png#alt=%E5%85%AB%E4%BD%8D%E5%83%8F%E7%B4%A0%E5%A4%8D%E5%8F%A4%E5%A4%B4%E5%83%8F" alt=""></td><td>å…«ä½åƒç´ å¤å¤å¤´åƒ</td></tr><tr><td align="center"><code>robohash</code></td><td align="center"><img src="https://img-blog.csdnimg.cn/20200207231932699.png#alt=%E4%B8%80%E7%A7%8D%E5%85%B7%E6%9C%89%E4%B8%8D%E5%90%8C%E9%A2%9C%E8%89%B2%E3%80%81%E9%9D%A2%E9%83%A8%E7%AD%89%E7%9A%84%E6%9C%BA%E5%99%A8%E4%BA%BA" alt=""></td><td>ä¸€ç§å…·æœ‰ä¸åŒé¢œè‰²ã€é¢éƒ¨ç­‰çš„æœºå™¨äºº</td></tr><tr><td align="center"><code>hide</code></td><td align="center"></td><td>ä¸æ˜¾ç¤ºå¤´åƒ</td></tr></tbody></table><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">Valine</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token operator">...</span>    avatar<span class="token punctuation">:</span><span class="token string">''</span> <span class="token comment" spellcheck="true">// (''/mp/identicon/monsterid/wavatar/robohash/retro/hide)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><hr><p><strong>Gravataræ˜¯ä»€ä¹ˆï¼Ÿ</strong>           â€”â€”ä¸‹é¢å†…å®¹æ‘˜æŠ„è‡ª<a href="https://www.iplaysoft.com/gravatar.html" target="_blank" rel="noopener">å¼‚æ¬¡å…ƒè½¯ä»¶ä¸–ç•Œ</a></p><p><code>Gravatar</code>ï¼Œå®ƒçš„å…¨ç§°å«åšâ€œGlobally Recognized Avatarâ€ï¼Œç¿»è¯‘è¿‡æ¥å«åšå…¨çƒé€šç”¨å¤´åƒã€‚</p><p>Gravatar çš„æ¦‚å¿µé¦–å…ˆæ˜¯åœ¨å›½å¤–çš„ç‹¬ç«‹ <a href="https://wordpress.com/" target="_blank" rel="noopener">WordPress</a> åšå®¢ä¸­å…´èµ·çš„ï¼Œå½“ä½ åˆ°ä»»ä½•ä¸€ä¸ªæ”¯æŒGravatarçš„ç½‘ç«™ç•™è¨€æ—¶ï¼Œè¿™ä¸ªç½‘ç«™éƒ½å°±ä¼šæ ¹æ®ä½ æ‰€æä¾›çš„ Email åœ°å€ä¸ºä½ æ˜¾ç¤ºå‡ºåŒ¹é…çš„å¤´åƒã€‚å½“ç„¶ï¼Œè¿™ä¸ªå¤´åƒï¼Œæ˜¯éœ€è¦ä½ äº‹å…ˆåˆ° Gravatar çš„ç½‘ç«™æ³¨å†Œå¹¶ä¸Šä¼ çš„ï¼Œå¦åˆ™ï¼Œåœ¨è¿™ä¸ªç½‘ç«™ä¸Šï¼Œå°±åªä¼šæ˜¾ç¤ºæˆä¸€ä¸ªé»˜è®¤çš„å¤´åƒã€‚</p><p>è¿™ä¸ªWeb2.0æ—¶ä»£çš„äº§ç‰©ï¼Œå½“æ—¶å¥½å¤šç½‘ç«™å‡å·²æ”¯æŒGravataræœåŠ¡äº†ï¼Œä½ å¯ä»¥é€šè¿‡ä½ çš„ä¸ªæ€§å¤´åƒæ‰“é€ èµ·ä½ çš„ä¸ªäººå“ç‰Œäº†ï¼å¹¶ä¸”è¿™ä¸ª Gravatar æ²¡æœ‰ä»€ä¹ˆçº¦æŸï¼Œæƒ³æ¢å¤´åƒæ¢é©¬ç”²ï¼Ÿå¾ˆç®€å•ï¼Œæ”¹æ”¹ç•™è¨€çš„åå­—å’Œemailåœ°å€å°±å¯ä»¥äº†ã€‚å¦å¤–æ³¨å†Œä¸ä½¿ç”¨ Gravatar å‡æ˜¯å®Œå…¨å…è´¹çš„ï¼Œå”¯ä¸€çš„é—¨æ§›æ˜¯ï¼Œå›½å†…å¯èƒ½æ— æ³•æ­£å¸¸è®¿é—®ã€‚</p><hr><p>å¤§è‡´ä½¿ç”¨æµç¨‹ï¼š</p><ol><li>æ³¨å†Œï¼šè¿›å…¥<a href="https://cn.gravatar.com/" target="_blank" rel="noopener">Gravatarç½‘ç«™</a>ï¼Œç‚¹å‡»é¡µé¢çš„Sign Upè¿›è¡Œæ³¨å†Œã€‚</li><li>éªŒè¯ï¼šè¿›å…¥ä½ çš„é‚®ç®±ï¼Œä»<code>Gravatar</code>å‘å‡ºçš„ä¿¡ä»¶ä¸­æ‹·è´é‚£æ®µé“¾æ¥åœ°å€ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥ã€‚</li><li>è®¾ç½®æ˜µç§°ã€å¯†ç ã€‚</li><li>é€‰æ‹©ä¸Šä¼ å›¾ç‰‡ï¼šä¸€èˆ¬éƒ½æ˜¯ä»ç”µè„‘ä¸­ä¸Šä¼ ï¼ˆMy computerâ€™s hard driveï¼‰ã€‚</li><li>å‰ªè£å¤§å°</li><li>è¯„çº§ï¼šä½ çš„å¤´åƒè¦è¢«åˆ†çº§çš„ï¼Œå› ä¸ºå¯èƒ½ä¼šæœ‰æœ‹å‹å–œæ¬¢ç”¨æ¯”è¾ƒæ›éœ²çš„å¤´åƒï¼Œä¼šå½±å“å°æœ‹å‹èº«å¿ƒå¥åº·çš„è¯´ã€‚å¦‚æœä½ çš„å›¾ç‰‡ä¸æ˜¯ç‰¹åˆ«é‚£ä¸ªçš„è¯ï¼Œä¸€èˆ¬ä¸ç”¨é€‰æ‹©Sexæˆ–æš´åŠ›ä¹‹ç±»çš„ï¼Œç›´æ¥é€‰æ‹©Gï¼ˆé€šç”¨å‹ï¼‰ï¼Œè¿™æ ·åŸºæœ¬ä»»ä½•ç½‘ç«™éƒ½èƒ½æ˜¾ç¤ºè¿™ä¸ªç­‰çº§çš„å›¾ç‰‡ã€‚å¼‚æ¬¡å…ƒæ¯”è¾ƒé‚ªæ¶ï¼Œæš‚æ—¶å…è®¸æ˜¾ç¤ºRçº§ä»¥ä¸‹çš„å¤´åƒâ€¦</li><li>ç­‰å¾…å®¡æ ¸ï¼šå¯èƒ½éœ€è¦ç«™æ–¹çŸ­æš‚å®¡æ ¸ä¸€ä¸‹ï¼Œä¸€èˆ¬é€‰æ‹©äº†Gï¼Œè€Œä½ çš„å›¾ç‰‡æ²¡ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œå¾ˆå¿«å°±é€šè¿‡ã€‚ä¸€èˆ¬é‡ä¸Šæ…¢çš„æƒ…å†µä¹Ÿå°±10åˆ†é’Ÿå·¦å³ã€‚</li></ol><p>å®Œæˆäº†ä»¥ä¸Šæ­¥éª¤ï¼Œä»Šååœ¨æ”¯æŒ<code>Gravatar</code>çš„ç½‘ç«™ç•™è¨€éƒ½ä¼šæ˜¾ç¤ºä½ å¸…å¸…çš„å¤´åƒäº†ã€‚æš‚æ—¶æ¥è¯´ï¼Œå¤§éƒ¨åˆ†æ”¯æŒGravatarçš„ç½‘ç«™å‡æ˜¯ä½¿ç”¨ WordPress ç¨‹åºçš„åšå®¢ï¼Œä½†å…¶å®ä»»ä½•å…¶ä»–ç½‘ç«™ç¨‹åºï¼Œå¦‚æœåŠ å…¥äº†Gravatarçš„ä»£ç ï¼Œä¹Ÿæ˜¯å¯ä»¥æ”¯æŒGravatarçš„ã€‚ä¼°è®¡è¿™ä¸ªåº”ç”¨åœ¨æ—¥åä¼šæ¸æ¸æ™®åŠèµ·æ¥å§ï¼Œèµ·ç ç”¨æˆ·ä¸éœ€è¦æ¯åˆ°ä¸€ä¸ªç½‘ç«™å»å°±æä¸€ä¸‹å¤´åƒâ€¦â€¦</p><p><strong>Valineçš„ä¸ªæ€§å¤´åƒå°±æ˜¯æ¥è‡ª<a href="https://cn.gravatar.com/" target="_blank" rel="noopener">Gravatarç½‘ç«™</a></strong></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Valine </tag>
            
            <tag> Valine-Admin </tag>
            
            <tag> Leancloud </tag>
            
            <tag> è¯„è®ºç³»ç»Ÿ </tag>
            
            <tag> Gravatar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoï¼šè¯­é›€äº‘ç«¯å†™ä½œ Github Actions æŒç»­é›†æˆ</title>
      <link href="/hexo-github-actions-yuque/"/>
      <url>/hexo-github-actions-yuque/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ç« ä¸ºåŸåˆ›å†…å®¹ï¼Œåªå‘å¸ƒäºæœ¬åšå®¢å’Œ<a href="https://blog.csdn.net/z_johnny" target="_blank" rel="noopener">æˆ‘çš„CSDNåšå®¢</a>ï¼Œè½¬è½½è¯·æ³¨æ˜ï¼Œè°¢è°¢</p><p>ä½¿ç”¨ Hexo é™æ€åšå®¢ç½‘ç«™å‘è¡¨æ–‡ç« ï¼Œéœ€è¦</p><ol><li>æœ¬åœ°ä»¥Markdownçš„å½¢å¼å†™å¥½æ–‡ç« </li><li>å€ŸåŠ© Hexo ç”Ÿæˆé™æ€é¡µé¢</li><li>éƒ¨ç½²åˆ°äº‘ä¸»æœºæˆ–è€…é€šè¿‡ git åˆ°æ‰˜ç®¡å¹³å°</li></ol><p>æ—¢ç„¶è¦æœ¬åœ°å€ŸåŠ© <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> ç”Ÿæˆé™æ€é¡µé¢ï¼Œé‚£å°±éœ€è¦è®¾ç½® <a href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a> ç¯å¢ƒå’Œåšå®¢æºç ï¼Œè™½ç„¶ç¯å¢ƒè®¾ç½®ç®€å•ï¼Œæºç ä»Githubã€codingã€giteeã€gitlabç­‰åœ°æ–¹ä¸‹è½½æ–¹ä¾¿ï¼Œä½†æ˜¯åœ¨æ¢ç”µè„‘ä¹‹åï¼Œåˆè¦é‡å¤ç›¸åŒçš„äº‹æƒ…ï¼Œè¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œå‰ä¸€é˜µæˆ‘ç”¨ <a href="https://www.docker.com/" target="_blank" rel="noopener">docker</a>   å°†æˆ‘çš„åšå®¢æºç æ‰“åŒ…æˆé•œåƒç•™å­˜ä¸‹æ¥ï¼Œä¹Ÿæ˜¯é¢ä¸´åŒæ ·çš„é—®é¢˜ï¼Œå°±æ˜¯æ¢ç”µè„‘åè¿˜è¦å®‰è£… <code>docker</code> å’Œ <code>docker-compose</code>ï¼Œä¹Ÿæ˜¯éº»çƒ¦ã€‚<br /><hr><br />å½“æˆ‘é‡è§äº† <a href="https://help.github.com/en/actions/getting-started-with-github-actions/about-github-actions" target="_blank" rel="noopener">Github Actions</a> å’Œ <a href="https://github.com/x-cold/yuque-hexo" target="_blank" rel="noopener">yuque-hexo</a> åï¼Œä¸€åˆ‡éƒ½å‘ç”Ÿäº†å˜åŒ–<br /><hr><br />ç®€å•æ¥è¯´å°±æ˜¯</p><blockquote><p>ç”± Hexo + è¯­é›€ + yuque-hexo + Github Actions + web hook + severless æ‰“é€ çš„æŒç»­é›†æˆä¸ªäººåšå®¢</p></blockquote><blockquote><p>è‡³äºæ‰˜ç®¡å¹³å°ï¼ŒGithub Pages or Coding Pages or VPS or Otherï¼Œè‡ªè¡Œé€‰æ‹©ã€‚</p></blockquote><ul><li>Github ä¿å­˜åšå®¢æºç ï¼Œç§æœ‰åº“å·²ç»å…è´¹ï¼Œè¿˜åœ¨ç”¨<code>Travis CI</code>ï¼Ÿéå¼€æºçš„ç§æœ‰é¡¹ç›®æƒ³åœ¨ <code>Travis CI</code> ä¸Šæ„å»ºä»·æ ¼è¿˜æ˜¯éå¸¸æ„Ÿäººçš„!</li><li><a href="https://help.github.com/en/actions/getting-started-with-github-actions/about-github-actions" target="_blank" rel="noopener">Github Actions</a> æ˜¯ <a href="https://github.com/" target="_blank" rel="noopener">Github</a> æ¨å‡ºçš„ä¸€æ¬¾æŒç»­é›†æˆå·¥å…·ï¼Œ<strong>å®Œå…¨å…è´¹</strong></li><li><a href="https://www.yuque.com/" target="_blank" rel="noopener">è¯­é›€</a> æ˜¯é˜¿é‡Œäººéƒ½åœ¨ç”¨çš„ç¬”è®°ä¸æ–‡æ¡£çŸ¥è¯†åº“ï¼Œä¸“ä¸šçš„äº‘ç«¯çŸ¥è¯†åº“ï¼Œæ”¯æŒ<code>web hook</code></li><li><a href="https://github.com/x-cold/yuque-hexo" target="_blank" rel="noopener">yuque-hexo</a> æ˜¯ <a href="https://github.com/" target="_blank" rel="noopener">Github</a> ä¸Šå¼€æºçš„ä¸€æ¬¾è¯­é›€çŸ¥è¯†åº“åŒæ­¥å·¥å…·</li><li><code>severless</code> æ˜¯äº‘å‡½æ•°ï¼Œå½“å‰ <a href="https://cloud.tencent.com/product/scf/" target="_blank" rel="noopener">è…¾è®¯äº‘å‡½æ•°</a> å’Œ <a href="https://help.aliyun.com/document_detail/139203.html?spm=a2c4g.11186623.6.554.7fd95582eHBmAz" target="_blank" rel="noopener">é˜¿é‡Œäº‘å‡½æ•°</a>éƒ½å¯ä»¥å…è´¹æä¾›ï¼Œå¯¹äºåšå®¢ï¼Œå…è´¹é¢åº¦è¶³å¤Ÿäº†ï¼Œå¯ä»¥å¯¹æ¯”ä¸€ä¸‹è´¹ç”¨è‡ªè¡Œé€‰æ‹©</li></ul><p><a name="026e76ab"></a></p><h1 id="å…³äº-Hexo"><a href="#å…³äº-Hexo" class="headerlink" title="å…³äº Hexo"></a>å…³äº Hexo</h1><p><a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> æ˜¯ä¸€æ¬¾åŸºäº <a href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a> çš„é™æ€åšå®¢æ¡†æ¶ï¼Œå…¶å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆã€‚æ²¡æœ‰æ•°æ®åº“å’Œåå°çš„æ¦‚å¿µã€‚</p><ul><li>è¶…å¿«é€Ÿåº¦ï¼Œ<code>Node.js</code> æ‰€å¸¦æ¥çš„è¶…å¿«ç”Ÿæˆé€Ÿåº¦ï¼Œè®©ä¸Šç™¾ä¸ªé¡µé¢åœ¨å‡ ç§’å†…ç¬é—´å®Œæˆæ¸²æŸ“ã€‚</li><li><code>Hexo</code> æ”¯æŒ <code>GitHub</code> <code>Flavored</code> <code>Markdown</code> çš„æ‰€æœ‰åŠŸèƒ½ï¼Œç”šè‡³å¯ä»¥æ•´åˆ <code>Octopress</code> çš„å¤§å¤šæ•°æ’ä»¶ã€‚</li><li>ä¸€é”®éƒ¨ç½²ï¼Œåªéœ€ä¸€æ¡æŒ‡ä»¤å³å¯éƒ¨ç½²åˆ° <code>GitHub Pages, Heroku</code> æˆ–å…¶ä»–å¹³å°ã€‚</li><li>æ’ä»¶å’Œå¯æ‰©å±•æ€§ï¼Œå¼ºå¤§çš„ API å¸¦æ¥æ— é™çš„å¯èƒ½ï¼Œä¸æ•°ç§æ¨¡æ¿å¼•æ“ï¼ˆEJSï¼ŒPugï¼ŒNunjucksï¼‰å’Œå·¥å…·ï¼ˆBabelï¼ŒPostCSSï¼ŒLess/Sassï¼‰è½»æ˜“é›†æˆ</li></ul><p><a name="74775b29"></a></p><h1 id="å…³äº-Github-Actions"><a href="#å…³äº-Github-Actions" class="headerlink" title="å…³äº Github Actions"></a>å…³äº Github Actions</h1><p>ä¸å¦¨å…ˆå»äº†è§£ä¸€ä¸‹</p><p><a href="https://help.github.com/cn/actions/getting-started-with-github-actions/about-github-actions" target="_blank" rel="noopener">About GitHub Actions</a></p><p><a href="http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html" target="_blank" rel="noopener">GitHub Actions å…¥é—¨æ•™ç¨‹</a></p><p><a href="https://juejin.im/post/5be191736fb9a049de6cd463" target="_blank" rel="noopener">[è¯‘] GitHub Actions ä»‹ç»ï¼Œäº†è§£ä¸€ä¸‹ï¼Ÿ</a></p><p>æˆ‘çš„<a href="https://www.zhwei.cn/categories/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%92%8C%E4%BA%A4%E4%BB%98">åšå®¢ æŒç»­é›†æˆå’Œäº¤ä»˜ ä¸“æ </a> æœ‰å®ä¾‹å¯ä»¥å»å‚è€ƒä¸€ä¸‹ï¼Œåç»­è¿˜ä¼šç»§ç»­æ›´æ–°ã€‚</p><p>æˆ–è€… <a href="https://blog.csdn.net/z_johnny/category_6218500.html" target="_blank" rel="noopener">æˆ‘çš„ CSDN åšå®¢</a></p><p><a name="repository_dispatch"></a></p><h2 id="repository-dispatch"><a href="#repository-dispatch" class="headerlink" title="repository_dispatch"></a>repository_dispatch</h2><p><strong>ä¹‹æ‰€ä»¥æœ‰äº†è¿™ç¯‡æ–‡ç« æ˜¯å› ä¸ºæˆ‘çœ‹åˆ°äº†<code>Github Actions</code>ä¸­çš„å¤–éƒ¨äº‹ä»¶<code>repository_dispatch</code></strong></p><ul><li><a href="https://help.github.com/en/actions/reference/events-that-trigger-workflows" target="_blank" rel="noopener">Github Help å…³äº repository_dispatch</a></li><li><a href="https://developer.github.com/v3/activity/events/types/#repositorydispatchevent" target="_blank" rel="noopener">RepositoryDispatchEvent</a></li><li><a href="https://developer.github.com/v3/repos/#create-a-repository-dispatch-event" target="_blank" rel="noopener">Create a repository dispatch event</a></li><li><a href="https://blog.marcnuri.com/triggering-github-actions-across-different-repositories/" target="_blank" rel="noopener">Triggering GitHub Actions across different repositories</a></li><li><a href="https://medium.com/@christinavhastenrath/how-to-run-github-actions-manually-afebbe77d325" target="_blank" rel="noopener">How to run GitHub Actions manually</a></li><li><a href="http://www.btellez.com/posts/triggering-github-actions-with-webhooks.html" target="_blank" rel="noopener">Setting up Webhooks for Github Actions</a></li></ul><p>GitHub Actionsæ”¯æŒçš„å¤–éƒ¨äº‹ä»¶<code>repository_dispatch</code> å¿…é¡»å…·æœ‰ä»¥ä¸‹è¯·æ±‚å¤´ï¼š</p><pre class=" language-bash"><code class="language-bash">curl -X POST https://api.github.com/repos/:owner/:repo/dispatches \    -H <span class="token string">'Accept: application/vnd.github.everest-preview+json'</span> \    -H <span class="token string">"Authorization: token GITHUB_PERSONAL_ACCESS_TOKEN"</span> \    -d <span class="token string">'{"event_type":"start"}'</span></code></pre><p>å¦‚æœè¿”å›çš„ Response æ˜¯ <code>Status: 204 No Content</code>ï¼Œé‚£å°±æ˜¯æˆåŠŸäº†ï¼Œå» Github ä¸­çœ‹ä¸€çœ‹ï¼Œäº‹ä»¶å·²ç»è¢«è§¦å‘ï¼Œè¿™ä¸ªå¯ä»¥ä½¿ç”¨ postman æµ‹è¯•ä¸€ä¸‹<br /><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/postman.png" alt=""></p><p>æ³¨æ„ï¼ŒAccept å…·æœ‰<code>application/vnd.github.everest-preview+json</code>è‡ªå®šä¹‰åª’ä½“ç±»å‹å€¼ã€‚<br />è¯­é›€ä¸­çš„<code>Web Hook</code>æ˜¯ä¸èƒ½æ·»åŠ è¯·æ±‚å¤´çš„ï¼Œæ‰€æœ‰æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªä¸­é—´ä»¶æŠŠä»–ä»¬è¿æ¥èµ·æ¥ï¼Œè¿™ä¸ªå°±æ˜¯<code>serverlessäº‘å‡½æ•°</code></p><p><a name="af51c8c2"></a></p><h1 id="å…·ä½“æµç¨‹"><a href="#å…·ä½“æµç¨‹" class="headerlink" title="å…·ä½“æµç¨‹"></a>å…·ä½“æµç¨‹</h1><ol><li>Hexo åšå®¢æ­å»ºå¥½ï¼Œå°†æºç ä¸Šä¼ åˆ° Githubï¼Œç§æœ‰è¿˜æ˜¯å…¬æœ‰åº“éƒ½å¯ä»¥</li><li>åœ¨ Github ä¸­å¼€å¯ Github Actions æœåŠ¡ï¼Œé…ç½® yaml æ ¼å¼çš„ deploy è„šæœ¬</li><li>æ³¨å†Œè¯­é›€ï¼Œåˆ›å»ºçŸ¥è¯†åº“å¹¶å‘å¸ƒä¸€ç¯‡æ–‡ç« ï¼Œå¿…é¡»å‘å¸ƒè¿‡æ–‡ç« ï¼Œå› ä¸º yuque-hexo ä¼šåˆ é™¤ _posts æ–‡ä»¶å¤¹</li><li>ç¼–å†™ serverless å‡½æ•°ï¼Œæµ‹è¯•å¯ä»¥è§¦å‘ Github Actionsï¼Œè·å–è§¦å‘åœ°å€</li><li>é…ç½®è¯­é›€çš„ webhookï¼Œä½¿å…¶å¯è°ƒç”¨ serverless å‡½æ•°</li><li>è¯­é›€ç¼–å†™æ–‡ç« åè§¦å‘ Github Actions å®ç° Hexo çš„è‡ªåŠ¨éƒ¨ç½²ï¼Œç”Ÿæˆé™æ€æ–‡ä»¶å¹¶å‘å¸ƒ<br /></li></ol><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/G4.png" alt=""></p><p><strong>ä¸‹é¢ä»¥Github Actionså°†Hexoç”Ÿæˆçš„é™æ€é¡µé¢æ¨é€åˆ°Github Pagesä¸¾ä¾‹</strong><br><a name="d47f981f"></a></p><h2 id="åˆ›å»º-Github-Pages"><a href="#åˆ›å»º-Github-Pages" class="headerlink" title="åˆ›å»º Github Pages"></a>åˆ›å»º Github Pages</h2><ol><li>ç™»å½•github</li><li>åˆ›å»ºé¡¹ç›®ï¼Œé¡¹ç›®åå­—<code>username.github.io</code>ï¼Œå¿…é¡»ä¸ºå…¬å¼€åº“</li></ol><p><a name="700947b4"></a></p><h2 id="åˆ›å»º-Hexo-åšå®¢å¹¶é…ç½®"><a href="#åˆ›å»º-Hexo-åšå®¢å¹¶é…ç½®" class="headerlink" title="åˆ›å»º Hexo åšå®¢å¹¶é…ç½®"></a>åˆ›å»º Hexo åšå®¢å¹¶é…ç½®</h2><p>å¯å‚è€ƒï¼š</p><ul><li><a href="https://segmentfault.com/a/1190000017986794" target="_blank" rel="noopener">è¶…è¯¦ç»†Hexo+Github Pageæ­å»ºæŠ€æœ¯åšå®¢æ•™ç¨‹ã€æŒç»­æ›´æ–°ã€‘</a></li><li><a href="https://www.jianshu.com/p/23e9e27eb437" target="_blank" rel="noopener">Hexo + GitHub æ­å»ºä¸ªäººåšå®¢</a></li><li>æ•™ç¨‹éå¸¸å¤šï¼Œå–„ç”¨æœç´¢</li></ul><p>é…ç½®å®Œæˆï¼Œæœ¬åœ°é¢„è§ˆè¾¾åˆ°è‡ªå·±æ»¡æ„ï¼Œç¼–å†™æ–‡ç« å‘å¸ƒä¸€åˆ‡æå®šåå°±èƒ½ç»§ç»­äº†ã€‚</p><p><a name="b7701ede"></a></p><h2 id="åˆ›å»º-Github-æºç ä»“åº“"><a href="#åˆ›å»º-Github-æºç ä»“åº“" class="headerlink" title="åˆ›å»º Github æºç ä»“åº“"></a>åˆ›å»º Github æºç ä»“åº“</h2><p>åœ¨ github ä¸Šåˆ›å»ºå­˜æ”¾ Hexo æºç çš„ä»“åº“ï¼Œæ­¤ä»“åº“å’Œ Pages ä¸æ˜¯ä¸€ä¸ªä»“åº“ï¼Œå¹¶å°†æºç  push åˆ°æ­¤ä»“åº“</p><blockquote><p>ç§æœ‰åº“å’Œå…¬å¼€åº“éƒ½å¯ä»¥ï¼Œæ”¾åœ¨ Pages ä»“åº“å…¶ä»–åˆ†æ”¯ä¹Ÿè¡Œï¼Œæœ¬æ•™ç¨‹æ˜¯åŸºäºå•ç‹¬çš„ Hexo æºç ä»“åº“</p></blockquote><p><a name="9e5c7d9b"></a></p><h2 id="é…ç½®-Github-Actions-è„šæœ¬"><a href="#é…ç½®-Github-Actions-è„šæœ¬" class="headerlink" title="é…ç½® Github Actions è„šæœ¬"></a>é…ç½® Github Actions è„šæœ¬</h2><p>ä¸¤ç§æ–¹æ³•é…ç½®ï¼Œå†…å®¹ä¸€æ ·</p><ol><li>åœ¨Hexoæºç ä»“åº“çš„é¡µé¢é€‰æ‹©<code>Actions--&gt;Set up a workflow yourself</code>ï¼Œè¿›è¡Œç½‘é¡µç¼–å†™</li><li>åœ¨æœ¬åœ°ç¯å¢ƒæ ¹ç›®å½•åˆ›å»º<code>.github/workflows</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ”¾å†™å¥½çš„yamlè„šæœ¬</li></ol><p>è„šæœ¬æˆ‘ä»¥ä¸€ç§ä¸¾ä¾‹ï¼Œå…¶ä»–æ–¹æ³•åŒæ ·å¯ä»¥å®ç°ï¼Œè¯·æŸ¥çœ‹<a href="https://www.zhwei.cn/">æˆ‘çš„åšå®¢</a></p><p>å¦‚</p><ul><li><a href="https://www.zhwei.cn/github-actions-deploy-hexo-ssh/">Github Actionsï¼šé€šè¿‡ SSH è‡ªåŠ¨éƒ¨ç½² Hexo</a></li><li><a href="https://www.zhwei.cn/github-actions-deploy-hexo-api/">Github Actionsï¼šé€šè¿‡ API è‡ªåŠ¨éƒ¨ç½² Hexo</a></li></ul><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># workflow name</span><span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy To Github Pages<span class="token comment" spellcheck="true"># å½“æœ‰ push åˆ°ä»“åº“å’Œå¤–éƒ¨è§¦å‘çš„æ—¶å€™å°±è¿è¡Œ</span><span class="token key atrule">on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>push<span class="token punctuation">,</span> repository_dispatch<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># YUQUE_TOKEN</span><span class="token comment" spellcheck="true"># Github_SSH_PRIVATE_KEY</span><span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">deploy</span><span class="token punctuation">:</span>     <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy Hexo Public To Pages    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest     <span class="token key atrule">env</span><span class="token punctuation">:</span>      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai        <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># check it to your workflow can access it</span>    <span class="token comment" spellcheck="true"># from: https://github.com/actions/checkout</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout Repository master branch      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master     <span class="token comment" spellcheck="true"># from: https://github.com/actions/setup-node  </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js 10.x       <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@master      <span class="token key atrule">with</span><span class="token punctuation">:</span>        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">"10.x"</span>    <span class="token comment" spellcheck="true"># from https://github.com/x-cold/yuque-hexo</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Hexo Dependencies and Generate Public Files      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">YUQUE_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.YUQUE_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        npm install hexo-cli -g        npm install yuque-hexo -g        npm install        npm run start</span>    <span class="token comment" spellcheck="true"># from https://github.com/peaceiris/actions-gh-pages    </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy      <span class="token key atrule">uses</span><span class="token punctuation">:</span> peaceiris/actions<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>pages@v3        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">deploy_key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.Github_SSH_PRIVATE_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span>          <span class="token key atrule">external_repository</span><span class="token punctuation">:</span> ç”¨æˆ·å/ä»“åº“          <span class="token key atrule">publish_branch</span><span class="token punctuation">:</span> master          <span class="token key atrule">publish_dir</span><span class="token punctuation">:</span> ./public          <span class="token key atrule">commit_message</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.event.head_commit.message <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>è¿™ä¸ªè„šæœ¬å®ç°äº†å‘å¸ƒ Hexo çš„ Public åˆ° Pagesï¼Œè¿™åªæ˜¯ä¸€ç§æ–¹æ³•ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <a href="https://www.zhwei.cn/github-actions-deploy-hexo-ssh/">hexo d</a> ã€<a href="https://www.zhwei.cn/github-actions-deploy-hexo-api/">API</a>ã€<a href="https://github.com/JamesIves/github-pages-deploy-action" target="_blank" rel="noopener">github-pages-deploy-action</a>ç­‰å½¢å¼è¿›è¡Œå‘å¸ƒã€‚</p><p>ä½†æ˜¯ç°åœ¨ä½ è¿˜ä¸èƒ½è¿è¡Œï¼Œå› ä¸ºé‡Œé¢çš„éšè—å‚æ•°è¿˜æ²¡æœ‰è®¾ç½®<br /><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/G7.png" alt=""></p><table><thead><tr><th align="center">å‚æ•°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">YUQUE_TOKEN</td><td align="left">ä»è¯­é›€è·å–çš„TOKENï¼Œè¯­é›€ä¸Šç‚¹å‡»ä¸ªäººå¤´åƒ â€“&gt; è®¾ç½® â€“&gt; Token å³å¯è·å–ï¼Œè¦åœ¨Hexoæºä»“åº“çš„Settingsâ€“&gt;Secretsä¸­è¿›è¡Œæ·»åŠ ï¼Œå¯¹é‡è¦ä¿¡æ¯è¿›è¡Œä¿å¯†</td></tr><tr><td align="center">Github_SSH_PRIVATE_KEY</td><td align="left">æ˜¯<code>SSH-Key</code>å¯†é’¥ä¸­çš„ç§é’¥ï¼Œéœ€è¦åœ¨<code>Secrets</code>ä¸­è¿›è¡Œæ·»åŠ ï¼Œå…¬é’¥ï¼ˆ.pubï¼‰å·²ç»å­˜å‚¨åœ¨ Github ä¸­</td></tr></tbody></table><br /><p><a name="EAQEE"></a></p><h2 id="é…ç½®è…¾è®¯serverlessäº‘å‡½æ•°"><a href="#é…ç½®è…¾è®¯serverlessäº‘å‡½æ•°" class="headerlink" title="é…ç½®è…¾è®¯serverlessäº‘å‡½æ•°"></a>é…ç½®è…¾è®¯serverlessäº‘å‡½æ•°</h2><ol><li>ç™»å½•è…¾è®¯äº‘ï¼Œæœç´¢äº‘å‡½æ•°ï¼Œåˆ›å»º</li><li>é€‰æ‹© <code>python</code>ï¼Œ2.7 å’Œ 3.6 éƒ½è¡Œï¼Œç©ºç™½å‡½æ•°</li><li>è¿è¡Œè§’è‰²ï¼Œ<code>SCF_QcsRole</code>å³å¯</li><li>æ³¨æ„æ‰§è¡Œæ–¹æ³•ï¼Œæœ‰å¼ºåˆ¶è¦æ±‚</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/G1.png" alt=""><br /><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/G2.png" alt=""></p><p>è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯python 2.7</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf8 -*-</span><span class="token keyword">import</span> requests<span class="token keyword">def</span> <span class="token function">main_handler</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">:</span>    r <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">"https://api.github.com/repos/ç”¨æˆ·å/ä»“åº“å/dispatches"</span><span class="token punctuation">,</span>    json <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"event_type"</span><span class="token punctuation">:</span> <span class="token string">"start"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"User-Agent"</span><span class="token punctuation">:</span><span class="token string">'curl/7.52.1'</span><span class="token punctuation">,</span>              <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>              <span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/vnd.github.everest-preview+json'</span><span class="token punctuation">,</span>              <span class="token string">'Authorization'</span><span class="token punctuation">:</span> <span class="token string">'token Githubè®¿é—®Token'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> r<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">204</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"This's OK!"</span>     <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> r<span class="token punctuation">.</span>status_code</code></pre><p>åœ¨å‡½æ•°ä»£ç ä¸­æµ‹è¯•ä¸€ä¸‹ï¼Œå¦‚æœActionsæ­£å¸¸è§¦å‘ï¼Œå¤§åŠŸå‘Šæˆ<br />5. é…ç½®è§¦å‘æ–¹å¼ï¼Œä¿å­˜ï¼Œè·å–åˆ° <strong>è®¿é—®è·¯å¾„</strong>ï¼Œåé¢è¦ç”¨åˆ°</p><ul><li>è§¦å‘æ–¹å¼ï¼šAPIç½‘å…³è§¦å‘å™¨</li><li>APIæœåŠ¡ç±»å‹ï¼šæ–°å»ºAPIæœåŠ¡</li><li>APIæœåŠ¡ï¼šSCF_API_SERVICE</li><li>è¯·æ±‚æ–¹æ³•ï¼šANY</li><li>å‘å¸ƒç¯å¢ƒï¼šå‘å¸ƒ</li><li>é‰´æƒæ–¹æ³•ï¼šå…é‰´æƒ</li><li>å¯åŠ¨é›†æˆå“åº”ï¼šæœªå¯ç”¨</li></ul><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/G3.png" alt=""><br /><br><a name="30dee548"></a></p><h2 id="é…ç½®è¯­é›€"><a href="#é…ç½®è¯­é›€" class="headerlink" title="é…ç½®è¯­é›€"></a>é…ç½®è¯­é›€</h2><p><a name="715403f7"></a></p><h3 id="è¯­é›€ä¸Š"><a href="#è¯­é›€ä¸Š" class="headerlink" title="è¯­é›€ä¸Š"></a>è¯­é›€ä¸Š</h3><ol><li>æ³¨å†Œï¼Œç™»å½•</li><li>åˆ›å»ºçŸ¥è¯†åº“â€“&gt;æ–‡æ¡£çŸ¥è¯†åº“â€“&gt;å¯è§èŒƒå›´ä¸ºäº’è”ç½‘å¯è§</li><li>å·¥ä½œå°â€“&gt;çŸ¥è¯†åº“â€“&gt;æ‰¾åˆ°æ–°åˆ›å»ºçš„çŸ¥è¯†åº“ï¼Œç®¡ç†â€“&gt;è®¾ç½®â€“&gt;è·¯å¾„è¿›è¡Œè‡ªå®šä¹‰ï¼Œåé¢æœ‰ç”¨</li></ol><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/G5.png" alt=""><br /></p><ol start="4"><li>å·¥ä½œå°â€“&gt;çŸ¥è¯†åº“â€“&gt;æ‰¾åˆ°æ–°åˆ›å»ºçš„çŸ¥è¯†åº“ï¼Œç®¡ç†â€“&gt;è®¾ç½®â€“&gt;å¼€å‘è€…â€“&gt;åç§°ä»»æ„ã€‚URLä¸ºäº‘å‡½æ•°çš„åœ°å€ï¼Œå³ä¸Šé¢è·å–åˆ°çš„ <strong>è®¿é—®è·¯å¾„</strong></li></ol><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/G6.png" alt=""><br /></p><p>æƒé™å»ºè®®é€‰æ‹©</p><ul><li>ä»…ä¸»åŠ¨æ¨é€æ›´æ–°è§¦å‘ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰</li><li>å‘å¸ƒæ–‡æ¡£</li><li>æ›´æ–°æ–‡æ¡£</li><li>åˆ é™¤æ–‡æ¡£</li></ul><p><a name="03fb728b"></a></p><h3 id="hexoæºç ä¸Š"><a href="#hexoæºç ä¸Š" class="headerlink" title="hexoæºç ä¸Š"></a>hexoæºç ä¸Š</h3><p>å¯æœ¬åœ°æ›´æ–°å push æˆ–è€…ç›´æ¥åœ¨ github ç½‘é¡µä¿®æ”¹</p><p>å…ˆå®‰è£… <a href="https://github.com/x-cold/yuque-hexo" target="_blank" rel="noopener">yuque-hexo</a></p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> yuque-hexo --save</code></pre><p>ç¼–è¾‘<code>package.json</code>æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹</p><p>Npm è„šæœ¬ â€œstartâ€ å’Œ â€œyuqueConfigâ€ï¼Œå°†æ“ä½œå‘½ä»¤åˆå¹¶ä¸ºä¸€ä¸ªè„šæœ¬ï¼Œåªéœ€è¦æ‰§è¡Œ <code>npm run start</code>å³å¯å®Œæˆè¯­é›€çš„åŒæ­¥å’Œ Hexo çš„æ¸…ç†å’Œé™æ€æ–‡ä»¶ç”Ÿæˆ</p><pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span> ...  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"yuque-hexo clean &amp;&amp; yuque-hexo sync &amp;&amp; hexo clean &amp;&amp; hexo generate"</span><span class="token punctuation">,</span>    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"hexo generate"</span><span class="token punctuation">,</span>    <span class="token property">"clean"</span><span class="token operator">:</span> <span class="token string">"hexo clean"</span><span class="token punctuation">,</span>    <span class="token property">"deploy"</span><span class="token operator">:</span> <span class="token string">"hexo deploy"</span><span class="token punctuation">,</span>    <span class="token property">"server"</span><span class="token operator">:</span> <span class="token string">"hexo server"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> ...  <span class="token property">"yuqueConfig"</span><span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token property">"baseUrl"</span><span class="token operator">:</span> <span class="token string">"https://www.yuque.com/api/v2"</span><span class="token punctuation">,</span>    <span class="token property">"login"</span><span class="token operator">:</span> <span class="token string">"è¯­é›€ä¸ªäººè·¯å¾„"</span><span class="token punctuation">,</span>    <span class="token property">"repo"</span><span class="token operator">:</span> <span class="token string">"çŸ¥è¯†åº“åç§°"</span><span class="token punctuation">,</span>    <span class="token property">"mdNameFormat"</span><span class="token operator">:</span> <span class="token string">"title"</span><span class="token punctuation">,</span>    <span class="token property">"postPath"</span><span class="token operator">:</span> <span class="token string">"source/_posts"</span><span class="token punctuation">,</span>    <span class="token property">"onlyPublished"</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><a name="de9ad141"></a></p><h1 id="Come-on-å‘å¸ƒæ–‡ç« "><a href="#Come-on-å‘å¸ƒæ–‡ç« " class="headerlink" title="Come on å‘å¸ƒæ–‡ç« "></a>Come on å‘å¸ƒæ–‡ç« </h1><p>æ— è®ºæ˜¯å‘å¸ƒæ–°æ–‡ç« è¿˜æ˜¯æ›´æ–°åˆ é™¤ç­‰ç­‰æ“ä½œï¼Œåªè¦é€‰æ‹©<code>â€œæ–‡æ¡£æœ‰è¾ƒå¤§æ›´æ–°ï¼Œæ¨é€ç»™å…³æ³¨çŸ¥è¯†åº“çš„äººâ€</code>å³å¯è‡ªåŠ¨è§¦å‘<br /><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/G8.png" alt=""></p><hr><p><strong>ä¸‹é¢æ¨èäº†ä¸€ä¸‹æˆ‘çš„åšå®¢ä¸»é¢˜ï¼Œç®—æ˜¯å¹¿å‘Šå§~ï¼ï¼</strong></p><p><a name="0bff20e1"></a></p><h1 id="å…³äº-halo"><a href="#å…³äº-halo" class="headerlink" title="å…³äº halo"></a>å…³äº halo</h1><p>æœ¬äººç›®å‰ä½¿ç”¨çš„ä¸»é¢˜æ˜¯ <a href="https://github.com/hongweifuture/hexo-theme-halo" target="_blank" rel="noopener">hexo-theme-halo</a> ï¼Œè¿™æ˜¯ä¸€ä¸ªé‡‡ç”¨ <a href="https://material.io/" target="_blank" rel="noopener">Material Design</a> å’Œå“åº”å¼è®¾è®¡çš„ Hexo åšå®¢ä¸»é¢˜ã€‚ æ˜¯åšä¸»åŸºäº <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank" rel="noopener">hexo-theme-matery</a> ä¸»é¢˜ä¿®æ”¹è€Œæ¥ã€‚</p><p><a href="https://www.zhwei.cn/">ä¸»é¢˜æ¼”ç¤º</a></p><p><a name="c666ad11"></a></p><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ul><li>ç®€å•æ¼‚äº®ï¼Œæ–‡ç« å†…å®¹ç¾è§‚æ˜“è¯»</li><li><a href="https://material.io/" target="_blank" rel="noopener">Material Design</a> è®¾è®¡</li><li>åšå®¢åå­—åŠ¨æ€æ˜¾ç¤ºï¼Œæ–‡ç« ä¿¡æ¯ç»Ÿè®¡ç»Ÿé¡µé¢å±•ç¤º</li><li>å“åº”å¼è®¾è®¡ï¼Œåšå®¢åœ¨æ¡Œé¢ç«¯ã€å¹³æ¿ã€æ‰‹æœºç­‰è®¾å¤‡ä¸Šå‡èƒ½å¾ˆå¥½çš„å±•ç°</li><li>é¦–é¡µè½®æ’­æ–‡ç« åŠæ¯å¤©åŠ¨æ€åˆ‡æ¢ <code>Banner</code> å›¾ç‰‡ï¼Œé¦–é¡µè½®æ’­å›¾è®¾ç½®ä¸º70%é¡µé¢é«˜åº¦</li><li>é¦–é¡µ<code>subtitle</code>æ›¿æ¢æ‰“å­—æ•ˆæœï¼Œæ·»åŠ åŠ¨æ€è¯—è¯è‡ªåŠ¨åˆ‡æ¢ï¼Œ</li><li>ç€‘å¸ƒæµå¼çš„åšå®¢æ–‡ç« åˆ—è¡¨ï¼ˆæ–‡ç« æ— ç‰¹è‰²å›¾ç‰‡æ—¶ä¼šæœ‰ <code>24</code> å¼ æ¼‚äº®çš„å›¾ç‰‡ä»£æ›¿ï¼‰</li><li>æ—¶é—´è½´å¼çš„å½’æ¡£é¡µï¼Œ<code>å¢åŠ ç®€çº¦é£å½’æ¡£é¡µé¢</code></li><li>åˆ†ç±»é¡µã€æ ‡ç­¾é¡µå’Œ<code>æ ‡ç­¾äº‘</code>åŒä¸€é¡µé¢æ˜¾ç¤ºï¼Œé›†ä¸­å±•ç¤º</li><li>ä¸°å¯Œçš„å…³äºæˆ‘é¡µé¢ï¼ˆåŒ…æ‹¬å…³äºæˆ‘ã€æ–‡ç« ç»Ÿè®¡å›¾ã€æˆ‘çš„é¡¹ç›®ã€æˆ‘çš„æŠ€èƒ½ã€ç›¸å†Œç­‰å¯è‡ªå®šä¹‰ï¼‰</li><li>å¯è‡ªå®šä¹‰çš„æ•°æ®çš„å‹æƒ…é“¾æ¥é¡µé¢</li><li>æ”¯æŒæ–‡ç« ç½®é¡¶å’Œæ–‡ç« æ‰“èµ</li><li>ç±»ä¼¼äºPython Djangoä¸­<code>SLUG</code>ç”¨æ³•çš„urlname</li><li>æ”¯æŒ <code>MathJax</code></li><li><code>TOC</code> ç›®å½•</li><li>å¯è®¾ç½®å¤åˆ¶æ–‡ç« å†…å®¹æ—¶è¿½åŠ ç‰ˆæƒä¿¡æ¯</li><li>å¯è®¾ç½®é˜…è¯»æ–‡ç« æ—¶åšå¯†ç éªŒè¯</li><li><a href="https://gitalk.github.io/" target="_blank" rel="noopener">Gitalk</a>ã€<a href="https://imsun.github.io/gitment/" target="_blank" rel="noopener">Gitment</a>ã€<a href="https://valine.js.org/" target="_blank" rel="noopener">Valine</a> å’Œ <a href="https://disqus.com/" target="_blank" rel="noopener">Disqus</a> è¯„è®ºæ¨¡å—ï¼ˆæ¨èä½¿ç”¨ <code>Gitalk</code>ï¼‰</li><li>é›†æˆäº†<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">ä¸è’œå­ç»Ÿè®¡</a>ã€è°·æ­Œåˆ†æï¼ˆ<code>Google Analytics</code>ï¼‰å’Œæ–‡ç« å­—æ•°ç»Ÿè®¡ç­‰åŠŸèƒ½</li><li>æ”¯æŒåœ¨é¦–é¡µçš„éŸ³ä¹æ’­æ”¾å’Œè§†é¢‘æ’­æ”¾åŠŸèƒ½</li><li>æ”¯æŒ<code>emoji</code>è¡¨æƒ…ï¼Œç”¨<code>markdown emoji</code>è¯­æ³•ä¹¦å†™ç›´æ¥ç”Ÿæˆå¯¹åº”çš„èƒ½<strong>è·³è·ƒ</strong>çš„è¡¨æƒ…ã€‚</li><li>æ”¯æŒ <a href="http://www.daovoice.io/" target="_blank" rel="noopener">DaoVoice</a>ã€<a href="https://www.tidio.com/" target="_blank" rel="noopener">Tidio</a> åœ¨çº¿èŠå¤©åŠŸèƒ½ã€‚</li></ul><p><a name="f26ef914"></a></p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>å½“ä½ çœ‹åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œåº”è¯¥å·²ç»æœ‰ä¸€ä¸ªè‡ªå·±çš„ <a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a> åšå®¢äº†ã€‚å¦‚æœè¿˜æ²¡æœ‰çš„è¯ï¼Œä¸å¦¨ä½¿ç”¨ <code>Hexo</code> å’Œ <a href="https://www.appinn.com/markdown/" target="_blank" rel="noopener">Markdown</a> æ¥å†™åšå®¢å’Œæ–‡ç« ã€‚</p><p>ç‚¹å‡» <a href="https://codeload.github.com/hongweifuture/hexo-theme-halo/zip/master" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½ <code>master</code> åˆ†æ”¯çš„æœ€æ–°ç¨³å®šç‰ˆçš„ä»£ç ï¼Œè§£å‹ç¼©åï¼Œå°† <code>hexo-theme-halo</code> çš„æ–‡ä»¶å¤¹å¤åˆ¶åˆ°ä½  Hexo çš„ <code>themes</code> æ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä¿®æ”¹ä¸»é¢˜é…ç½®é¡¹å³å¯ã€‚</p><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨ä½ çš„ <code>themes</code> æ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨ <code>git clone</code> å‘½ä»¤æ¥ä¸‹è½½:</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/hongweifuture/hexo-theme-halo.git themes/halo</code></pre><p><a name="224e2ccd"></a></p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>è¯¦æƒ…è¯·å‚ç…§ <a href="https://github.com/hongweifuture/hexo-theme-halo" target="_blank" rel="noopener">hexo-theme-halo</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github Actions </tag>
            
            <tag> æŒç»­é›†æˆ </tag>
            
            <tag> CI/CD </tag>
            
            <tag> Hexo </tag>
            
            <tag> è¯­é›€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Actionsï¼šäº‘æ‰“åŒ…åˆ›å»º docker é•œåƒ</title>
      <link href="/docker-build-image-github-actions/"/>
      <url>/docker-build-image-github-actions/</url>
      
        <content type="html"><![CDATA[<blockquote><p>GitHub Actionsæ˜¯GitHubå¼€æºçš„ä¸€ä¸ªå¹³å°ã€‚è¿™ä¸€å¹³å°å¯ä»¥è®©å¼€å‘è€…å®ç°å®šåˆ¶åŒ–çš„ç¨‹åºé€»è¾‘ï¼Œè€Œä¸éœ€è¦ä¸“é—¨åˆ›å»ºä¸€ä¸ªåº”ç”¨å»å®Œæˆéœ€è¦çš„ä»»åŠ¡ã€‚å¼€å‘è€…å¯ä»¥å€ŸåŠ© Actions å¹³å°å»ºç«‹å·¥ä½œæµï¼Œä½¿ç”¨ä»–ä»¬ä»£ç ä»“åº“ä¸­å®šä¹‰å¥½çš„ actionã€æˆ–è€… GitHub å…¬å¼€ä»£ç åº“ä¸­çš„ actionï¼Œç”šè‡³æ˜¯ä¸€ä¸ªå…¬å¼€çš„ Docker å®¹å™¨é•œåƒã€‚action åœ¨è¿™é‡ŒæŒ‡çš„æ˜¯å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²å’Œå‘å¸ƒä»£ç ä¸­çš„å„ç§æµç¨‹ã€‚åœ¨å¼€å‘ç¨‹åºä»£ç ä¹‹å¤–ï¼Œæœ‰æ—¶å€™éœ€è¦é¢å¯¹å„ç§ç¼–è¯‘ã€æµ‹è¯•å’Œéƒ¨ç½²è¿‡ç¨‹ä¸­çš„ç¹çæµç¨‹ã€‚è¿™äº›æµç¨‹å¾€å¾€éœ€è¦æ‰‹åŠ¨å®Œæˆï¼Œä¸”ç”±äºä¸åŒå¼€å‘è€…çš„å¼€å‘ç¯å¢ƒã€ç‰ˆæœ¬å’Œå¹³å°ä¸åŒï¼Œéœ€è¦ä¸“é—¨é’ˆå¯¹ç‰¹å®šçš„ç¯å¢ƒå®šåˆ¶å·¥ä½œæµï¼Œååˆ†éº»çƒ¦ã€‚å¹¶ä¸”Github Actionså¹³å°æ˜¯å®šåˆ¶åŒ–çš„ï¼Œå¯ä»¥ä½¿ç”¨ GitHub çš„ API å’Œä»»ä½•å¼€æºçš„ç¬¬ä¸‰æ–¹ APIï¼Œä»¥ä¾¿äºå’Œä»£ç åº“è¿›è¡Œäº¤äº’ã€‚</p></blockquote><p>å¯¹äº<code>Github Actions</code>çš„ä½¿ç”¨åœ¨æˆ‘åšå®¢ä¸­å·²ç»æœ‰å¾ˆå¤šçš„å®ä¾‹äº†ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹ã€‚</p><p>å¯¹äº<code>docker</code>çš„é•œåƒæ‰“åŒ…ä¹Ÿå®¹æ˜“ä¹Ÿå¤æ‚ï¼Œå®¹æ˜“çš„å½“ç„¶å°±æ˜¯å®¹å™¨åŒ–æœ¬èº«å°±æ˜¯ç®€åŒ–æ“ä½œï¼Œä½†æ˜¯å¤æ‚ä¸€èˆ¬æ¥è¯´å°±æ˜¯ç”Ÿäº§ç¯å¢ƒå’Œç½‘ç»œç¯å¢ƒçš„é…ç½®ï¼Œå¯¹äºä»€ä¹ˆsystemå…¶å®å¤§åŒå°å¼‚ï¼Œæ— è®ºæ˜¯centosã€debianã€macOSè¿˜æœ‰windowsç­‰ç­‰ï¼Œç¯å¢ƒæ­å»ºå®¹æ˜“ï¼Œä½†æ˜¯ä¸€äº›å¯é€‰åŒ…çš„å®‰è£…éœ€è¦ä¸€å®šçš„æ—¶é—´ï¼Œç½‘ç»œç¯å¢ƒå°±æ˜¯é€Ÿåº¦æ…¢ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡â€œè¿™æ ·è¿™æ ·è¿™æ ·â€è®¿é—®å¢™å¤–çš„åœ°å€ï¼Œä½†æ˜¯ä¸‹è½½ç¼–è¯‘çš„æ—¶é—´ä¹Ÿå¾ˆæ…¢ï¼Œä½¿ç”¨<code>Github Actions</code>å¯ä»¥è¯´æ˜¯ä¸€ç§æ¨èçš„é€‰æ‹©äº†ï¼Œå› ä¸ºå…¶ä¸éœ€è¦ç‰©ç†æœºã€ä¸éœ€è¦é…ç½®ç½‘ç»œï¼Œæ¯•ç«Ÿå…¶ç½‘ç»œå°±æ˜¯å¤–å¤–å¤–ç½‘ï¼Œæ‰€ä»¥ä¸‹è½½é€Ÿåº¦è¿˜å¯ä»¥ï¼ŒåŸæ¥è¿˜éœ€è¦å»æ›´æ¢æºã€ä½¿ç”¨åŠ é€Ÿï¼Œè¿™å›éƒ½ä¸ç”¨äº†ï¼Œè€Œä¸”æˆ‘ä»¬ä»ç½‘é¡µå°±å¯ä»¥è¿›è¡Œæ“ä½œã€‚</p><p>å…¶å®2020å¹´æ–°å‡çº§çš„<code>å…¨æ–°Coding</code>ä¹ŸåŠ å…¥äº†æŒç»­é›†æˆåŠŸèƒ½ï¼Œä½¿ç”¨çš„æ˜¯<code>Jenkinsfile</code>ï¼Œæˆ‘ä½¿ç”¨è¿‡jenkinsä½†æ˜¯å¯¹codingé›†æˆçš„è¿˜ä¸ç†Ÿæ‚‰ï¼Œåé¢æœ‰æ—¶é—´åœ¨å®è·µä¸€ä¸‹ã€‚</p><p><a name="e6cefb85"></a></p><h1 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h1><ul><li>æ ¹æ®Dockerfileæ‰“åŒ…æˆé•œåƒ</li><li>é•œåƒæ¨é€åˆ°é˜¿é‡Œäº‘å®¹å™¨ä»“åº“ï¼ˆdocker hub å¤§åŒå°å¼‚ï¼‰</li></ul><p><a name="f630b9a4"></a></p><h1 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h1><ol><li>æ³¨å†Œé˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡</li><li>åœ¨é˜¿é‡Œäº‘åˆ›å»ºå‘½åç©ºé—´ã€é•œåƒä»“åº“ï¼Œæ³¨æ„åœ°åŒºçš„é€‰æ‹©ï¼ï¼ï¼</li><li><code>github</code>ä¸Šåˆ›å»ºä»“åº“ï¼Œç§æœ‰å…¬æœ‰çœ‹è‡ªå·±éœ€æ±‚</li><li>æœ¬åœ°<code>git</code>ä¸Šä¼ æ‰“åŒ…æ‰€éœ€è¦çš„æ–‡ä»¶ï¼Œå¦‚Dockerfileã€requirements.txtã€entrypoint.shç­‰ç­‰</li><li>åœ¨åˆ›å»ºçš„åˆ›åº“ä¸­é…ç½®æ‰€éœ€è¦çš„å˜é‡ï¼Œè¦ç”¨åˆ°çš„ç§å¯†ä¿¡æ¯ï¼Œå¦‚è´¦å·å¯†ç ä¹‹ç±»</li><li>åœ¨åˆ›å»ºçš„ä»“åº“ä¸­å¼€å¯<code>Actions</code></li><li>é…ç½®<code>YAMLæ ¼å¼</code>çš„Actionsé…ç½®æ–‡ä»¶</li><li>æ‰“åŒ…å¼€å§‹å¹¶è‡ªåŠ¨<code>PUSH</code>åˆ°é˜¿é‡Œäº‘ä»“åº“</li></ol><p><a name="424a2ad8"></a></p><h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><ul><li>é˜¿é‡Œäº‘ä¸Šè‡ªå·±æ“ä½œ</li><li>æœ¬åœ°ä¸<code>Github</code>çš„<code>SSH KEYå¯†é’¥</code>é…ç½®</li><li>ç®€å•å®ä¾‹åªç”¨åˆ°é˜¿é‡Œäº‘çš„è´¦å·å¯†ç ï¼Œæ•…Githubä¸­<code>é¡¹ç›® --&gt; Setting --&gt; Secrets</code>å®šä¸º<code>Aliyun_Username</code>å’Œ<code>Aliyun_Password</code>ï¼Œå¡«å…¥è‡ªå·±ä¿¡æ¯</li><li>åœ¨åˆ›å»ºçš„ä»“åº“ä¸­å¼€å¯Actionsä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤é…ç½®æ–‡ä»¶ï¼Œå³é¡¹ç›®æ ¹ç›®å½•ä¸‹<code>./.github/workflows/main.yml</code>æ–‡ä»¶ï¼Œåœ¨çº¿ä¿®æ”¹å³å¯ï¼Œæ–‡ä»¶åå¯è‡ªå®šä¹‰</li></ul><p><a name="88815d3f"></a></p><h1 id="é…ç½®å‚è€ƒ"><a href="#é…ç½®å‚è€ƒ" class="headerlink" title="é…ç½®å‚è€ƒ"></a>é…ç½®å‚è€ƒ</h1><p>è¿™é‡Œä»¥ä¸€ä¸ªä¾‹å­è¯´æ˜ï¼Œå®ç°æ‰“åŒ…ä¸€ä¸ª<code>pythonç¯å¢ƒ</code>çš„æœ€å°ç³»ç»Ÿï¼Œé‡Œé¢åŒ…æ‹¬æˆ‘<code>django</code>åšå®¢ä¸­ä½¿ç”¨çš„pythonåŸºç¡€æ ‡å‡†ç¯å¢ƒï¼Œå®‰è£…<code>alpine</code>ä¾èµ–ï¼šsystem updateã€system libã€mysqlclientã€Pillowã€bash</p><p>å®ç°æˆ‘çš„<code>django</code>é•œåƒåŒ…ï¼Œåªéœ€åŸºäºå½“å‰å®ä¾‹çš„æœ€ç®€pythonï¼Œå®‰è£…æ‰€éœ€è¦çš„pythonåº“ï¼Œåœ¨é…åˆ<code>docker-compose</code>å³å¯å®Œæˆå…¨éƒ¨</p><p><a name="Dockerfile"></a></p><h2 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h2><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># ä»ä»“åº“æ‹‰å– å¸¦æœ‰ python 3.7 çš„ Alpine Linux ç¯å¢ƒ</span>FROM python:3.7-alpine<span class="token comment" spellcheck="true"># ç»´æŠ¤è€…ä¿¡æ¯</span>MAINTAINER  hongwei <span class="token string">"https://www.zhwei.cn/"</span><span class="token comment" spellcheck="true"># æ·»åŠ alpine apkæºï¼Œæˆ‘åœ¨æœ¬åœ°centosä¸­æ·»åŠ ç´¢æ€§å°±åŠ ä¸Šäº†ï¼Œå…¶å®ä¸åŠ ä¹Ÿè¡Œ </span>RUN <span class="token keyword">echo</span> <span class="token string">"http://mirrors.aliyun.com/alpine/latest-stable/community/"</span> <span class="token operator">>></span> /etc/apk/repositoriesRUN <span class="token keyword">echo</span> <span class="token string">"http://dl-cdn.alpinelinux.org/alpine/edge/community/"</span> <span class="token operator">>></span> /etc/apk/repositories<span class="token punctuation">;</span>RUN <span class="token keyword">echo</span> <span class="token string">"http://dl-2.alpinelinux.org/alpine/edge/community"</span> <span class="token operator">>></span> /etc/apk/repositories<span class="token punctuation">;</span>RUN <span class="token keyword">echo</span> <span class="token string">"http://dl-3.alpinelinux.org/alpine/edge/community"</span> <span class="token operator">>></span> /etc/apk/repositories<span class="token punctuation">;</span>RUN <span class="token keyword">echo</span> <span class="token string">"http://dl-4.alpinelinux.org/alpine/edge/community"</span> <span class="token operator">>></span> /etc/apk/repositories<span class="token punctuation">;</span>RUN <span class="token keyword">echo</span> <span class="token string">"http://dl-5.alpinelinux.org/alpine/edge/community"</span> <span class="token operator">>></span> /etc/apk/repositories<span class="token comment" spellcheck="true"># å®‰è£…alpineä¾èµ–ï¼Œsystem update\ system lib\ mysqlclient\ Pillow\ bash</span>RUN apk update \    <span class="token operator">&amp;&amp;</span> apk add --no-cache linux-headers libffi-dev \    <span class="token operator">&amp;&amp;</span> apk add --no-cache gcc python3-dev musl-dev mariadb-dev\    <span class="token operator">&amp;&amp;</span> apk add --no-cache jpeg-dev zlib-dev freetype-dev lcms2-dev openjpeg-dev tiff-dev tk-dev tcl-dev \    <span class="token operator">&amp;&amp;</span> apk add --no-cache <span class="token function">bash</span> bash-doc bash-completion</code></pre><p><a name="main.yml"></a></p><h2 id="main-yml"><a href="#main-yml" class="headerlink" title="main.yml"></a>main.yml</h2><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> CI Build python alpine 3.7<span class="token key atrule">on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>push<span class="token punctuation">]</span><span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">build</span><span class="token punctuation">:</span>    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest    <span class="token key atrule">strategy</span><span class="token punctuation">:</span>      <span class="token key atrule">matrix</span><span class="token punctuation">:</span>        <span class="token key atrule">image-name</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>python<span class="token punctuation">]</span>        <span class="token key atrule">image-version</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>3.7<span class="token punctuation">-</span>alpine<span class="token punctuation">-</span>django<span class="token punctuation">]</span>    <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v1    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> docker build and push aliyun      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">aliyun_username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.Aliyun_Username <span class="token punctuation">}</span><span class="token punctuation">}</span>        <span class="token key atrule">aliyun_password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.Aliyun_Password <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        sudo docker login --username=${aliyun_username} registry.cn-beijing.aliyuncs.com --password=${{ secrets.aliyun_password }}        sudo docker build -t ${{ matrix.image-name }}:${{ matrix.image-version }} .        sudo docker tag ${{ matrix.image-name }}:${{ matrix.image-version }} registry.cn-beijing.aliyuncs.com/å‘½åç©ºé—´/é•œåƒä»“åº“:${{ matrix.image-version }}        sudo docker push registry.cn-beijing.aliyuncs.com/å‘½åç©ºé—´/é•œåƒä»“åº“:${{ matrix.image-version }}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æŒç»­é›†æˆå’Œäº¤ä»˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github Actions </tag>
            
            <tag> æŒç»­é›†æˆ </tag>
            
            <tag> docker </tag>
            
            <tag> äº‘æ‰“åŒ…åˆ›å»ºé•œåƒ </tag>
            
            <tag> CI/CD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HwTestReportï¼šä¸ºunittestä¸“å±å®šåˆ¶çš„æµ‹è¯•æŠ¥å‘Š</title>
      <link href="/hwttk-unittest-hwtestreport/"/>
      <url>/hwttk-unittest-hwtestreport/</url>
      
        <content type="html"><![CDATA[<p>ä½œä¸º <a href="https://github.com/hongweifuture/HwTTK" target="_blank" rel="noopener">HwTTKï¼ˆTest Tool Kit ï¼‰</a>ä¸­çš„ä¸€å‘˜ï¼Œ<code>HwTestReport</code>å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>æ”¯æŒ<code>Python2</code>å’Œ<code>Python3</code>ï¼Œè‡ªåŠ¨å…¼å®¹ï¼Œæ— éœ€è®¾ç½®</li><li>æ”¯æŒ<code>ä¸­æ–‡</code>å’Œ<code>è‹±æ–‡</code>æ‰‹åŠ¨åˆ‡æ¢</li><li>æ”¯æŒ<code>Selenium</code>å’Œ<code>Appium</code>æˆªå›¾æŠ¥å‘ŠåµŒå…¥<code>Html</code>æŠ¥å‘Šä¸­ï¼Œå¯æ ¹æ®éœ€æ±‚è®¾ç½®å¼€å¯æˆ–å…³é—­æˆªå›¾å±•ç¤ºåŠŸèƒ½</li><li>æ ·å¼ç¾åŒ–éœ€è¦ç½‘ç»œæ”¯æŒï¼Œé‡‡ç”¨CDNåŠ æŒï¼Œå¦‚æœæœ¬åœ°ä½¿ç”¨è¯·ä¸‹è½½<code>ç¦»çº¿ç‰ˆæœ¬</code></li><li>å¢åŠ æµ‹è¯•äººå‘˜æ¡ç›®ã€é€šè¿‡ç‡ç»Ÿè®¡ã€æ‰€æœ‰å¯èƒ½æƒ…å†µç­›é€‰åŠŸèƒ½ç­‰</li><li>å¢åŠ <code>é¥¼å›¾</code>æ•°æ®å±•ç¤ºã€æµ‹è¯•è¯¦æƒ…æ•°æ®å±•ç¤º</li><li>å¢åŠ <code>è¿”å›é¡¶éƒ¨</code>æŒ‰é’®</li><li>å…¶ä»–ç»†èŠ‚ä¿®æ”¹</li></ul><p>æºè‡ª <a href="http://tungwaiyip.info/software/HTMLTestRunner.html" target="_blank" rel="noopener">tungwaiyip.info</a> çš„<code>0.82</code>ç‰ˆæœ¬ <code>HTMLTestRunner</code></p><p><a name="f7457af0"></a></p><h2 id="å½“å‰çš„ç¯å¢ƒ"><a href="#å½“å‰çš„ç¯å¢ƒ" class="headerlink" title="å½“å‰çš„ç¯å¢ƒ"></a>å½“å‰çš„ç¯å¢ƒ</h2><table><thead><tr><th>ç¯å¢ƒ</th><th>ç‰ˆæœ¬</th></tr></thead><tbody><tr><td>Python2</td><td>2.7.17</td></tr><tr><td>Python3</td><td>3.7.4</td></tr><tr><td>selenium</td><td>3.141.0</td></tr><tr><td>geckodriver</td><td>v0.26.0</td></tr><tr><td>Firefox</td><td>72.0.1 (64 ä½)</td></tr></tbody></table><p><a name="715d8d1e"></a></p><h2 id="ä¸­è‹±æ–‡æŠ¥å‘Šå®ä¾‹"><a href="#ä¸­è‹±æ–‡æŠ¥å‘Šå®ä¾‹" class="headerlink" title="ä¸­è‹±æ–‡æŠ¥å‘Šå®ä¾‹"></a>ä¸­è‹±æ–‡æŠ¥å‘Šå®ä¾‹</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> unittest<span class="token comment" spellcheck="true"># ä¸­æ–‡ Chinese</span><span class="token keyword">from</span> HwTestReport <span class="token keyword">import</span> HTMLTestReport<span class="token comment" spellcheck="true"># è‹±æ–‡ English</span><span class="token keyword">from</span> HwTestReport <span class="token keyword">import</span> HTMLTestReportEN<span class="token keyword">class</span> <span class="token class-name">Case_assert_1</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">test_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_faile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_error</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> Exception<span class="token keyword">class</span> <span class="token class-name">Case_assert_2</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">test_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Case_assert_3</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">test_error</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> Exception<span class="token keyword">class</span> <span class="token class-name">Case_assert_4</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>    <span class="token keyword">def</span> <span class="token function">test_faile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    suite <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestSuite<span class="token punctuation">(</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_1<span class="token punctuation">(</span><span class="token string">'test_ok'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_1<span class="token punctuation">(</span><span class="token string">'test_faile'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_1<span class="token punctuation">(</span><span class="token string">'test_error'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_2<span class="token punctuation">(</span><span class="token string">'test_ok'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_3<span class="token punctuation">(</span><span class="token string">'test_error'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    suite<span class="token punctuation">.</span>addTest<span class="token punctuation">(</span>Case_assert_4<span class="token punctuation">(</span><span class="token string">'test_faile'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># Englishï¼šHTMLTestReportEN</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'./HwTestReport.html'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> report<span class="token punctuation">:</span>        runner <span class="token operator">=</span> HTMLTestReport<span class="token punctuation">(</span>stream<span class="token operator">=</span>report<span class="token punctuation">,</span>                                verbosity<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>                                title<span class="token operator">=</span><span class="token string">'HwTestReport æµ‹è¯•'</span><span class="token punctuation">,</span>                                description<span class="token operator">=</span><span class="token string">'å¸¦é¥¼å›¾ï¼Œå¸¦è¯¦æƒ…'</span><span class="token punctuation">,</span>                                tester<span class="token operator">=</span><span class="token string">'Johnny'</span><span class="token punctuation">)</span>        runner<span class="token punctuation">.</span>run<span class="token punctuation">(</span>suite<span class="token punctuation">)</span></code></pre><p><a name="7ff82bce"></a></p><h2 id="å¸¦æˆªå›¾çš„æŠ¥å‘Šå®ä¾‹"><a href="#å¸¦æˆªå›¾çš„æŠ¥å‘Šå®ä¾‹" class="headerlink" title="å¸¦æˆªå›¾çš„æŠ¥å‘Šå®ä¾‹"></a>å¸¦æˆªå›¾çš„æŠ¥å‘Šå®ä¾‹</h2><p>æ­¤æˆªå›¾åŠŸèƒ½æ˜¯é’ˆå¯¹ <a href="https://selenium.dev/downloads/" target="_blank" rel="noopener">Selenium</a>å’Œ <a href="http://appium.io/" target="_blank" rel="noopener">Appium</a>å¼€å‘ï¼Œæ”¯æŒ<code>Python2</code>å’Œ<code>Python3</code>ï¼Œä¸åŒçš„æµè§ˆå™¨é€‰æ‹©ä¸åŒé©±åŠ¨</p><ul><li><p><code>Selenium</code></p><pre class=" language-bash"><code class="language-bash">pip <span class="token function">install</span> seleniumconda <span class="token function">install</span> selenium</code></pre></li><li><p><code>Firefox</code></p><ul><li><a href="http://ftp.mozilla.org/pub/firefox/releases/" target="_blank" rel="noopener">ç«ç‹æµè§ˆå™¨å†å²ç‰ˆæœ¬ä¸‹è½½</a></li><li><a href="https://github.com/mozilla/geckodriver/releases" target="_blank" rel="noopener">geckodriveré©±åŠ¨ä¸‹è½½åœ°å€</a></li><li><a href="https://firefox-source-docs.mozilla.org/testing/geckodriver/Support.html" target="_blank" rel="noopener">é©±åŠ¨ä¸æµè§ˆå™¨ç‰ˆæœ¬å¯¹åº”å…³ç³»æ€»ç»“</a></li></ul></li><li><p><code>Chrome</code>ï¼Œå¯¹åº”ç‰ˆæœ¬è¯·æŸ¥çœ‹ç‰ˆæœ¬æ–‡ä»¶å¤¹å†…çš„<code>note.txt</code></p><ul><li><a href="http://chromedriver.storage.googleapis.com/index.html" target="_blank" rel="noopener">chromedriveré©±åŠ¨å®˜æ–¹ä¸‹è½½åœ°å€</a></li><li><a href="https://npm.taobao.org/mirrors/chromedriver/" target="_blank" rel="noopener">chromedriveré©±åŠ¨æ·˜å®ä¸‹è½½åœ°å€</a></li><li><a href="https://google_chrome.en.downloadastro.com/old_versions/" target="_blank" rel="noopener">Chromeæµè§ˆå™¨å†å²ç‰ˆæœ¬ä¸‹è½½</a></li><li><a href="https://www.slimjet.com/chrome/google-chrome-old-version.php" target="_blank" rel="noopener">é©±åŠ¨ä¸æµè§ˆå™¨ç‰ˆæœ¬å¯¹åº”å…³ç³»æ€»ç»“</a></li></ul></li><li><p><a href="http://selenium-release.storage.googleapis.com/index.html" target="_blank" rel="noopener">IEæµè§ˆå™¨é©±åŠ¨IEDriverServer</a></p></li><li><p><a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/" target="_blank" rel="noopener">Edgeæµè§ˆå™¨é©±åŠ¨MicrosoftWebDriver</a></p></li><li><p><a href="https://github.com/operasoftware/operachromiumdriver/releases" target="_blank" rel="noopener">Operaæµè§ˆå™¨é©±åŠ¨operadriver</a></p></li><li><p><a href="https://phantomjs.org/" target="_blank" rel="noopener">PhantomJSæµè§ˆå™¨é©±åŠ¨ï¼šphantomjs</a></p><blockquote><p>seleniumå·²ç»æ”¾å¼ƒPhantomJSï¼Œä½¿ç”¨éœ€å°†<code>selenium</code>é™çº§ä¸º<code>2.48.0</code>ç‰ˆæœ¬ï¼Œæˆ–è€…ä½¿ç”¨ç«ç‹æˆ–è€…è°·æ­Œæ— ç•Œé¢æµè§ˆå™¨ï¼Œæ¨è<a href="https://developers.google.com/web/updates/2017/04/headless-chrome" target="_blank" rel="noopener">Headless Chrome</a>ï¼Œè¿˜æ˜¯è¦äº†è§£ä¸€ä¸‹<a href="https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Headless_mode" target="_blank" rel="noopener">Headless Firefox</a></p></blockquote></li></ul><p>é©±åŠ¨éœ€è¦æ”¾åœ¨å’Œ<code>python</code>å¯åŠ¨æ–‡ä»¶åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œæˆ–æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œå¦‚</p><ul><li>windowsï¼šâ€D:\python\venv\Scripts\geckodriver.exeâ€</li><li>linuxï¼šâ€/opt/python/geckodriver.exeâ€</li></ul><p><a name="5f4ae1a6"></a></p><h3 id="æˆªå›¾åŠŸèƒ½ä½¿ç”¨"><a href="#æˆªå›¾åŠŸèƒ½ä½¿ç”¨" class="headerlink" title="æˆªå›¾åŠŸèƒ½ä½¿ç”¨"></a>æˆªå›¾åŠŸèƒ½ä½¿ç”¨</h3><ol><li><strong>å¢åŠ  <code>images</code> å‚æ•°</strong>ï¼Œé»˜è®¤ä¸º<code>False</code>ï¼Œæ‰€ä»¥ä¸éœ€è¦æˆªå›¾å¯ä»¥ä¸æ·»åŠ æ­¤å‚æ•°ï¼Œå‚è€ƒä¸Šé¢</li><li>åˆå§‹åŒ–<code>imgs</code>ï¼Œå¿…é¡»ä¸º<code>driver</code><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  self<span class="token punctuation">.</span>imgs<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true"># ï¼ˆå¯é€‰ï¼‰åˆå§‹åŒ–æˆªå›¾åˆ—è¡¨</span>  self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></li></ol><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> unittest<span class="token keyword">from</span> HwTestReport <span class="token keyword">import</span> HTMLTestReport<span class="token keyword">from</span> HwTestReport <span class="token keyword">import</span> HTMLTestReportEN<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">class</span> <span class="token class-name">Case_baidu</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''    åœ¨python3ä¸­å› ä¸ºunittestè¿è¡Œæœºåˆ¶å˜åŠ¨ï¼Œåœ¨ä½¿ç”¨setUp/tearDownä¸­åˆå§‹åŒ–/é€€å‡ºdriveræ—¶ï¼Œ    å¯èƒ½ä¼šå‡ºç°ç”¨ä¾‹æ‰§è¡Œå¤±è´¥æ²¡æœ‰æˆªå›¾çš„é—®é¢˜ï¼Œä½†æˆ‘æ²¡æœ‰é‡åˆ°è¿‡ï¼Œå¦‚æœå‡ºç°è¯·ä½¿ç”¨setUpClass/tearDownClassçš„ç”¨æ³•    '''</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>imgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">get_screenshot</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>imgs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get_screenshot_as_base64<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">True</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_search</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''ç”¨ä¾‹é€šè¿‡ï¼Œæ²¡æœ‰æŠ¥å‘Šå†…å®¹ï¼Œæœ‰å¤šå¼ æˆªå›¾'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'kw'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>u<span class="token string">'ç™¾åº¦ä¸€ä¸‹'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'su'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_assert_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''ç”¨ä¾‹é€šè¿‡ï¼Œæœ‰æŠ¥å‘Šå†…å®¹ï¼Œæœ‰æˆªå›¾'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        hao123 <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="u1"]/a[2]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text        <span class="token keyword">print</span><span class="token punctuation">(</span>hao123<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>hao123<span class="token punctuation">,</span> <span class="token string">'hao123'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_assert_ok_noimg</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''ç”¨ä¾‹é€šè¿‡ï¼Œæœ‰æŠ¥å‘Šå†…å®¹ï¼Œæ²¡æœ‰æˆªå›¾'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        news <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="u1"]/a[1]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text        <span class="token keyword">print</span><span class="token punctuation">(</span>news<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>news<span class="token punctuation">,</span> u<span class="token string">"æ–°é—»"</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_assert_faile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''ç”¨ä¾‹å¤±è´¥ï¼Œå¸¦æœ‰å¤±è´¥å†…å®¹å’Œæˆªå›¾'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        news <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="u1"]/a[1]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text        <span class="token keyword">print</span><span class="token punctuation">(</span>news<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="u1"]/a[1]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>news<span class="token punctuation">,</span> <span class="token string">'hao123'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_baidu_assert_error</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">''''ç”¨ä¾‹é”™è¯¯ï¼Œå¸¦æœ‰æŒ‡å®šé”™è¯¯å†…å®¹å’Œæˆªå›¾'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>get_screenshot<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">raise</span> EnvironmentError<span class="token punctuation">(</span><span class="token string">'Current environment can not testing!'</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Case_qq</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>imgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_qq_index_faile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''ç”¨ä¾‹é”™è¯¯ï¼Œå¸¦æœ‰é”™è¯¯å†…å®¹å’Œæ²¡æœ‰æˆªå›¾'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.qq.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'sougouTxt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>u<span class="token string">'æœç‹—æœç´¢'</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># self.driver.find_element_by_id('sougouTxt').send_keys(u'æœç‹—æœç´¢')</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'searchBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertIn<span class="token punctuation">(</span>u<span class="token string">"æœç‹—"</span><span class="token punctuation">,</span> u<span class="token string">'æœç´¢'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_qq_index_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''ç”¨ä¾‹é€šè¿‡ï¼Œæ²¡æœ‰å†…å®¹å’Œæ²¡æœ‰æˆªå›¾'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.qq.com"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'sougouTxt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>u<span class="token string">'æœç‹—æœç´¢'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'searchBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Case_163</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>imgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">test_163_ok</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">'''é€šè¿‡ æ²¡æœ‰å†…å®¹å’Œæˆªå›¾'''</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.163.com/"</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    suite1 <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestLoader<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>loadTestsFromTestCase<span class="token punctuation">(</span>Case_baidu<span class="token punctuation">)</span>    suite2 <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestLoader<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>loadTestsFromTestCase<span class="token punctuation">(</span>Case_qq<span class="token punctuation">)</span>    suite3 <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestLoader<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>loadTestsFromTestCase<span class="token punctuation">(</span>Case_163<span class="token punctuation">)</span>    suites <span class="token operator">=</span> unittest<span class="token punctuation">.</span>TestSuite<span class="token punctuation">(</span><span class="token punctuation">)</span>    suites<span class="token punctuation">.</span>addTests<span class="token punctuation">(</span><span class="token punctuation">[</span>suite1<span class="token punctuation">,</span> suite2<span class="token punctuation">,</span> suite3<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># HTMLTestReport or HTMLTestReportEN</span>    <span class="token keyword">with</span> open<span class="token punctuation">(</span><span class="token string">'./HwTestReportIMG.html'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> report<span class="token punctuation">:</span>        runner <span class="token operator">=</span> HTMLTestReportEN<span class="token punctuation">(</span>stream<span class="token operator">=</span>report<span class="token punctuation">,</span>                                verbosity<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>                                images<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>                                title<span class="token operator">=</span><span class="token string">'HwTestReport æµ‹è¯•'</span><span class="token punctuation">,</span>                                description<span class="token operator">=</span><span class="token string">'å¸¦æˆªå›¾ï¼Œå¸¦é¥¼å›¾ï¼Œå¸¦è¯¦æƒ…'</span><span class="token punctuation">,</span>                                tester<span class="token operator">=</span><span class="token string">'Johnny'</span><span class="token punctuation">)</span></code></pre><p><a name="5235bc34"></a></p><h2 id="ç¦»çº¿æŠ¥å‘Š"><a href="#ç¦»çº¿æŠ¥å‘Š" class="headerlink" title="ç¦»çº¿æŠ¥å‘Š"></a>ç¦»çº¿æŠ¥å‘Š</h2><p>ä½¿ç”¨æ–¹æ³•å’Œä¸Šè¿°ä¸€è‡´ï¼Œåªæ˜¯é€‰æ‹©å¸¦<code>local</code>çš„ç‰ˆæœ¬å³å¯ï¼Œç¾åŒ–æ‰€éœ€çš„æ ·å¼åœ¨<code>/static/</code>ç›®å½•ä¸‹ï¼Œæ•…<code>/static/</code>ç›®å½•è¦å’Œ<code>ç”Ÿæˆçš„æŠ¥å‘Šåœ¨ç›¸åŒç›®å½•</code></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> unittest<span class="token keyword">from</span> HwTestReport_local <span class="token keyword">import</span> HTMLTestReport<span class="token keyword">from</span> HwTestReport_local <span class="token keyword">import</span> HTMLTestReportEN</code></pre><p><a name="19ef7f9b"></a></p><h2 id="å…³é”®å­—è¯´æ˜"><a href="#å…³é”®å­—è¯´æ˜" class="headerlink" title="å…³é”®å­—è¯´æ˜"></a>å…³é”®å­—è¯´æ˜</h2><table><thead><tr><th>å…³é”®å­—</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>HTMLTestReport.py</td><td>æºæ–‡ä»¶</td></tr><tr><td>HTMLTestReport_local.py</td><td>ç¦»çº¿æºæ–‡ä»¶</td></tr><tr><td>HTMLTestReport</td><td>ç”Ÿæˆä¸­æ–‡æŠ¥å‘Šçš„ç±»</td></tr><tr><td>HTMLTestReportEN</td><td>ç”Ÿæˆè‹±æ–‡æŠ¥å‘Šçš„ç±»</td></tr><tr><td>stream</td><td>ç”Ÿæˆçš„æŠ¥å‘Šæ–‡ä»¶</td></tr><tr><td>verbosity</td><td>è¿è¡Œä¹‹åæ‰“å°çš„æ ¼å¼ï¼Œé»˜è®¤å€¼ä¸º1ï¼Œæœ‰0ï¼Œ1ï¼Œ2ä¸‰ä¸ªå€¼ï¼Œ<br />0 (é™é»˜æ¨¡å¼): ä½ åªèƒ½è·å¾—æ€»çš„æµ‹è¯•ç”¨ä¾‹æ•°å’Œæ€»çš„ç»“æœ æ¯”å¦‚ æ€»å…±100ä¸ª å¤±è´¥20 æˆåŠŸ80<br />)1 (é»˜è®¤æ¨¡å¼): éå¸¸ç±»ä¼¼é™é»˜æ¨¡å¼ åªæ˜¯åœ¨æ¯ä¸ªæˆåŠŸçš„ç”¨ä¾‹å‰é¢æœ‰ä¸ªâ€œ.â€ æ¯ä¸ªå¤±è´¥çš„ç”¨ä¾‹å‰é¢æœ‰ä¸ª â€œFâ€<br />2 (è¯¦ç»†æ¨¡å¼):æµ‹è¯•ç»“æœä¼šæ˜¾ç¤ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„æ‰€æœ‰ç›¸å…³çš„ä¿¡æ¯,å¹¶ä¸”ä½ åœ¨å‘½ä»¤è¡Œé‡ŒåŠ å…¥ä¸åŒçš„å‚æ•°å¯ä»¥èµ·åˆ°ä¸€æ ·çš„æ•ˆæœï¼Œ<br />æºç åœ¨/Lib/unittest/runner.py</td></tr><tr><td>images</td><td>True ä¸ºå¼€å¯Seleniumæˆ–Appiumæˆªå›¾ï¼ŒFalseæˆ–ä¸å¡«ä¸ºå…³é—­æˆªå›¾æ¨¡å¼</td></tr><tr><td>title</td><td>æ ‡é¢˜ï¼Œä¸å¡«é»˜è®¤ä¸ºâ€œæµ‹è¯•æŠ¥å‘Šâ€</td></tr><tr><td>description</td><td>æè¿°ï¼Œä¸å¡«é»˜è®¤ä¸ºç©º</td></tr><tr><td>tester</td><td>æµ‹è¯•äººå‘˜ï¼Œä¸å¡«é»˜è®¤ä¸ºâ€œJohnnyâ€</td></tr></tbody></table><p><a name="645dbc55"></a></p><h2 id="é¢„è§ˆ"><a href="#é¢„è§ˆ" class="headerlink" title="é¢„è§ˆ"></a>é¢„è§ˆ</h2><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/project/20200114113847.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/project/20200114102851.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/project/20200114113514.png" alt=""></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/373062/1581754110301-9cc7a54c-c520-4eb1-8057-cbed51568b51.png#align=left&display=inline&height=768&originHeight=768&originWidth=1366&size=0&status=done&style=none&width=1366" alt=""></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/373062/1581754110335-25228bae-5ea7-42a4-ad1d-fcd75662057a.png#align=left&display=inline&height=768&originHeight=768&originWidth=1366&size=0&status=done&style=none&width=1366" alt=""></p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/373062/1581754110321-e40d8ba9-5086-4084-b6c4-62d3fcf8a800.png#align=left&display=inline&height=768&originHeight=768&originWidth=1366&size=0&status=done&style=none&width=1366" alt=""></p><p>æ¬¢è¿å…³æ³¨ï¼š</p><ul><li><a href="https://github.com/hongweifuture/HwTestReport" target="_blank" rel="noopener">è¯¥é¡¹ç›®æ‰€åœ¨GithubåŠæºç ä¸‹è½½åœ°å€</a></li><li><a href="https://github.com/hongweifuture" target="_blank" rel="noopener">Github</a></li><li><a href="https://blog.csdn.net/z_johnny" target="_blank" rel="noopener">CSDN</a></li><li><a href="https://www.zhwei.cn/">My Blog</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> HwTTK </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> HTMLTestRunner </tag>
            
            <tag> unittest </tag>
            
            <tag> Appium </tag>
            
            <tag> Selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Actionsï¼šé€šè¿‡ SSH è‡ªåŠ¨éƒ¨ç½² Hexo</title>
      <link href="/github-actions-deploy-hexo-ssh/"/>
      <url>/github-actions-deploy-hexo-ssh/</url>
      
        <content type="html"><![CDATA[<p><a name="be033ff6"></a></p><h2 id="Hexoçš„è‡ªåŠ¨éƒ¨ç½²"><a href="#Hexoçš„è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="Hexoçš„è‡ªåŠ¨éƒ¨ç½²"></a>Hexoçš„è‡ªåŠ¨éƒ¨ç½²</h2><p>ç›®å‰çš„ä¸»æµæ–¹å¼ï¼š</p><ul><li>Travis CIï¼štravis-ci.org ä¸“é—¨é’ˆå¯¹å¼€æºé¡¹ç›®ï¼ŒGithub ä¸Šæ‰€æœ‰çš„å…¬å¼€ä»“åº“éƒ½èƒ½å¤Ÿå…è´¹ä½¿ç”¨ï¼›travis-ci.com é’ˆå¯¹ç§æœ‰åŠå•†ä¸šé¡¹ç›®ï¼Œæ–°ç”¨æˆ·å‰ 100 æ¬¡æ„å»ºæ˜¯å…è´¹çš„ï¼Œåé¢å°±è¦æ”¶è´¹äº†ã€‚ç°åœ¨githubç§æœ‰åº“å·²ç»å…è´¹äº†ï¼ï¼ï¼</li><li>Githooksï¼š è¿™ä¸ªå¦‚æœ vps æœ¬åœ°éƒ¨ç½²ï¼Œé…åˆ nginx ï¼Œè¿˜æ˜¯å¾ˆæ¨èçš„</li><li>Github Actionsï¼š æŒç»­é›†æˆï¼Œè‡ªåŠ¨æ‰§è¡Œè½¯ä»¶å¼€å‘å·¥ä½œæµç¨‹</li></ul><p><a name="f411d0f1"></a></p><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>å‰ä¸€é˜µç©<code>docker</code>çš„æ—¶å€™ç”¨<code>docker</code>æ­å»ºäº†<code>Hexo</code>ç¯å¢ƒï¼Œæ„Ÿè§‰åƒ<code>Hexo</code>çš„ç¯å¢ƒæ­å»ºä½¿ç”¨<code>docker</code>å¥½ç¬¨é‡</p><p>æœ¬æ¬¡ä½¿ç”¨çš„æ˜¯Github Actionsï¼Œå°±æ˜¯å› ä¸ºå…¶ç®€å•ã€æ— éœ€VPSã€å…¬æœ‰ä»“åº“å…è´¹ã€ç§æœ‰ä»“åº“æ¯ä¸ªæœˆ2000åˆ†é’Ÿã€è¿˜èƒ½ä½“éªŒè¿™ä¸ªæ–°åŠŸèƒ½ï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯deployçš„æ–¹å¼ï¼Œæ‰€ä»¥å…¬æœ‰ä»“åº“å°±çœ‹ä½ çš„éœ€æ±‚äº†ï¼Œå¯ä»¥æ˜¯github pageã€gitlabã€codingã€giteeã€vpsç­‰ç­‰ï¼Œè¿™é‡Œä»¥githubä¸¾ä¾‹ã€‚</p><p>å› ä¸ºæ˜¯deployæ–¹å¼ï¼Œæ‰€ä»¥è¦å®‰è£…æ’ä»¶</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git --save</code></pre><p>åŒæ—¶åœ¨Hexoé¡¹ç›®æ ¹ç›®å½•é…ç½®æ–‡ä»¶<code>_config.yaml</code>ä¸­é…ç½®</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span>  <span class="token key atrule">type</span><span class="token punctuation">:</span> git  <span class="token key atrule">repo</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>Githubç”¨æˆ·å/Githubç”¨æˆ·å.github.io.git  <span class="token key atrule">branch</span><span class="token punctuation">:</span> master</code></pre><p><a name="cbb060fd"></a></p><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul><li>ç§æœ‰ä»“åº“ï¼š blog</li></ul><blockquote><p>è¿™é‡Œæ˜¯å­˜æ”¾ Hexo åšå®¢æºç çš„</p></blockquote><ul><li>å…¬æœ‰ä»“åº“ï¼š ç”¨æˆ·å.github.io</li></ul><blockquote><p>è¿™é‡Œæ˜¯ç”¨æ¥ public é™æ€é¡µé¢çš„ï¼Œè¦æ±‚<code>ç©º</code>ä»“åº“ï¼Œæ²¡æœ‰åˆå§‹åŒ–åŠä»»ä½•æ“ä½œçš„</p></blockquote><p>æ‰€ä»¥å¦‚æœä½ è¿˜æ²¡æœ‰åˆ›å»º Hexo ï¼Œè¯·å‚è€ƒ <a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">å®˜æ–¹å¿«é€Ÿå¼€å§‹æ–‡æ¡£</a></p><p><a name="8128f7b3"></a></p><h2 id="å¯†é’¥å‡†å¤‡"><a href="#å¯†é’¥å‡†å¤‡" class="headerlink" title="å¯†é’¥å‡†å¤‡"></a>å¯†é’¥å‡†å¤‡</h2><p>ä¸ºäº†æ–¹ä¾¿è¿è¡ŒGitHub Actionsæ—¶ç™»å½•GitHubè´¦å·ï¼Œæˆ‘ä»¬ä½¿ç”¨SSHæ–¹å¼ç™»å½•ã€‚å°±æ˜¯è¦æŠŠè®¾å¤‡çš„ç§é’¥äº¤ç»™GitHub Actionsï¼Œå…¬é’¥äº¤ç»™GitHubï¼Œéœ€è¦å»Settingsé‡Œå»é…ç½®ã€‚</p><p>ä½¿ç”¨ssh-keygenç”Ÿæˆä¸€ç»„å…¬ç§ç§˜é’¥å¯¹</p><pre class=" language-bash"><code class="language-bash">ssh-keygen -t rsa -C <span class="token string">"Github çš„é‚®ç®±åœ°å€"</span>å¦‚ ssh-keygen -t rsa -C <span class="token string">"123123123@gmail.com"</span></code></pre><ul><li>é…ç½®å…¬é’¥ï¼Œåº”è¯¥å·²ç»é…å¥½ï¼Œä¸ç„¶å¦‚ä½•ä¸Šåˆ°çš„é¡¹ç›®èµ„æºï¼Œé…ç½®è·¯å¾„ï¼šgithubç½‘ç«™â€“&gt;Settingsâ€“&gt;SSH and GPG keys</li><li>é…ç½®ç§é’¥ï¼Œblogç§æœ‰ä»“åº“çš„Settings-&gt;Secretsé‡Œæ·»åŠ ç§é’¥ï¼Œåç§°ä¸º<code>HEXO_DEPLOY_PRIVATE_KEY</code></li></ul><p><a name="4e4974c1"></a></p><h2 id="é…ç½®GitHub-Actions"><a href="#é…ç½®GitHub-Actions" class="headerlink" title="é…ç½®GitHub Actions"></a>é…ç½®GitHub Actions</h2><p>GitHub Actions æœ‰ä¸€äº›è‡ªå·±çš„æœ¯è¯­ã€‚</p><ul><li>workflow ï¼ˆå·¥ä½œæµç¨‹ï¼‰ï¼šæŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸€ä¸ª workflowã€‚</li><li>job ï¼ˆä»»åŠ¡ï¼‰ï¼šä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª jobs æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚</li><li>stepï¼ˆæ­¥éª¤ï¼‰ï¼šæ¯ä¸ª job ç”±å¤šä¸ª step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚</li><li>action ï¼ˆåŠ¨ä½œï¼‰ï¼šæ¯ä¸ª step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆactionï¼‰ã€‚</li></ul><p>åœ¨blogä»“åº“çš„Actionsé€‰é¡¹å¡ä¸‹ç‚¹å‡»æ–°å»ºworkflowï¼Œåç§°é»˜è®¤æˆ–è€…è‡ªå®šä¹‰ä¿®æ”¹ï¼Œç¼–å†™å¦‚ä¸‹é…ç½®ã€‚</p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># workflow name</span><span class="token key atrule">name</span><span class="token punctuation">:</span> Hexo Blog CI<span class="token comment" spellcheck="true"># master branch on push, auto run</span><span class="token key atrule">on</span><span class="token punctuation">:</span>   <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> master<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">build</span><span class="token punctuation">:</span>     <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest     <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># check it to your workflow can access it</span>    <span class="token comment" spellcheck="true"># from: https://github.com/actions/checkout</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout Repository master branch      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master     <span class="token comment" spellcheck="true"># from: https://github.com/actions/setup-node  </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js 10.x       <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@master      <span class="token key atrule">with</span><span class="token punctuation">:</span>        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">"10.x"</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Hexo Dependencies      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        npm install hexo-cli -g        npm install</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Deploy Private Key      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">HEXO_DEPLOY_PRIVATE_KEY</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.HEXO_DEPLOY_PRIVATE_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        mkdir -p ~/.ssh/        echo "$HEXO_DEPLOY_PRIVATE_KEY" > ~/.ssh/id_rsa         chmod 600 ~/.ssh/id_rsa        ssh-keyscan github.com >> ~/.ssh/known_hosts</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Git Infomation      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">         git config --global user.name 'Githubç”¨æˆ·å'         git config --global user.email 'Githubæ³¨å†Œé‚®ç®±'</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy Hexo       <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        hexo clean        hexo generate         hexo deploy</span></code></pre><p>è¿™äº›å‘½ä»¤ä¸éœ€æ³¨é‡Šéƒ½å¯ä»¥çœ‹æ‡‚å§ï¼Œå¦‚æœæƒ³å‘å¸ƒåˆ°VPSï¼Œåªéœ€æ‰§è¡Œrunå‘½ä»¤å³å¯</p>]]></content>
      
      
      <categories>
          
          <category> æŒç»­é›†æˆå’Œäº¤ä»˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github Actions </tag>
            
            <tag> æŒç»­é›†æˆ </tag>
            
            <tag> CI/CD </tag>
            
            <tag> SSH </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Actionsï¼šé€šè¿‡ API è‡ªåŠ¨éƒ¨ç½² Hexo</title>
      <link href="/github-actions-deploy-hexo-api/"/>
      <url>/github-actions-deploy-hexo-api/</url>
      
        <content type="html"><![CDATA[<p><a name="be033ff6"></a></p><h2 id="Hexoçš„è‡ªåŠ¨éƒ¨ç½²"><a href="#Hexoçš„è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="Hexoçš„è‡ªåŠ¨éƒ¨ç½²"></a>Hexoçš„è‡ªåŠ¨éƒ¨ç½²</h2><p>ç›®å‰çš„ä¸»æµæ–¹å¼ï¼š</p><ul><li>Travis CIï¼štravis-ci.org ä¸“é—¨é’ˆå¯¹å¼€æºé¡¹ç›®ï¼ŒGithub ä¸Šæ‰€æœ‰çš„å…¬å¼€ä»“åº“éƒ½èƒ½å¤Ÿå…è´¹ä½¿ç”¨ï¼›travis-ci.com é’ˆå¯¹ç§æœ‰åŠå•†ä¸šé¡¹ç›®ï¼Œæ–°ç”¨æˆ·å‰ 100 æ¬¡æ„å»ºæ˜¯å…è´¹çš„ï¼Œåé¢å°±è¦æ”¶è´¹äº†ã€‚ç°åœ¨githubç§æœ‰åº“å·²ç»å…è´¹äº†ï¼ï¼ï¼</li><li>Githooksï¼š è¿™ä¸ªå¦‚æœ vps æœ¬åœ°éƒ¨ç½²ï¼Œé…åˆ nginx ï¼Œè¿˜æ˜¯å¾ˆæ¨èçš„</li><li>Github Actionsï¼š æŒç»­é›†æˆï¼Œè‡ªåŠ¨æ‰§è¡Œè½¯ä»¶å¼€å‘å·¥ä½œæµç¨‹</li></ul><p><a name="f411d0f1"></a></p><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>å‰ä¸€é˜µç©<code>docker</code>çš„æ—¶å€™ç”¨<code>docker</code>æ­å»ºäº†<code>Hexo</code>ç¯å¢ƒï¼Œæ„Ÿè§‰åƒ<code>Hexo</code>çš„ç¯å¢ƒæ­å»ºä½¿ç”¨<code>docker</code>å¥½ç¬¨é‡</p><p>æœ¬æ¬¡ä½¿ç”¨çš„æ˜¯<code>Github Actions</code>ï¼Œå°±æ˜¯å› ä¸ºå…¶ç®€å•ã€æ— éœ€VPSã€å…¬æœ‰ä»“åº“å…è´¹ã€ç§æœ‰ä»“åº“æ¯ä¸ªæœˆ2000åˆ†é’Ÿã€è¿˜èƒ½ä½“éªŒè¿™ä¸ªæ–°åŠŸèƒ½ï¼Œæœ¬æ–‡é‡‡ç”¨çš„æ˜¯<code>API</code>æ¨é€çš„æ–¹å¼ï¼Œå…å»éœ€è¦ç‰©ç†æœºç”³è¯·ssh keyçš„æ­¥éª¤ï¼Œå¦‚æœä¹ æƒ¯äº†é‡‡ç”¨<code>SSH</code>æ–¹å¼ï¼Œä½ å¯ä»¥å»çœ‹çœ‹æˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡ç« <a href="https://www.zhwei.cn/github-actions-deploy-hexo-ssh/">Github Actions é€šè¿‡ SSH è‡ªåŠ¨éƒ¨ç½² Hexo</a>ã€‚</p><p>é™æ€ç½‘ç«™éƒ¨ç½²å…¶å®å“ªå®¶çš„Pageséƒ½å¯ä»¥ï¼Œå¯ä»¥æ˜¯github pageã€gitlabã€codingã€giteeã€vpsç­‰ç­‰ï¼Œè¿™é‡Œä»¥githubå’Œcodingä¸¾ä¾‹ã€‚</p><p><a name="cbb060fd"></a></p><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><p>æµç¨‹ï¼šåšå®¢æºç é€šè¿‡æœ¬åœ°<code>git</code>å¤‡ä»½åˆ°<code>blog</code>åº“ï¼Œ<code>Github Actions</code>ç›‘æ§<code>github</code>çš„<code>PUSH</code>ä¼šè‡ªåŠ¨è¿›è¡Œéƒ¨ç½²ï¼Œå‘å¸ƒåˆ°<code>Github Pages</code>å’Œ<code>Coding Pages</code></p><ul><li>ç§æœ‰ä»“åº“ï¼š blog</li></ul><blockquote><p>è¿™é‡Œæ˜¯å­˜æ”¾ Hexo åšå®¢æºç çš„</p></blockquote><ul><li>å…¬æœ‰ä»“åº“ï¼š ç”¨æˆ·å.github.io</li></ul><blockquote><p>è¿™é‡Œæ˜¯ç”¨æ¥ public é™æ€é¡µé¢çš„ Pages ä»“åº“</p></blockquote><ul><li>å…¬æœ‰ä»“åº“ï¼š ç”¨æˆ·å.coding.me</li></ul><blockquote><p>è¿™é‡Œæ˜¯ç”¨æ¥ public é™æ€é¡µé¢çš„ Pages ä»“åº“</p></blockquote><p>æ‰€ä»¥å¦‚æœä½ è¿˜æ²¡æœ‰åˆ›å»º Hexo ï¼Œè¯·å‚è€ƒ <a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">å®˜æ–¹å¿«é€Ÿå¼€å§‹æ–‡æ¡£</a></p><p><a name="bf85b970"></a></p><h2 id="API-å¯†é’¥ç”³è¯·"><a href="#API-å¯†é’¥ç”³è¯·" class="headerlink" title="API å¯†é’¥ç”³è¯·"></a>API å¯†é’¥ç”³è¯·</h2><p><a name="df663dab"></a></p><h3 id="githubç”³è¯·"><a href="#githubç”³è¯·" class="headerlink" title="githubç”³è¯·"></a>githubç”³è¯·</h3><ul><li>è·¯å¾„ï¼šSettings â€“&gt; Developer settings â€“&gt; Personal access tokens â€“&gt; Generate new token</li><li>å‹¾é€‰<code>repo</code>æ‰€æœ‰çš„æƒé™ï¼Œå³repo:statusã€repo_deploymentã€public_repoå’Œ repo:invite</li><li>å¯å‚è€ƒ<a href="https://developer.github.com/" target="_blank" rel="noopener">GitHub API</a> å’Œ <a href="https://developer.github.com/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/" target="_blank" rel="noopener">OAuth scopesæƒé™è¯´æ˜</a></li></ul><blockquote><p>è¿™é‡Œçš„<code>token</code>åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å…ˆä¿å­˜ä¸‹æ¥åœ¨å…³é—­ç½‘é¡µï¼Œå¦åˆ™åªèƒ½é‡æ–°ç”Ÿæˆ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/githubpat.png" alt=""><br><a name="124633ce"></a></p><h3 id="codingç”³è¯·"><a href="#codingç”³è¯·" class="headerlink" title="codingç”³è¯·"></a>codingç”³è¯·</h3><p>æœ€è¿‘codingå’Œè…¾è®¯äº‘å¼€å‘è€…åˆå¹¶ä¸ºå…¨æ–°codingï¼Œæœ‰å¥½å¤šçš„å˜åŒ–ï¼Œæˆ‘æ˜¯2020å¹´01æœˆ19æ—¥å‡çº§çš„ï¼Œè¿™é‡Œæˆ‘ä»¥å…¨æ–°codingæ¥è¯´æ˜ï¼Œå¯¹äºæ¨é€å’Œæ‹‰å–åªæœ‰æ ¼å¼çš„åŒºåˆ«.æˆªè‡³ç›®å‰æˆ‘åªæœ‰codingçš„å‡çº§äº†è…¾è®¯äº‘å¼€å‘è€…çš„è¿˜æ²¡æœ‰å‡çº§ã€‚</p><ul><li>è·¯å¾„ï¼šä¸ªäººè®¾ç½® â€“&gt; è®¿é—®ä»¤ç‰Œ â€“&gt; æ–°å»ºä»¤ç‰Œ</li><li>å‹¾é€‰<code>project:depot</code>æƒé™ï¼Œå³å®Œæ•´çš„ä»“åº“æ§åˆ¶æƒé™ï¼Œå¯è¯»å¯å†™</li><li>å¯å‚è€ƒ<a href="https://help.coding.net/docs/member/tokens.html" target="_blank" rel="noopener">Coding API</a> å’Œ <a href="https://open.coding.net/oauth/#%E5%8F%82%E6%95%B0" target="_blank" rel="noopener">OAuth scopesæƒé™è¯´æ˜</a></li></ul><blockquote><p>è¿™é‡Œçš„<code>token</code>åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å…ˆä¿å­˜ä¸‹æ¥åœ¨å…³é—­ç½‘é¡µï¼Œå¦åˆ™åªèƒ½é‡æ–°ç”Ÿæˆï¼Œè¿™é‡Œè¿˜æœ‰ä¸€ä¸ª<code>ä»¤ç‰Œç”¨æˆ·å</code>éœ€è¦è®°ä¸‹æ¥ï¼Œæœ€å¥½ç”¨è¿™ä¸ªæ›¿æ¢<code>codingç”¨æˆ·å</code>æ“ä½œ</p></blockquote><p><a name="c98bfada"></a></p><h2 id="API-å¯†é’¥æ·»åŠ "><a href="#API-å¯†é’¥æ·»åŠ " class="headerlink" title="API å¯†é’¥æ·»åŠ "></a>API å¯†é’¥æ·»åŠ </h2><ul><li>é…ç½®ä»“åº“ç§é’¥ï¼Œblogç§æœ‰ä»“åº“çš„ Settings â€“&gt; Secrets é‡Œæ·»åŠ ç§é’¥<code>Secrets</code>ï¼Œä»¥ä¸‹é¢åç§°å‘½åï¼Œè¾“å…¥å¯¹åº”çš„å€¼</li><li>token_CodingAPI</li><li>token_GithubAPI</li><li>Username_Coding</li></ul><p><img src="https://cdn.jsdelivr.net/gh/hongweifuture/jsDelivrCDN/img/G7.png" alt=""></p><p><a name="4e4974c1"></a></p><h2 id="é…ç½®GitHub-Actions"><a href="#é…ç½®GitHub-Actions" class="headerlink" title="é…ç½®GitHub Actions"></a>é…ç½®GitHub Actions</h2><p>GitHub Actions æœ‰ä¸€äº›è‡ªå·±çš„æœ¯è¯­ã€‚</p><ul><li>workflow ï¼ˆå·¥ä½œæµç¨‹ï¼‰ï¼šæŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸€ä¸ª workflowã€‚</li><li>job ï¼ˆä»»åŠ¡ï¼‰ï¼šä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª jobs æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚</li><li>stepï¼ˆæ­¥éª¤ï¼‰ï¼šæ¯ä¸ª job ç”±å¤šä¸ª step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚</li><li>action ï¼ˆåŠ¨ä½œï¼‰ï¼šæ¯ä¸ª step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆactionï¼‰ã€‚</li></ul><p>åœ¨blogä»“åº“çš„Actionsé€‰é¡¹å¡ä¸‹ç‚¹å‡»æ–°å»ºworkflowï¼Œåç§°é»˜è®¤æˆ–è€…è‡ªå®šä¹‰ä¿®æ”¹ï¼Œç¼–å†™å¦‚ä¸‹é…ç½®ã€‚</p><p><strong>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œä¸¤ç§æƒ…å†µ</strong></p><ol><li>å¦‚æœä½ çš„ Pages ä»“åº“æ˜¯<code>ç©º</code>çš„ï¼Œæ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–å’Œä»»ä½•æ“ä½œï¼Œè¯·æ‰§è¡Œ<code>**ç¬¬ä¸€æ¬¡è¿è¡Œ**</code>å’Œ<code>**ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ**</code></li><li>å¦‚æœä½ çš„ Pages ä»“åº“<code>ä¸æ˜¯ç©º</code>çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰å†…å®¹ï¼Œæˆ–è€…è¯´ä½ ç°åœ¨åªæ˜¯åœ¨ç°æœ‰çš„ Pages ä»“åº“ä¸­è¿›è¡Œå‡çº§ï¼Œé‚£å°±åªè¿è¡Œ<code>**ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ**</code></li><li>è¯´æ˜ï¼š<code>**ç¬¬ä¸€æ¬¡è¿è¡Œ**</code>å’Œ<code>**ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ**</code>åªæœ‰<code>åˆ†æ”¯æ“ä½œçš„åŒºåˆ«ï¼Œå…¶ä»–æ— åŒºåˆ«</code>ï¼Œ<strong>ç¬¬ä¸€æ¬¡æœ‰ -b</strong>ï¼Œ<strong>*ç¬¬äºŒæ¬¡æ²¡æœ‰</strong></li></ol><ul><li><code>git checkout master</code>ï¼šåˆ‡æ¢åˆ†æ”¯</li><li><code>git checkout -b master</code>ï¼šåˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</li></ul><p><a name="70b86568"></a></p><h3 id="ç¬¬ä¸€æ¬¡è¿è¡Œ"><a href="#ç¬¬ä¸€æ¬¡è¿è¡Œ" class="headerlink" title="ç¬¬ä¸€æ¬¡è¿è¡Œ"></a>ç¬¬ä¸€æ¬¡è¿è¡Œ</h3><p>æˆ‘çš„<code>Github</code>å’Œ<code>Coding</code>çš„<code>git</code>ä¿¡æ¯ä¸€æ ·ï¼Œå¦‚æœä½ ä¸ä¸€æ ·ï¼Œè¯·åˆ†å¼€å†™ï¼Œ<code>ç©ºä»“åº“</code>ç¬¬ä¸€æ¬¡æ˜¯<code>git checkout -b master</code></p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># workflow name</span><span class="token key atrule">name</span><span class="token punctuation">:</span> CI Hexo Blog Deploy First<span class="token comment" spellcheck="true"># master branch on push, auto run</span><span class="token key atrule">on</span><span class="token punctuation">:</span>   <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> master<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">Deploy-Pages</span><span class="token punctuation">:</span>     <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy Hexo Public To Pages    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest     <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># check it to your workflow can access it</span>    <span class="token comment" spellcheck="true"># from: https://github.com/actions/checkout</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout Repository master branch      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master     <span class="token comment" spellcheck="true"># from: https://github.com/actions/setup-node  </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js 10.x       <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@master      <span class="token key atrule">with</span><span class="token punctuation">:</span>        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">"10.x"</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Git Infomation      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">         git config --global user.name 'ç”¨æˆ·å'         git config --global user.email 'é‚®ç®±'  </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Get Latest Commit Message       <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git log --pretty=format:"%s from Github Actions at `date +"%Y-%m-%d %H:%M:%S"`" --date=short -n 1  > commit-message.log</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Hexo Dependencies      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        npm install hexo-cli -g        npm install</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Generate public files      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        hexo clean        hexo generate </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy To Github Pages       <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">Github_Pages</span><span class="token punctuation">:</span> github.com/ç”¨æˆ·å/ç”¨æˆ·å.github.io        <span class="token key atrule">Github_Token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.token_GithubAPI <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          git clone https://${Github_Pages} .github_pages        cd .github_pages        git checkout -b master        cd ../        mv .github_pages/.git/ ./public/        cd ./public/        git add .        git commit -F ../commit-message.log        git push --force --quiet "https://${Github_Token}@${Github_Pages}" master:master</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy To Coding Pages       <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">Coding_Pages</span><span class="token punctuation">:</span> e.coding.net/ç”¨æˆ·å/ç”¨æˆ·å.coding.me.git        <span class="token key atrule">Coding_Token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.token_CodingAPI <span class="token punctuation">}</span><span class="token punctuation">}</span>        <span class="token key atrule">Coding_Username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.Username_Coding <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git clone https://${Coding_Username}:${Coding_Token}@${Coding_Pages} .coding_pages        cd .coding_pages        git checkout -b master        cd ../        rm -r ./public/.git/        mv .coding_pages/.git/ ./public/        cd ./public/        git add .        git commit -F ../commit-message.log        git push --force --quiet "https://${Coding_Username}:${Coding_Token}@${Coding_Pages}" master:master</span></code></pre><p>è€ç‰ˆæœ¬çš„codingä¸æ–°ç‰ˆæœ¬çš„åŒºåˆ«ï¼š</p><ul><li>è€ï¼š<code>https://@${Coding_Pages}</code></li><li>æ–°ï¼š<code>https://${Coding_Username}:${Coding_Token}@${Coding_Pages}</code></li></ul><p><a name="bfd51637"></a></p><h3 id="ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ"><a href="#ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ" class="headerlink" title="ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ"></a>ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ</h3><p><code>ä¸æ˜¯ç©º</code>ä»“åº“æˆ–è€…æ˜¯<code>**ç¬¬ä¸€æ¬¡è¿è¡Œ**</code>ä¹‹åï¼Œæ˜¯<code>git checkout master</code></p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># workflow name</span><span class="token key atrule">name</span><span class="token punctuation">:</span> CI Hexo Blog Deploy LTS<span class="token comment" spellcheck="true"># master branch on push, auto run</span><span class="token key atrule">on</span><span class="token punctuation">:</span>   <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> master<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">Deploy-Pages</span><span class="token punctuation">:</span>     <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy Hexo Public To Pages    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest     <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># check it to your workflow can access it</span>    <span class="token comment" spellcheck="true"># from: https://github.com/actions/checkout</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout Repository master branch      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master     <span class="token comment" spellcheck="true"># from: https://github.com/actions/setup-node  </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Node.js 10.x       <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@master      <span class="token key atrule">with</span><span class="token punctuation">:</span>        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">"10.x"</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Git Infomation      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">         git config --global user.name 'ç”¨æˆ·å'         git config --global user.email 'é‚®ç®±'  </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Get Latest Commit Message       <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git log --pretty=format:"%s from Github Actions at `date +"%Y-%m-%d %H:%M:%S"`" --date=short -n 1  > commit-message.log</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Hexo Dependencies      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        npm install hexo-cli -g        npm install</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Generate public files      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        hexo clean        hexo generate </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy To Github Pages       <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">Github_Pages</span><span class="token punctuation">:</span> github.com/ç”¨æˆ·å/ç”¨æˆ·å.github.io        <span class="token key atrule">Github_Token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.token_GithubAPI <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">          git clone https://${Github_Pages} .github_pages        cd .github_pages        git checkout master        cd ../        mv .github_pages/.git/ ./public/        cd ./public/        git add .        git commit -F ../commit-message.log        git push --force --quiet "https://${Github_Token}@${Github_Pages}" master:master</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy To Coding Pages       <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">Coding_Pages</span><span class="token punctuation">:</span> e.coding.net/ç”¨æˆ·å/ç”¨æˆ·å.coding.me.git        <span class="token key atrule">Coding_Token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.token_CodingAPI <span class="token punctuation">}</span><span class="token punctuation">}</span>        <span class="token key atrule">Coding_Username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.Username_Coding <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git clone https://${Coding_Username}:${Coding_Token}@${Coding_Pages} .coding_pages        cd .coding_pages        git checkout master        cd ../        rm -r ./public/.git/        mv .coding_pages/.git/ ./public/        cd ./public/        git add .        git commit -F ../commit-message.log        git push --force --quiet "https://${Coding_Username}:${Coding_Token}@${Coding_Pages}" master:master</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æŒç»­é›†æˆå’Œäº¤ä»˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github Actions </tag>
            
            <tag> æŒç»­é›†æˆ </tag>
            
            <tag> CI/CD </tag>
            
            <tag> Hexo </tag>
            
            <tag> API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Actionsï¼šé€šè¿‡ SSH è‡ªåŠ¨å¤‡ä»½ä»£ç åˆ°æ‰˜ç®¡ç½‘ç«™</title>
      <link href="/github-actions-backup-code/"/>
      <url>/github-actions-backup-code/</url>
      
        <content type="html"><![CDATA[<p><a name="e6cefb85"></a></p><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>æ¯æ¬¡åƒæŠŠæºç æ”¾åœ¨ä¸åŒå¹³å°éƒ½è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><ul><li>å‡†å¤‡ä¸€å°ç‰©ç†æœºï¼Œåˆ›å»ºå¯†é’¥å¹¶é…ç½®å¯¹åº”ç½‘ç«™çš„å…¬é’¥</li><li>å¤šå¹³å°éœ€è¦å¤šæ¬¡cloneã€pullã€push</li><li>æ¢ç‰©ç†æœºè¿˜è¦é‡æ–°é…ç½®å¯†é’¥ï¼Œæ˜¯æ‰€æœ‰ç½‘ç«™çš„å¯†é’¥</li><li>ä¸ç”¨ç‰©ç†æœºç”¨dockerä¹Ÿè¦å®‰è£…dockerç¯å¢ƒ</li></ul><p>é€šè¿‡Github ActionsæŒç»­é›†æˆå¯å®ç°ï¼š</p><ul><li>ä¸€æ¬¡cloneã€pullã€pushï¼Œå¤šå¹³å°åŒå¸ƒ</li><li>é…ç½®å¯¹åº”ç½‘ç«™çš„å…¬é’¥åªéœ€é…ç½®ä¸€æ¬¡</li><li>æ¢è®¾å¤‡åªéœ€é…ç½®Githubå’Œæœ¬æœºçš„å¯†é’¥</li></ul><p><a name="f411d0f1"></a></p><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>å‰ä¸€é˜µç©<code>docker</code>çš„æ—¶å€™ç”¨<code>docker</code>æ­å»ºäº†<code>Hexo</code>ç¯å¢ƒï¼Œæ„Ÿè§‰åƒ<code>Hexo</code>çš„ç¯å¢ƒæ­å»ºä½¿ç”¨<code>docker</code>å¥½ç¬¨é‡</p><p>æœ¬æ¬¡ä½¿ç”¨çš„æ˜¯Github Actionsï¼Œå°±æ˜¯å› ä¸ºå…¶ç®€å•ã€æ— éœ€VPSã€å…¬æœ‰ä»“åº“å…è´¹ã€ç§æœ‰ä»“åº“æ¯ä¸ªæœˆ2000åˆ†é’Ÿã€è¿˜èƒ½ä½“éªŒè¿™ä¸ªæ–°åŠŸèƒ½ã€‚æœ¬æ–‡ä¸»è¦æ¥ä½¿å¾—githubä»“åº“çš„å†…å®¹å¤‡ä»½åˆ°å…¶ä»–ä»£ç æ‰˜ç®¡å¹³å°ï¼Œå¯ä»¥æ˜¯github pageã€gitlabã€codingã€giteeã€vpsç­‰ç­‰ï¼Œè¿™é‡Œä»¥codingã€giteeä¸¾ä¾‹ã€‚</p><p><a name="cbb060fd"></a></p><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul><li>Githubä»“åº“ï¼šblog</li></ul><blockquote><p>è¿™é‡Œæ˜¯å­˜æ”¾æºç çš„</p></blockquote><ul><li>Codingä»“åº“ï¼šblog</li></ul><blockquote><p>è¿™é‡Œæ˜¯ç”¨æ¥å­˜æ”¾å¤‡ä»½çš„æºç ï¼Œè¦æ±‚<code>ç©º</code>ä»“åº“ï¼Œæ²¡æœ‰åˆå§‹åŒ–åŠä»»ä½•æ“ä½œçš„</p></blockquote><ul><li>Giteeä»“åº“ï¼š blog</li></ul><blockquote><p>è¿™é‡Œæ˜¯ç”¨æ¥å­˜æ”¾å¤‡ä»½çš„æºç ï¼Œè¦æ±‚<code>ç©º</code>ä»“åº“ï¼Œæ²¡æœ‰åˆå§‹åŒ–åŠä»»ä½•æ“ä½œçš„</p></blockquote><p><a name="8128f7b3"></a></p><h2 id="å¯†é’¥å‡†å¤‡"><a href="#å¯†é’¥å‡†å¤‡" class="headerlink" title="å¯†é’¥å‡†å¤‡"></a>å¯†é’¥å‡†å¤‡</h2><p>ä¸ºäº†æ–¹ä¾¿è¿è¡ŒGitHub Actionsæ—¶ç™»å½•GitHubè´¦å·ï¼Œæˆ‘ä»¬ä½¿ç”¨SSHæ–¹å¼ç™»å½•ã€‚å°±æ˜¯è¦æŠŠè®¾å¤‡çš„ç§é’¥äº¤ç»™GitHub Actionsï¼Œå…¬é’¥äº¤ç»™GitHubï¼Œéœ€è¦å»Settingsé‡Œå»é…ç½®ã€‚</p><p>ä½¿ç”¨ssh-keygenç”Ÿæˆä¸€ç»„å…¬ç§ç§˜é’¥å¯¹</p><pre class=" language-bash"><code class="language-bash">ssh-keygen -t rsa -C <span class="token string">"Github çš„é‚®ç®±åœ°å€"</span>å¦‚ ssh-keygen -t rsa -C <span class="token string">"123123123@gmail.com"</span></code></pre><p><strong>ç”Ÿæˆçš„å¯†é’¥ä¸€å®šè¦ä¿å­˜å¥½äº†ï¼Œæœ€é‡è¦çš„æ˜¯ç§é’¥</strong></p><ul><li>é…ç½®å…¬é’¥ï¼Œåº”è¯¥å·²ç»é…å¥½ï¼Œä¸ç„¶å¦‚ä½•ä¸Šåˆ°çš„é¡¹ç›®èµ„æºï¼Œé…ç½®è·¯å¾„ï¼šgithubç½‘ç«™â€“&gt;Settingsâ€“&gt;SSH and GPG keys</li><li>é…ç½®ä»“åº“ç§é’¥ï¼Œblogç§æœ‰ä»“åº“çš„ Settings â€“&gt; Secrets é‡Œæ·»åŠ ç§é’¥<code>Secrets</code>ï¼Œä»¥ä¸‹é¢åç§°å‘½åï¼Œè¾“å…¥å¯¹åº”çš„å€¼ï¼Œè¿™ä¸ªå€¼å°±æ˜¯<code>ç§é’¥</code>ï¼</li><li>token_Private_Keys</li></ul><p><a name="4e4974c1"></a></p><h2 id="é…ç½®GitHub-Actions"><a href="#é…ç½®GitHub-Actions" class="headerlink" title="é…ç½®GitHub Actions"></a>é…ç½®GitHub Actions</h2><p>GitHub Actions æœ‰ä¸€äº›è‡ªå·±çš„æœ¯è¯­ã€‚</p><ul><li>workflow ï¼ˆå·¥ä½œæµç¨‹ï¼‰ï¼šæŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸€ä¸ª workflowã€‚</li><li>job ï¼ˆä»»åŠ¡ï¼‰ï¼šä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª jobs æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚</li><li>stepï¼ˆæ­¥éª¤ï¼‰ï¼šæ¯ä¸ª job ç”±å¤šä¸ª step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚</li><li>action ï¼ˆåŠ¨ä½œï¼‰ï¼šæ¯ä¸ª step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆactionï¼‰ã€‚</li></ul><p>åœ¨blogä»“åº“çš„Actionsé€‰é¡¹å¡ä¸‹ç‚¹å‡»æ–°å»ºworkflowï¼Œåç§°é»˜è®¤æˆ–è€…è‡ªå®šä¹‰ä¿®æ”¹ï¼Œç¼–å†™å¦‚ä¸‹é…ç½®ã€‚</p><p><strong>è¿™é‡Œåˆ†ä¸ºä¸¤æ¬¡ï¼ŒåŒºåˆ«åªæœ‰åˆ†æ”¯æ“ä½œçš„åŒºåˆ«ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå‰é¢è¯´è¦åˆ›å»ºç©ºä»“åº“ï¼ï¼</strong></p><ul><li><code>git checkout master</code>ï¼šåˆ‡æ¢åˆ†æ”¯</li><li><code>git checkout -b master</code>ï¼šåˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</li></ul><p><a name="70b86568"></a></p><h3 id="ç¬¬ä¸€æ¬¡è¿è¡Œ"><a href="#ç¬¬ä¸€æ¬¡è¿è¡Œ" class="headerlink" title="ç¬¬ä¸€æ¬¡è¿è¡Œ"></a>ç¬¬ä¸€æ¬¡è¿è¡Œ</h3><p>æˆ‘çš„<code>Github</code>å’Œ<code>Coding</code>çš„<code>git</code>ä¿¡æ¯ä¸€æ ·ï¼Œå¦‚æœä½ ä¸ä¸€æ ·ï¼Œè¯·åˆ†å¼€å†™</p><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># workflow name</span><span class="token key atrule">name</span><span class="token punctuation">:</span> CI Backup First<span class="token comment" spellcheck="true"># master branch on push, auto run</span><span class="token key atrule">on</span><span class="token punctuation">:</span>   <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> master<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">Backup</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> Backup To Private Project     <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest     <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># check it to your workflow can access it</span>    <span class="token comment" spellcheck="true"># from: https://github.com/actions/checkout</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout Repository master branch      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master     <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Git Infomation      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">         git config --global user.name 'ç”¨æˆ·å'         git config --global user.email 'é‚®ç®±'  </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup SSH Private Key      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">token_Private_Keys</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.token_Private_Keys <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        mkdir -p ~/.ssh/        echo "$token_Private_Keys" > ~/.ssh/id_rsa         chmod 600 ~/.ssh/id_rsa        ssh-keyscan gitee.com >> ~/.ssh/known_hosts        ssh-keyscan e.coding.net >> ~/.ssh/known_hosts</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Get Latest Commit Message       <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git log --pretty=format:"%s from Github Actions at `date +"%Y-%m-%d %H:%M:%S"`" --date=short -n 1  > commit-message.log</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Backup To Gitee Private Project      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">Gitee_Blog</span><span class="token punctuation">:</span> gitee.com<span class="token punctuation">:</span>ç”¨æˆ·å/blog.git      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git clone git@${Gitee_Blog} .gitee_blog        cd .gitee_blog        git checkout -b master        cd ../        \cp -rf ./* ./.gitee_blog/        cd .gitee_blog        git add .        git commit -F ../commit-message.log        git push --force --quiet "git@${Gitee_Blog}" master:master</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Backup To Coding Private Project      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">Coding_Blog</span><span class="token punctuation">:</span> e.coding.net<span class="token punctuation">:</span>ç”¨æˆ·å/blog.git      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git clone git@${Coding_Blog} .coding_blog        cd .coding_blog        git checkout -b master        cd ../        \cp -rf ./* ./.coding_blog/        cd .coding_blog        git add .        git commit -F ../commit-message.log        git push --force --quiet "git@${Coding_Blog}" master:master</span></code></pre><p>è€ç‰ˆæœ¬çš„codingä¸æ–°ç‰ˆæœ¬çš„åŒºåˆ«ï¼š</p><ul><li>è€ï¼š<code>ssh-keyscan git.coding.net &gt;&gt; ~/.ssh/known_hosts</code></li><li>æ–°ï¼š<code>ssh-keyscan e.coding.net &gt;&gt; ~/.ssh/known_hosts</code></li></ul><p><a name="bfd51637"></a></p><h3 id="ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ"><a href="#ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ" class="headerlink" title="ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ"></a>ç¬¬äºŒæ¬¡åŠä»¥åè¿è¡Œ</h3><pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># workflow name</span><span class="token key atrule">name</span><span class="token punctuation">:</span> CI Backup LTS<span class="token comment" spellcheck="true"># master branch on push, auto run</span><span class="token key atrule">on</span><span class="token punctuation">:</span>   <span class="token key atrule">push</span><span class="token punctuation">:</span>    <span class="token key atrule">branches</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> master<span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">Backup</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> Backup To Private Project     <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest     <span class="token key atrule">steps</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># check it to your workflow can access it</span>    <span class="token comment" spellcheck="true"># from: https://github.com/actions/checkout</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout Repository master branch      <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master     <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup Git Infomation      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">         git config --global user.name 'ç”¨æˆ·å'         git config --global user.email 'é‚®ç®±'  </span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Setup SSH Private Key      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">token_Private_Keys</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.token_Private_Keys <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        mkdir -p ~/.ssh/        echo "$token_Private_Keys" > ~/.ssh/id_rsa         chmod 600 ~/.ssh/id_rsa        ssh-keyscan gitee.com >> ~/.ssh/known_hosts        ssh-keyscan e.coding.net >> ~/.ssh/known_hosts</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Get Latest Commit Message       <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git log --pretty=format:"%s from Github Actions at `date +"%Y-%m-%d %H:%M:%S"`" --date=short -n 1  > commit-message.log</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Backup To Gitee Private Project      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">Gitee_Blog</span><span class="token punctuation">:</span> gitee.com<span class="token punctuation">:</span>ç”¨æˆ·å/blog.git      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git clone git@${Gitee_Blog} .gitee_blog        cd .gitee_blog        git checkout master        cd ../        \cp -rf ./* ./.gitee_blog/        cd .gitee_blog        git add .        git commit -F ../commit-message.log        git push --force --quiet "git@${Gitee_Blog}" master:master</span>    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Backup To Coding Private Project      <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token key atrule">Coding_Blog</span><span class="token punctuation">:</span> e.coding.net<span class="token punctuation">:</span>ç”¨æˆ·å/blog.git      <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">        git clone git@${Coding_Blog} .coding_blog        cd .coding_blog        git checkout master        cd ../        \cp -rf ./* ./.coding_blog/        cd .coding_blog        git add .        git commit -F ../commit-message.log        git push --force --quiet "git@${Coding_Blog}" master:master</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æŒç»­é›†æˆå’Œäº¤ä»˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github Actions </tag>
            
            <tag> æŒç»­é›†æˆ </tag>
            
            <tag> CI/CD </tag>
            
            <tag> SSH </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL æ•™ç¨‹ï¼šå¢åˆ æ”¹æŸ¥</title>
      <link href="/databases-mysql-normal-operate/"/>
      <url>/databases-mysql-normal-operate/</url>
      
        <content type="html"><![CDATA[<p><a name="b9cdb1ae"></a></p><h1 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h1><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> JOHNNY <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  sid <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">000</span><span class="token punctuation">,</span>  NAME CHAR<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token number">111</span><span class="token punctuation">,</span>  price <span class="token keyword">DECIMAL</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>  <span class="token keyword">DEFAULT</span> <span class="token number">222</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="4b38aeae"></a></p><h1 id="å¢ï¼Œæ·»åŠ æ•°æ®"><a href="#å¢ï¼Œæ·»åŠ æ•°æ®" class="headerlink" title="å¢ï¼Œæ·»åŠ æ•°æ®"></a>å¢ï¼Œæ·»åŠ æ•°æ®</h1><p><a name="6af47e71"></a></p><h2 id="è¯­æ³•1ï¼šæŒ‡å®šæ‰€æœ‰å­—æ®µå"><a href="#è¯­æ³•1ï¼šæŒ‡å®šæ‰€æœ‰å­—æ®µå" class="headerlink" title="è¯­æ³•1ï¼šæŒ‡å®šæ‰€æœ‰å­—æ®µå"></a>è¯­æ³•1ï¼šæŒ‡å®šæ‰€æœ‰å­—æ®µå</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span>  è¡¨åï¼ˆå­—æ®µå<span class="token number">1</span>ï¼Œå­—æ®µå<span class="token number">2</span>ï¼Œâ€¦ï¼‰<span class="token keyword">VALUES</span>ï¼ˆå€¼<span class="token number">1</span>ï¼Œå€¼<span class="token number">2</span>ï¼Œâ€¦ï¼‰ï¼›<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> JOHNNY <span class="token punctuation">(</span>ID<span class="token punctuation">,</span> SID<span class="token punctuation">,</span> NAME<span class="token punctuation">,</span> PRICE<span class="token punctuation">)</span><span class="token keyword">VALUES</span>  <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token string">'J'</span><span class="token punctuation">,</span> <span class="token number">12.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">110</span>    J    <span class="token number">12.60</span></code></pre><p><a name="2145f86c"></a></p><h2 id="è¯­æ³•2ï¼šä¸æŒ‡å®šå­—æ®µåï¼Œæ·»åŠ çš„å€¼çš„é¡ºåºåº”å’Œå­—æ®µåœ¨è¡¨ä¸­çš„é¡ºåºå®Œå…¨ä¸€è‡´"><a href="#è¯­æ³•2ï¼šä¸æŒ‡å®šå­—æ®µåï¼Œæ·»åŠ çš„å€¼çš„é¡ºåºåº”å’Œå­—æ®µåœ¨è¡¨ä¸­çš„é¡ºåºå®Œå…¨ä¸€è‡´" class="headerlink" title="è¯­æ³•2ï¼šä¸æŒ‡å®šå­—æ®µåï¼Œæ·»åŠ çš„å€¼çš„é¡ºåºåº”å’Œå­—æ®µåœ¨è¡¨ä¸­çš„é¡ºåºå®Œå…¨ä¸€è‡´"></a>è¯­æ³•2ï¼šä¸æŒ‡å®šå­—æ®µåï¼Œæ·»åŠ çš„å€¼çš„é¡ºåºåº”å’Œå­—æ®µåœ¨è¡¨ä¸­çš„é¡ºåºå®Œå…¨ä¸€è‡´</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span>  è¡¨å <span class="token keyword">VALUES</span>ï¼ˆå€¼<span class="token number">1</span>ï¼Œå€¼<span class="token number">2</span>ï¼Œâ€¦ï¼‰ï¼›<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> JOHNNY<span class="token keyword">VALUES</span>  <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token number">12.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">110</span>    J    <span class="token number">12.60</span><span class="token number">2</span>    <span class="token number">120</span>    H    <span class="token number">12.90</span></code></pre><p><a name="8c8d8f1d"></a></p><h2 id="è¯­æ³•3ï¼šæŒ‡å®šå­—æ®µæ·»åŠ å€¼ï¼Œå…¶ä»–å­—æ®µä¸ºé»˜è®¤å€¼"><a href="#è¯­æ³•3ï¼šæŒ‡å®šå­—æ®µæ·»åŠ å€¼ï¼Œå…¶ä»–å­—æ®µä¸ºé»˜è®¤å€¼" class="headerlink" title="è¯­æ³•3ï¼šæŒ‡å®šå­—æ®µæ·»åŠ å€¼ï¼Œå…¶ä»–å­—æ®µä¸ºé»˜è®¤å€¼"></a>è¯­æ³•3ï¼šæŒ‡å®šå­—æ®µæ·»åŠ å€¼ï¼Œå…¶ä»–å­—æ®µä¸ºé»˜è®¤å€¼</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span>  è¡¨åï¼ˆå­—æ®µå<span class="token number">1</span>ï¼‰<span class="token keyword">VALUES</span>ï¼ˆå€¼<span class="token number">1</span>ï¼‰ï¼›<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> JOHNNY <span class="token punctuation">(</span>ID<span class="token punctuation">)</span><span class="token keyword">VALUES</span>  <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">110</span>    J    <span class="token number">12.60</span><span class="token number">2</span>    <span class="token number">120</span>    H    <span class="token number">12.90</span><span class="token number">3</span>   <span class="token number">0</span>  <span class="token number">111</span> <span class="token number">222.00</span></code></pre><p><a name="a09fec6d"></a></p><h2 id="è¯­æ³•4ï¼šsetå†™æ³•"><a href="#è¯­æ³•4ï¼šsetå†™æ³•" class="headerlink" title="è¯­æ³•4ï¼šsetå†™æ³•"></a>è¯­æ³•4ï¼šsetå†™æ³•</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> è¡¨å <span class="token keyword">SET</span> å­—æ®µå<span class="token number">1</span><span class="token operator">=</span>å€¼<span class="token number">1</span><span class="token punctuation">[</span><span class="token punctuation">,</span>å­—æ®µå<span class="token number">2</span><span class="token operator">=</span>å€¼<span class="token number">2</span>ï¼Œâ€¦<span class="token punctuation">]</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> JOHNNY <span class="token keyword">SET</span> ID <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>sid <span class="token operator">=</span> <span class="token number">140</span><span class="token punctuation">,</span>NAME <span class="token operator">=</span> <span class="token string">'Y'</span><span class="token punctuation">,</span>PRICE <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">110</span>    J    <span class="token number">12.60</span><span class="token number">2</span>    <span class="token number">120</span>    H    <span class="token number">12.90</span><span class="token number">3</span>   <span class="token number">0</span>  <span class="token number">111</span> <span class="token number">222.00</span><span class="token number">4</span>  <span class="token number">140</span>  Y  <span class="token number">15.00</span></code></pre><p><a name="a9c57278"></a></p><h1 id="åˆ ï¼Œåˆ é™¤æ•°æ®"><a href="#åˆ ï¼Œåˆ é™¤æ•°æ®" class="headerlink" title="åˆ ï¼Œåˆ é™¤æ•°æ®"></a>åˆ ï¼Œåˆ é™¤æ•°æ®</h1><p>è¯­æ³•ï¼šDELETE FROM è¡¨å WHERE æ¡ä»¶è¡¨è¾¾å¼</p><p><a name="2cdee9d1"></a></p><h2 id="åˆ é™¤æŒ‡å®šæ•°æ®"><a href="#åˆ é™¤æŒ‡å®šæ•°æ®" class="headerlink" title="åˆ é™¤æŒ‡å®šæ•°æ®"></a>åˆ é™¤æŒ‡å®šæ•°æ®</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> JOHNNY <span class="token keyword">WHERE</span> ID <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">110</span>    J    <span class="token number">12.60</span><span class="token number">2</span>    <span class="token number">120</span>    H    <span class="token number">12.90</span><span class="token number">3</span>   <span class="token number">0</span>  <span class="token number">111</span> <span class="token number">222.00</span></code></pre><p><a name="a8b68389"></a></p><h2 id="åˆ é™¤å…¨éƒ¨æ•°æ®-DELETE"><a href="#åˆ é™¤å…¨éƒ¨æ•°æ®-DELETE" class="headerlink" title="åˆ é™¤å…¨éƒ¨æ•°æ® DELETE"></a>åˆ é™¤å…¨éƒ¨æ•°æ® DELETE</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> JOHNNY<span class="token punctuation">;</span></code></pre><blockquote><p>åŸè¡¨æœ‰3è¡Œæ•°æ®ï¼Œå…¶ä¸­idä¸ºè‡ªå¢å­—æ®µï¼Œå¦‚idä¸º3ï¼Œå…¨åˆ é™¤åé‡æ–°æ’å…¥æ•°æ®ï¼Œä¼šä»idä¸º4çš„é‚£ä¸€è¡Œå¼€å§‹æ·»åŠ ï¼Œç›¸å½“äºè¿½åŠ </p></blockquote><p><a name="e230778b"></a></p><h2 id="åˆ é™¤å…¨éƒ¨æ•°æ®-TRUNCATE"><a href="#åˆ é™¤å…¨éƒ¨æ•°æ®-TRUNCATE" class="headerlink" title="åˆ é™¤å…¨éƒ¨æ•°æ® TRUNCATE"></a>åˆ é™¤å…¨éƒ¨æ•°æ® TRUNCATE</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> JOHNNY<span class="token punctuation">;</span></code></pre><blockquote><p>åŸè¡¨æœ‰3è¡Œæ•°æ®ï¼Œå…¶ä¸­idä¸ºè‡ªå¢å­—æ®µï¼Œå¦‚idä¸º3ï¼Œå…¨åˆ é™¤åé‡æ–°æ’å…¥æ•°æ®ï¼Œä¼šä»idä¸º0çš„å“ªä¸€è¡Œå¼€å§‹æ·»åŠ ï¼Œç›¸å½“äºä»å¤´å¼€å§‹</p></blockquote><p><a name="9b37271b"></a></p><h1 id="æ”¹ï¼Œä¿®æ”¹æ›´æ–°æ•°æ®"><a href="#æ”¹ï¼Œä¿®æ”¹æ›´æ–°æ•°æ®" class="headerlink" title="æ”¹ï¼Œä¿®æ”¹æ›´æ–°æ•°æ®"></a>æ”¹ï¼Œä¿®æ”¹æ›´æ–°æ•°æ®</h1><p>è¯­æ³•ï¼šUPDATE è¡¨å SET å†…å®¹ WHERE æ¡ä»¶è¡¨è¾¾å¼</p><p><a name="0fc15f25"></a></p><h2 id="ä¿®æ”¹æŒ‡å®šå†…å®¹"><a href="#ä¿®æ”¹æŒ‡å®šå†…å®¹" class="headerlink" title="ä¿®æ”¹æŒ‡å®šå†…å®¹"></a>ä¿®æ”¹æŒ‡å®šå†…å®¹</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">UPDATE</span>  JOHNNY<span class="token keyword">SET</span>  SID <span class="token operator">=</span> <span class="token number">555</span><span class="token keyword">WHERE</span> ID <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">110</span>    J    <span class="token number">12.60</span><span class="token number">2</span>    <span class="token number">120</span>    H    <span class="token number">12.90</span><span class="token number">3</span>   <span class="token number">555</span>  <span class="token number">111</span> <span class="token number">222.00</span></code></pre><p><a name="90b49acd"></a></p><h2 id="ä¿®æ”¹å…¨éƒ¨å†…å®¹"><a href="#ä¿®æ”¹å…¨éƒ¨å†…å®¹" class="headerlink" title="ä¿®æ”¹å…¨éƒ¨å†…å®¹"></a>ä¿®æ”¹å…¨éƒ¨å†…å®¹</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">UPDATE</span>  JOHNNY<span class="token keyword">SET</span>  NAME <span class="token operator">=</span> <span class="token string">'zhao'</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">110</span>    zhao    <span class="token number">12.60</span><span class="token number">2</span>    <span class="token number">120</span>    zhao    <span class="token number">12.90</span><span class="token number">3</span>   <span class="token number">555</span> zhao    <span class="token number">222.00</span></code></pre><p><a name="d45897e5"></a></p><h1 id="æŸ¥ï¼ŒæŸ¥è¯¢æ•°æ®"><a href="#æŸ¥ï¼ŒæŸ¥è¯¢æ•°æ®" class="headerlink" title="æŸ¥ï¼ŒæŸ¥è¯¢æ•°æ®"></a>æŸ¥ï¼ŒæŸ¥è¯¢æ•°æ®</h1><p><a name="4178536f"></a></p><h2 id="å•è¡¨æŸ¥è¯¢"><a href="#å•è¡¨æŸ¥è¯¢" class="headerlink" title="å•è¡¨æŸ¥è¯¢"></a>å•è¡¨æŸ¥è¯¢</h2><p><a href="https://www.zhwei.cn/databases-mysql-singlQuery/">è·³è½¬ å•è¡¨æŸ¥è¯¢</a></p><p><a name="c7ccefc6"></a></p><h2 id="å¤šè¡¨æŸ¥è¯¢"><a href="#å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢"></a>å¤šè¡¨æŸ¥è¯¢</h2><p><a href="https://www.zhwei.cn/databases-mysql-manyQuery/">è·³è½¬ å¤šè¡¨æŸ¥è¯¢</a></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> databases </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> web </tag>
            
            <tag> sqlå¢åˆ æ”¹æŸ¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL æ•™ç¨‹ï¼šå•è¡¨æŸ¥è¯¢</title>
      <link href="/databases-mysql-singl-query/"/>
      <url>/databases-mysql-singl-query/</url>
      
        <content type="html"><![CDATA[<p><a name="3cb64573"></a></p><h1 id="åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥æ•°æ®"><a href="#åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥æ•°æ®" class="headerlink" title="åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥æ•°æ®"></a>åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥æ•°æ®</h1><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># åˆ›å»ºè¡¨ï¼Œæ•°æ®ç±»å‹è¯·è‡ªè¡ŒæŸ¥è¯¢</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> fruits <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  sid <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  NAME CHAR<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  price <span class="token keyword">DECIMAL</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># è¡¨ä¸­æ’å…¥æ•°æ®</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> fruits<span class="token keyword">VALUES</span>  <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token number">5.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'blackberry'</span><span class="token punctuation">,</span> <span class="token number">10.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token string">'melon'</span><span class="token punctuation">,</span> <span class="token number">8.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token number">10.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'grape'</span><span class="token punctuation">,</span> <span class="token number">5.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'coconut'</span><span class="token punctuation">,</span> <span class="token number">9.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'cherry'</span><span class="token punctuation">,</span> <span class="token number">3.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'apricot'</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token string">'lemon'</span><span class="token punctuation">,</span> <span class="token number">6.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token string">'berry'</span><span class="token punctuation">,</span> <span class="token number">7.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token string">'mango'</span><span class="token punctuation">,</span> <span class="token number">15.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="4178536f"></a></p><h1 id="å•è¡¨æŸ¥è¯¢"><a href="#å•è¡¨æŸ¥è¯¢" class="headerlink" title="å•è¡¨æŸ¥è¯¢"></a>å•è¡¨æŸ¥è¯¢</h1><p><a name="9f380f34"></a></p><h2 id="æŸ¥è¯¢æ‰€æœ‰å­—æ®µ"><a href="#æŸ¥è¯¢æ‰€æœ‰å­—æ®µ" class="headerlink" title="æŸ¥è¯¢æ‰€æœ‰å­—æ®µ"></a>æŸ¥è¯¢æ‰€æœ‰å­—æ®µ</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">101</span>    apple    <span class="token number">5.20</span><span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span><span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">8</span>    <span class="token number">101</span>    cherry    <span class="token number">3.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre><p><a name="5fae6f01"></a></p><h2 id="æŸ¥è¯¢æŒ‡å®šå­—æ®µ"><a href="#æŸ¥è¯¢æŒ‡å®šå­—æ®µ" class="headerlink" title="æŸ¥è¯¢æŒ‡å®šå­—æ®µ"></a>æŸ¥è¯¢æŒ‡å®šå­—æ®µ</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> ID<span class="token punctuation">,</span>NAME <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span>ID    NAME<span class="token number">1</span>    apple<span class="token number">2</span>    blackberry<span class="token number">3</span>    orange<span class="token number">4</span>    melon<span class="token number">5</span>    banana<span class="token number">6</span>    grape<span class="token number">7</span>    coconut<span class="token number">8</span>    cherry<span class="token number">9</span>    apricot<span class="token number">10</span>    lemon<span class="token number">11</span>    berry<span class="token number">12</span>    mango</code></pre><p><a name="920db34f"></a></p><h2 id="æŸ¥è¯¢æŒ‡å®šæ¡ä»¶çš„å­—æ®µ"><a href="#æŸ¥è¯¢æŒ‡å®šæ¡ä»¶çš„å­—æ®µ" class="headerlink" title="æŸ¥è¯¢æŒ‡å®šæ¡ä»¶çš„å­—æ®µ"></a>æŸ¥è¯¢æŒ‡å®šæ¡ä»¶çš„å­—æ®µ</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">=</span> <span class="token string">'BANANA'</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span></code></pre><p><a name="a6bf5c47"></a></p><h2 id="å¸¦INå…³é”®å­—çš„æŸ¥è¯¢"><a href="#å¸¦INå…³é”®å­—çš„æŸ¥è¯¢" class="headerlink" title="å¸¦INå…³é”®å­—çš„æŸ¥è¯¢"></a>å¸¦INå…³é”®å­—çš„æŸ¥è¯¢</h2><p>INå…³é”®å­—ï¼šIN(xxï¼Œyyï¼Œâ€¦) æ»¡è¶³æ¡ä»¶èŒƒå›´å†…çš„ä¸€ä¸ªå€¼å³ä¸ºåŒ¹é…é¡¹ï¼Œæ‹¬å·å†…çš„å€¼ï¼Œæˆ–çš„å…³ç³»</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'BANANA'</span><span class="token punctuation">,</span><span class="token string">'ORANGE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">101</span>    apple    <span class="token number">5.20</span><span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span><span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre><p><a name="0e7df0eb"></a></p><h2 id="å¸¦BETWEEN-AND-çš„èŒƒå›´æŸ¥è¯¢"><a href="#å¸¦BETWEEN-AND-çš„èŒƒå›´æŸ¥è¯¢" class="headerlink" title="å¸¦BETWEEN AND çš„èŒƒå›´æŸ¥è¯¢"></a>å¸¦BETWEEN AND çš„èŒƒå›´æŸ¥è¯¢</h2><p>BETWEEN â€¦ AND â€¦ : åœ¨â€¦åˆ°â€¦èŒƒå›´å†…çš„å€¼å³ä¸ºåŒ¹é…é¡¹</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token operator">BETWEEN</span> <span class="token number">3</span> <span class="token operator">AND</span> <span class="token number">9</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span><span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">8</span>    <span class="token number">101</span>    cherry    <span class="token number">3.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token operator">NOT</span> <span class="token operator">BETWEEN</span> <span class="token number">5</span> <span class="token operator">AND</span> <span class="token number">11</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">101</span>    apple    <span class="token number">5.20</span><span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre><p><a name="818fed55"></a></p><h2 id="å¸¦LIKEçš„å­—ç¬¦åŒ¹é…æŸ¥è¯¢"><a href="#å¸¦LIKEçš„å­—ç¬¦åŒ¹é…æŸ¥è¯¢" class="headerlink" title="å¸¦LIKEçš„å­—ç¬¦åŒ¹é…æŸ¥è¯¢"></a>å¸¦LIKEçš„å­—ç¬¦åŒ¹é…æŸ¥è¯¢</h2><p>LIKE: æ¨¡ç³ŠæŸ¥è¯¢ï¼Œå’ŒLIKEä¸€èµ·ä½¿ç”¨çš„é€šé…ç¬¦æœ‰  â€œ%â€ã€â€_â€</p><table><thead><tr><th>é€šé…ç¬¦</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>â€œ%â€</td><td>ä½œç”¨æ˜¯èƒ½åŒ¹é…ä»»æ„é•¿åº¦çš„å­—ç¬¦ã€‚</td></tr><tr><td>â€œ_â€</td><td>åªèƒ½åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦</td></tr></tbody></table><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'black%'</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'b%y'</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span></code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> NAME <span class="token operator">LIKE</span> <span class="token string">'_ER_Y'</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span></code></pre><p><a name="6483b0de"></a></p><h1 id="é€»è¾‘ä¸ä¹‹å¸¦ANDçš„å¤šæ¡ä»¶æŸ¥è¯¢"><a href="#é€»è¾‘ä¸ä¹‹å¸¦ANDçš„å¤šæ¡ä»¶æŸ¥è¯¢" class="headerlink" title="é€»è¾‘ä¸ä¹‹å¸¦ANDçš„å¤šæ¡ä»¶æŸ¥è¯¢"></a>é€»è¾‘ä¸ä¹‹å¸¦ANDçš„å¤šæ¡ä»¶æŸ¥è¯¢</h1><p>andï¼šåŒæ—¶æ»¡è¶³æ¡ä»¶</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>  <span class="token operator">*</span><span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">AND</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span></code></pre><p><a name="0c255859"></a></p><h1 id="é€»è¾‘æˆ–ä¹‹ORçš„å¤šæ¡ä»¶æŸ¥è¯¢"><a href="#é€»è¾‘æˆ–ä¹‹ORçš„å¤šæ¡ä»¶æŸ¥è¯¢" class="headerlink" title="é€»è¾‘æˆ–ä¹‹ORçš„å¤šæ¡ä»¶æŸ¥è¯¢"></a>é€»è¾‘æˆ–ä¹‹ORçš„å¤šæ¡ä»¶æŸ¥è¯¢</h1><p>OR:æœ‰ä¸€ä¸ªæ»¡è¶³å³å¯ï¼Œç±»ä¼¼in</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>  <span class="token operator">*</span><span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">OR</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">8</span>    <span class="token number">101</span>    cherry    <span class="token number">3.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre><p><a name="f7a4de5c"></a></p><h1 id="å…³é”®å­—DISTINCTæŸ¥è¯¢ä¸é‡å¤çš„æ•°æ®"><a href="#å…³é”®å­—DISTINCTæŸ¥è¯¢ä¸é‡å¤çš„æ•°æ®" class="headerlink" title="å…³é”®å­—DISTINCTæŸ¥è¯¢ä¸é‡å¤çš„æ•°æ®"></a>å…³é”®å­—DISTINCTæŸ¥è¯¢ä¸é‡å¤çš„æ•°æ®</h1><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>  <span class="token keyword">DISTINCT</span> SID<span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">OR</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token punctuation">;</span>SID<span class="token number">101</span><span class="token number">105</span><span class="token number">102</span><span class="token number">103</span><span class="token number">104</span><span class="token number">106</span></code></pre><p><a name="e955e677"></a></p><h1 id="ORDER-BYå¯¹æŸ¥è¯¢çš„ç»“æœæ’åº"><a href="#ORDER-BYå¯¹æŸ¥è¯¢çš„ç»“æœæ’åº" class="headerlink" title="ORDER BYå¯¹æŸ¥è¯¢çš„ç»“æœæ’åº"></a>ORDER BYå¯¹æŸ¥è¯¢çš„ç»“æœæ’åº</h1><p><a name="55a66792"></a></p><h2 id="ORDER-BY-å­—æ®µ-DESC-é€†åºæ’åˆ—"><a href="#ORDER-BY-å­—æ®µ-DESC-é€†åºæ’åˆ—" class="headerlink" title="ORDER BY å­—æ®µ DESC é€†åºæ’åˆ—"></a>ORDER BY å­—æ®µ DESC é€†åºæ’åˆ—</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span>  SID<span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">OR</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sid <span class="token keyword">DESC</span><span class="token punctuation">;</span>SID<span class="token number">106</span><span class="token number">105</span><span class="token number">104</span><span class="token number">103</span><span class="token number">102</span><span class="token number">101</span></code></pre><p><a name="f4ef5c03"></a></p><h2 id="ORDER-BY-å­—æ®µ-ASC-æ­£åºæ’åˆ—ï¼Œé»˜è®¤ä¸ºæ­£"><a href="#ORDER-BY-å­—æ®µ-ASC-æ­£åºæ’åˆ—ï¼Œé»˜è®¤ä¸ºæ­£" class="headerlink" title="ORDER BY å­—æ®µ ASC æ­£åºæ’åˆ—ï¼Œé»˜è®¤ä¸ºæ­£"></a>ORDER BY å­—æ®µ ASC æ­£åºæ’åˆ—ï¼Œé»˜è®¤ä¸ºæ­£</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span>  SID<span class="token keyword">FROM</span>  fruits<span class="token keyword">WHERE</span> id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token operator">OR</span> sid <span class="token operator">></span> <span class="token number">102</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sid <span class="token keyword">ASC</span><span class="token punctuation">;</span>SID<span class="token number">101</span><span class="token number">102</span><span class="token number">103</span><span class="token number">104</span><span class="token number">105</span><span class="token number">106</span></code></pre><p><a name="a8aa86da"></a></p><h1 id="GROUP-BY-å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†ç»„"><a href="#GROUP-BY-å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†ç»„" class="headerlink" title="GROUP BY å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†ç»„"></a>GROUP BY å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ†ç»„</h1><p><a name="c84edd03"></a></p><h2 id="ä¸åˆ†ç»„"><a href="#ä¸åˆ†ç»„" class="headerlink" title="ä¸åˆ†ç»„"></a>ä¸åˆ†ç»„</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> SID <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span>SID<span class="token number">101</span><span class="token number">101</span><span class="token number">102</span><span class="token number">105</span><span class="token number">102</span><span class="token number">102</span><span class="token number">103</span><span class="token number">101</span><span class="token number">103</span><span class="token number">104</span><span class="token number">104</span><span class="token number">106</span></code></pre><p><a name="c7a11bc9"></a></p><h2 id="å°†ç›¸åŒçš„å†…å®¹åˆ†åˆ°åŒä¸€ä¸ªç»„é‡Œé¢"><a href="#å°†ç›¸åŒçš„å†…å®¹åˆ†åˆ°åŒä¸€ä¸ªç»„é‡Œé¢" class="headerlink" title="å°†ç›¸åŒçš„å†…å®¹åˆ†åˆ°åŒä¸€ä¸ªç»„é‡Œé¢"></a>å°†ç›¸åŒçš„å†…å®¹åˆ†åˆ°åŒä¸€ä¸ªç»„é‡Œé¢</h2><blockquote><p>åˆ†ç»„ä¹‹åï¼Œé‡å¤çš„éƒ½è¢«åˆ†åˆ°ä¸€ç»„</p></blockquote><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> SID <span class="token keyword">FROM</span> fruits <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SID <span class="token punctuation">;</span>SID<span class="token number">101</span><span class="token number">102</span><span class="token number">105</span><span class="token number">103</span><span class="token number">104</span><span class="token number">106</span></code></pre><p><a name="4b3bf9cc"></a></p><h2 id="GROUP-CONCATæŸ¥çœ‹åˆ†ç»„åçš„æ•°ç›®å’Œå†…å®¹"><a href="#GROUP-CONCATæŸ¥çœ‹åˆ†ç»„åçš„æ•°ç›®å’Œå†…å®¹" class="headerlink" title="GROUP_CONCATæŸ¥çœ‹åˆ†ç»„åçš„æ•°ç›®å’Œå†…å®¹"></a>GROUP_CONCATæŸ¥çœ‹åˆ†ç»„åçš„æ•°ç›®å’Œå†…å®¹</h2><p>æŸ¥çœ‹åˆ†ç»„ä¸­çš„å„ä¸ªå­—æ®µå†…å®¹ GROUP_CONCAT( )</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> SID<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>NAME<span class="token punctuation">)</span><span class="token punctuation">,</span>GROUP_CONCAT<span class="token punctuation">(</span>NAME<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sid<span class="token punctuation">;</span>SID    <span class="token function">count</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>    group_concat<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token number">101</span>    <span class="token number">3</span>    apple<span class="token punctuation">,</span>blackberry<span class="token punctuation">,</span>cherry<span class="token number">102</span>    <span class="token number">3</span>    orange<span class="token punctuation">,</span>banana<span class="token punctuation">,</span>grape<span class="token number">103</span>    <span class="token number">2</span>    coconut<span class="token punctuation">,</span>apricot<span class="token number">104</span>    <span class="token number">2</span>    lemon<span class="token punctuation">,</span>berry<span class="token number">105</span>    <span class="token number">1</span>    melon<span class="token number">106</span>    <span class="token number">1</span>    mango</code></pre><p><a name="cf7eeef3"></a></p><h2 id="HAVINGæ¡ä»¶è¿‡æ»¤ï¼Œç›¸å½“äºWHEREï¼Œåªèƒ½åˆ†ç»„ç”¨"><a href="#HAVINGæ¡ä»¶è¿‡æ»¤ï¼Œç›¸å½“äºWHEREï¼Œåªèƒ½åˆ†ç»„ç”¨" class="headerlink" title="HAVINGæ¡ä»¶è¿‡æ»¤ï¼Œç›¸å½“äºWHEREï¼Œåªèƒ½åˆ†ç»„ç”¨"></a>HAVINGæ¡ä»¶è¿‡æ»¤ï¼Œç›¸å½“äºWHEREï¼Œåªèƒ½åˆ†ç»„ç”¨</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> SID<span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>NAME<span class="token punctuation">)</span><span class="token punctuation">,</span>GROUP_CONCAT<span class="token punctuation">(</span>NAME<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sid <span class="token keyword">HAVING</span> SID <span class="token operator">></span> <span class="token number">103</span><span class="token punctuation">;</span>SID    <span class="token function">count</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>    group_concat<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token number">104</span>    <span class="token number">2</span>    lemon<span class="token punctuation">,</span>berry<span class="token number">105</span>    <span class="token number">1</span>    melon<span class="token number">106</span>    <span class="token number">1</span>    mango</code></pre><p><a name="6c4701bd"></a></p><h1 id="LIMIT-é™åˆ¶æŸ¥è¯¢ç»“æœçš„æ•°é‡"><a href="#LIMIT-é™åˆ¶æŸ¥è¯¢ç»“æœçš„æ•°é‡" class="headerlink" title="LIMIT é™åˆ¶æŸ¥è¯¢ç»“æœçš„æ•°é‡"></a>LIMIT é™åˆ¶æŸ¥è¯¢ç»“æœçš„æ•°é‡</h1><blockquote><p>LIMIT ä½ç½®åç§»é‡,è¡Œæ•°<br>é»˜è®¤ä½ç½®åç§»é‡ä¸º0ï¼Œå³ç¬¬1è¡Œ</p></blockquote><p>é€šè¿‡LIMITå¯ä»¥é€‰æ‹©æ•°æ®åº“è¡¨ä¸­çš„ä»»æ„è¡Œæ•°ï¼Œä¹Ÿå°±æ˜¯ä¸ç”¨ä»ç¬¬ä¸€æ¡è®°å½•å¼€å§‹éå†ï¼Œå¯ä»¥ç›´æ¥æ‹¿åˆ° ç¬¬5æ¡åˆ°ç¬¬10æ¡çš„è®°å½•ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‹¿åˆ°ç¬¬12åˆ°ç¬¬15æ¡çš„è®°å½•ã€‚</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">101</span>    apple    <span class="token number">5.20</span><span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">;</span>id    sid    name    price<span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">8</span>    <span class="token number">101</span>    cherry    <span class="token number">3.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> databases </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> web </tag>
            
            <tag> sqlå•è¡¨æŸ¥è¯¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL æ•™ç¨‹ï¼šåŸºç¡€è¯­å¥</title>
      <link href="/databases-mysql-base-sql/"/>
      <url>/databases-mysql-base-sql/</url>
      
        <content type="html"><![CDATA[<p><a name="6c182d8d"></a></p><h1 id="æ•°æ®åº“åŸºç¡€æ“ä½œ"><a href="#æ•°æ®åº“åŸºç¡€æ“ä½œ" class="headerlink" title="æ•°æ®åº“åŸºç¡€æ“ä½œ"></a>æ•°æ®åº“åŸºç¡€æ“ä½œ</h1><p><a name="2aae13df"></a></p><h2 id="å¼€å¯MySQLæœåŠ¡"><a href="#å¼€å¯MySQLæœåŠ¡" class="headerlink" title="å¼€å¯MySQLæœåŠ¡"></a>å¼€å¯MySQLæœåŠ¡</h2><pre class=" language-bash"><code class="language-bash">net start mysql</code></pre><p><a name="84e9143c"></a></p><h2 id="å…³é—­MySQLæœåŠ¡"><a href="#å…³é—­MySQLæœåŠ¡" class="headerlink" title="å…³é—­MySQLæœåŠ¡"></a>å…³é—­MySQLæœåŠ¡</h2><pre class=" language-bash"><code class="language-bash">net stop mysql</code></pre><p><a name="adc3184e"></a></p><h2 id="ç™»é™†MySQL"><a href="#ç™»é™†MySQL" class="headerlink" title="ç™»é™†MySQL"></a>ç™»é™†MySQL</h2><pre class=" language-bash"><code class="language-bash">mysql -uå¸å·ã€€-p è¾“å…¥å¯†ç mysql -uroot -p</code></pre><p><a name="43a4cf3e"></a></p><h2 id="æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“"><a href="#æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“"></a>æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span></code></pre><p><a name="cecae436"></a></p><h2 id="åˆ›å»ºæ•°æ®"><a href="#åˆ›å»ºæ•°æ®" class="headerlink" title="åˆ›å»ºæ•°æ®"></a>åˆ›å»ºæ•°æ®</h2><pre class=" language-sql"><code class="language-sql"> <span class="token keyword">create</span> <span class="token keyword">database</span> zhao <span class="token keyword">charset</span> utf8<span class="token punctuation">;</span></code></pre><p><a name="17d6bfc2"></a></p><h2 id="åˆ é™¤æ•°æ®åº“"><a href="#åˆ é™¤æ•°æ®åº“" class="headerlink" title="åˆ é™¤æ•°æ®åº“"></a>åˆ é™¤æ•°æ®åº“</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">database</span> ZHAO<span class="token punctuation">;</span></code></pre><p><a name="e9273484"></a></p><h1 id="æ•°æ®è¡¨"><a href="#æ•°æ®è¡¨" class="headerlink" title="æ•°æ®è¡¨"></a>æ•°æ®è¡¨</h1><p><a name="5d89fefc"></a></p><h2 id="åˆ›å»ºæ•°æ®è¡¨"><a href="#åˆ›å»ºæ•°æ®è¡¨" class="headerlink" title="åˆ›å»ºæ•°æ®è¡¨"></a>åˆ›å»ºæ•°æ®è¡¨</h2><pre><code>æ ¼å¼ï¼šCREATE TABLE æ•°æ®è¡¨å(å­—æ®µå1ã€€ã€€æ•°æ®ç±»å‹[åˆ—çº§åˆ«çº¦æŸæ¡ä»¶],å­—æ®µå2ã€€ã€€æ•°æ®ç±»å‹[åˆ—çº§åˆ«çº¦æŸæ¡ä»¶],å­—æ®µå3ã€€ã€€æ•°æ®ç±»å‹[åˆ—çº§åˆ«çº¦æŸæ¡ä»¶]);</code></pre><p>æ³¨æ„ï¼šæ ¼å¼ä¸ä¸€å®šéœ€è¦è¿™æ ·éš”ç€å†™ï¼Œå®Œå…¨å¯ä»¥å…¨éƒ¨å†™æˆä¸€è¡Œã€‚ä½†æ˜¯é‚£æ ·å†™å¯è§‚æ€§éå¸¸å·®ã€‚æˆ‘è¿™æ ·å†™åªæ˜¯ä¸ºäº†å¯ä»¥çœ‹çš„æ›´æ¸…æ™°ã€‚</p><p>è§£é‡Šï¼š1ã€[ ]ä¸­æ‹¬å·ä¸­çš„å†…å®¹è¡¨ç¤ºå¯ä»¥æœ‰å¯ä»¥æ²¡æœ‰ï¼Œ2ã€åˆ—çº§åˆ«è¿™ä¸ªâ€œåˆ—â€ä¸€å®šè¦ææ¸…æ¥šè¯´çš„æ˜¯ä»€ä¹ˆï¼Œä¸€å¼ è¡¨ä¸­æœ‰è¡Œæœ‰åˆ—ï¼Œåˆ—è¡¨ç¤ºç«–ï¼Œè¡Œè¡¨ç¤ºæ¨ªã€€3ã€çº¦æŸæ¡ä»¶åé¢ä¼šè®²åˆ°</p><p><a name="570b6fa5"></a></p><h2 id="åˆ›å»ºæ²¡æœ‰çº¦æŸçš„studentè¡¨"><a href="#åˆ›å»ºæ²¡æœ‰çº¦æŸçš„studentè¡¨" class="headerlink" title="åˆ›å»ºæ²¡æœ‰çº¦æŸçš„studentè¡¨"></a>åˆ›å»ºæ²¡æœ‰çº¦æŸçš„studentè¡¨</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student <span class="token punctuation">(</span>id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span> NAME <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> age <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æ³¨é‡Šï¼šSHOW TABLES å¯ä»¥æŸ¥è¯¢æ•°æ®åº“åº•ä¸‹çš„æ‰€æœ‰è¡¨ã€‚</p><p><a name="1afe2f93"></a></p><h2 id="åˆ›å»ºæœ‰çº¦æŸçš„studentè¡¨"><a href="#åˆ›å»ºæœ‰çº¦æŸçš„studentè¡¨" class="headerlink" title="åˆ›å»ºæœ‰çº¦æŸçš„studentè¡¨"></a>åˆ›å»ºæœ‰çº¦æŸçš„studentè¡¨</h2><ul><li>ä¸»é”®çº¦æŸ</li><li>å¤–é”®çº¦æŸ</li><li>éç©ºçº¦æŸ</li><li>å”¯ä¸€çº¦æŸ</li><li>é»˜è®¤çº¦æŸ</li><li>è‡ªåŠ¨å¢åŠ </li></ul><p><a name="26361348"></a></p><h3 id="ä¸»é”®çº¦æŸ"><a href="#ä¸»é”®çº¦æŸ" class="headerlink" title="ä¸»é”®çº¦æŸ"></a>ä¸»é”®çº¦æŸ</h3><p><strong>PRIMARY KEY(primary key)</strong></p><p>ç‹¬ä¸€æ— äºŒ(å”¯ä¸€)å’Œä¸èƒ½ä¸ºç©º(éç©º)ï¼Œé€šä¿—çš„è®²ï¼Œå°±æ˜¯åœ¨è¡¨ä¸­å¢åŠ è®°å½•æ—¶ï¼Œåœ¨è¯¥å­—æ®µä¸‹çš„æ•°æ®ä¸èƒ½é‡å¤ï¼Œä¸èƒ½ä¸ºç©ºï¼Œæ¯”å¦‚ä»¥ä¸Šé¢åˆ›å»ºçš„è¡¨ä¸ºä¾‹å­ï¼Œåœ¨è¡¨ä¸­å¢åŠ ä¸¤æ¡è®°å½•ï¼Œå¦‚æœidå­—æ®µç”¨äº†ä¸»é”®çº¦æŸã€‚åˆ™idä¸èƒ½ä¸€æ ·ï¼Œå¹¶ä¸”ä¸èƒ½ä¸ºç©ºã€‚ä¸€èˆ¬æ¯å¼ è¡¨ä¸­åº¦æœ‰ä¸€ä¸ªå­—æ®µä¸ºä¸»é”®ï¼Œå”¯ä¸€æ ‡è¯†è¿™æ¡è®°å½•ã€‚ä»¥åéœ€è¦æ‰¾åˆ°è¯¥æ¡è®°å½•ä¹Ÿå¯ä»¥åŒè¿™ä¸ªä¸»é”®æ¥ç¡®è®¤è®°å½•ï¼Œå› ä¸ºä¸»é”®æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”éç©ºï¼Œä¸€å¼ è¡¨ä¸­æ¯ä¸ªè®°å½•çš„ä¸»é”®åº¦ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æ ¹æ®ä¸»é”®ä¹Ÿå°±èƒ½æ‰¾åˆ°å¯¹åº”çš„è®°å½•ã€‚è€Œä¸æ˜¯å¤šæ¡é‡å¤çš„è®°å½•ã€‚å¦‚æœæ²¡æœ‰ä¸»é”®ï¼Œé‚£ä¹ˆè¡¨ä¸­å°±ä¼šå­˜åœ¨å¾ˆå¤šé‡å¤çš„è®°å½•ï¼Œé‚£ä¹ˆå³æµªè´¹å­˜å‚¨ç©ºé—´ï¼Œåœ¨æŸ¥è¯¢æ—¶ä¹Ÿæ¶ˆè€—æ›´å¤šèµ„æºã€‚</p><p>ä¸€èˆ¬è¢«ä¸»é”®çº¦æŸäº†çš„å­—æ®µåº¦ä¹ æƒ¯æ€§çš„ç§°è¯¥å­—æ®µä¸ºè¯¥è¡¨çš„ä¸»é”®</p><p><strong>å•å­—æ®µä¸»é”®çº¦æŸ</strong></p><p>ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student <span class="token punctuation">(</span>id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>age  <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ã€€<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student<span class="token punctuation">(</span>id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>age <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>å¤šå­—æ®µä¸»é”®çº¦æŸ(å¤åˆä¸»é”®)</strong></p><p>è¿™ä¸ªidå’Œnameéƒ½å¸‚ä¸»é”®ï¼Œè¯´æ˜åœ¨ä»¥åå¢åŠ çš„æ’å…¥çš„è®°å½•ä¸­ï¼Œidå’Œnameä¸èƒ½åŒæ—¶ä¸€æ ·ï¼Œæ¯”å¦‚è¯´å¯ä»¥æ˜¯è¿™æ ·ã€‚ä¸€æ¡è®°å½•ä¸ºid=1ï¼Œname=yyyã€å¦ä¸€æ¡è®°å½•ä¸ºï¼šid=1ï¼Œname=zzzã€‚ è¿™æ ·æ˜¯å¯ä»¥çš„ã€‚å¹¶ä¸æ˜¯ä½ ä»¬æ‰€ç†è§£çš„ä¸¤ä¸ªå­—æ®µåˆ†åˆ«åº¦ä¸å¯ä»¥ç›¸åŒã€‚</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student <span class="token punctuation">(</span>id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>age  <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student<span class="token punctuation">(</span>id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>age <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>NAME<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="499c95f9"></a></p><h3 id="å¤–é”®çº¦æŸ"><a href="#å¤–é”®çº¦æŸ" class="headerlink" title="å¤–é”®çº¦æŸ"></a>å¤–é”®çº¦æŸ</h3><p>ä»€ä¹ˆæ˜¯å¤–é”®ä¸¾ä¸ªä¾‹å­å°±æ¸…æ¥šäº†ï¼Œæœ‰ä¸¤å¼ è¡¨ï¼Œä¸€å¼ è¡¨æ˜¯emp(å‘˜å·¥)è¡¨ï¼Œå¦ä¸€å¼ è¡¨æ˜¯dept(éƒ¨é—¨)è¡¨ï¼Œä¸€ä¸ªå‘˜å·¥å±äºä¸€ä¸ªéƒ¨é—¨ï¼Œé‚£ä¹ˆå¦‚ä½•é€šè¿‡å‘˜å·¥èƒ½è®©æˆ‘ä»¬è‡ªå·±ä»–åœ¨å“ªä¸ªéƒ¨é—¨å‘¢ï¼Ÿé‚£å°±åªèƒ½åœ¨å‘˜å·¥è¡¨ä¸­å¢åŠ ä¸€ä¸ªå­—æ®µï¼Œèƒ½ä»£è¡¨å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨ï¼Œé‚£è¯¥å­—æ®µå°±åªèƒ½æ˜¯å­˜å‚¨deptä¸­çš„ä¸»é”®äº†(å› ä¸ºä¸»é”®æ˜¯å”¯ä¸€çš„ï¼Œæ‰èƒ½ç¡®å®æ˜¯å“ªä¸ªéƒ¨é—¨ï¼Œè¿›è€Œä»£è¡¨å‘˜å·¥æ‰€åœ¨çš„éƒ¨é—¨ï¼Œå¦‚æœæ˜¯éƒ¨é—¨åç§°ï¼Œæœ‰äº›éƒ¨é—¨çš„åç§°å¯èƒ½æ˜¯åŒåã€‚å°±ä¸èƒ½åŒºåˆ†äº†ã€‚)ï¼Œåƒè¿™æ ·çš„å­—æ®µï¼Œå°±ç¬¦åˆå¤–é”®çš„ç‰¹ç‚¹ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤–é”®çº¦æŸï¼Œä½¿è¯¥å­—æ®µåªèƒ½å¤Ÿå­˜å‚¨å¦ä¸€å¼ è¡¨çš„ä¸»é”®ã€‚å¦‚æœä¸è¢«å¤–é”®çº¦æŸï¼Œé‚£ä¹ˆè¯¥å­—æ®µå°±æ— æ³•ä¿è¯å­˜å‚¨è¿›æ¥çš„å€¼å°±ä¸€å®šæ˜¯å¦ä¸€å¼ è¡¨çš„ä¸»é”®å€¼ã€‚</p><p><strong>å¤–é”®çº¦æŸçš„ç‰¹ç‚¹</strong></p><ol><li>å¤–é”®çº¦æŸå¯ä»¥æè¿°ä»»æ„ä¸€ä¸ªå­—æ®µ(åŒ…æ‹¬ä¸»é”®)ï¼Œå¯ä»¥ä¸ºç©ºï¼Œå¹¶ä¸”ä¸€ä¸ªè¡¨ä¸­å¯ä»¥æœ‰å¤šä¸ªå¤–é”®ã€‚ä½†æ˜¯å¤–é”®å­—æ®µä¸­çš„å€¼å¿…é¡»æ˜¯å¦ä¸€å¼ è¡¨ä¸­çš„ä¸»é”®ã€‚</li><li>è¿™æ ·è¢«å¤–é”®å…³è”çš„ä¸¤ç§è¡¨çš„å…³ç³»å¯ä»¥ç§°ä¸ºçˆ¶å­è¡¨æˆ–è€…ä¸»ä»è¡¨ã€‚å­è¡¨(ä»è¡¨)æ‹¥æœ‰å¤–é”®å­—æ®µçš„è¡¨ï¼Œçˆ¶è¡¨(ä¸»è¡¨)è¢«å¤–é”®å­—æ®µæ‰€æŒ‡å‘çš„è¡¨ã€‚</li><li>å­è¡¨è¢«å¤–é”®çº¦æŸä¿®é¥°çš„å­—æ®µå¿…é¡»å’Œçˆ¶è¡¨çš„ä¸»é”®å­—æ®µçš„ç±»å‹ä¸€æ ·ã€‚</li></ol><p>æ³¨æ„ï¼šä¸€ä¸ªè¡¨ä¸­æœ‰è¢«å¤–é”®ä¿®é¥°çš„å­—æ®µï¼Œå°±ç§°è¯¥è¡¨æœ‰å¤–é”®(æ˜¯â€œæœ‰å¤–é”®â€ã€‚è€Œä¸æ˜¯â€œæ˜¯å¤–é”®â€)ï¼Œå¹¶ä¼šç»™è¯¥è¡¨ä¸­çš„å¤–é”®çº¦æŸå–ä¸€ä¸ªåç§°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸¸è¯´çš„è¿™ä¸ªè¡¨æœ‰æ²¡æœ‰å¤–é”®ï¼ŒæŒ‡çš„ä¸æ˜¯è¢«å¤–é”®çº¦æŸä¿®é¥°çš„å­—æ®µåï¼Œè€Œæ˜¯æŒ‡è¿™ä¸ªè¡¨æ˜¯å¦æœ‰å­˜åœ¨å¤–é”®çº¦æŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½è¯´è¿™ä¸ªè¡¨çš„å¤–é”®æ˜¯xxx(è¯¥è¡¨ä¸­è¢«å¤–é”®çº¦æŸä¿®é¥°çš„å­—æ®µå)ï¼Œè¿™ç§è¯´æ³•æ˜¯é”™è¯¯çš„ï¼Œä½†æ˜¯å¤§å¤šæ•°äººå·²ç»ä¹ æƒ¯äº†è¿™æ ·ï¼Œè™½ç„¶å½±å“ä¸å¤§ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šæ—¶å€™éœ€è¦ç†è§£ä¸€ä¸ªä¸œè¥¿æ—¶ï¼Œä¼šé€ æˆä¸€å®šçš„å›°æ‰°ã€‚</p><pre class=" language-sql"><code class="language-sql">æ ¼å¼ï¼š<span class="token keyword">CONSTRAINT</span>ã€€ã€€å¤–é”®åç§°ã€€ã€€<span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>è¢«å¤–é”®çº¦æŸçš„å­—æ®µåç§°<span class="token punctuation">)</span>ã€€ã€€<span class="token keyword">REFERENCES</span>  ä¸»è¡¨å<span class="token punctuation">(</span>ä¸»é”®å­—æ®µ<span class="token punctuation">)</span>è‹±æ–‡è§£é‡Šï¼š<span class="token keyword">CONSTRAINT</span>:çº¦æŸã€€ã€€ã€€ã€€<span class="token keyword">REFERENCES</span>:å‚è€ƒ</code></pre><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> studentA <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  NAME <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  location <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> studentB <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  NAME <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  deptId <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">CONSTRAINT</span> tableA_tableB_1 FOREIGH <span class="token keyword">KEY</span> <span class="token punctuation">(</span>deptId<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> tableA <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è§£é‡Šï¼štableBä¸­æœ‰ä¸€ä¸ªåä¸ºtableA_tableB_1çš„å¤–é”®å…³è”äº†tableAå’ŒtableBä¸¤ä¸ªè¡¨ï¼Œè¢«å¤–é”®çº¦æŸä¿®é¥°çš„å­—æ®µä¸ºtableBä¸­çš„deptIdï¼Œä¸»é”®å­—æ®µä¸ºtableAä¸­çš„id</p><p><a name="e96c3ec1"></a></p><h3 id="éç©ºçº¦æŸ"><a href="#éç©ºçº¦æŸ" class="headerlink" title="éç©ºçº¦æŸ"></a>éç©ºçº¦æŸ</h3><p><strong>NOT NULL</strong></p><p>è¢«è¯¥çº¦æŸä¿®é¥°äº†çš„å­—æ®µï¼Œå°±ä¸èƒ½ä¸ºç©ºï¼Œä¸»é”®çº¦æŸä¸­å°±åŒ…æ‹¬äº†è¿™ä¸ªçº¦æŸ</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> studentA <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  NAME <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  location <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="e70693bd"></a></p><h3 id="å”¯ä¸€çº¦æŸ"><a href="#å”¯ä¸€çº¦æŸ" class="headerlink" title="å”¯ä¸€çº¦æŸ"></a>å”¯ä¸€çº¦æŸ</h3><p><strong>UNIQUE</strong></p><p>è¢«å”¯ä¸€çº¦æŸä¿®é¥°äº†çš„å­—æ®µï¼Œè¡¨ç¤ºè¯¥å­—æ®µä¸­çš„å€¼å”¯ä¸€ï¼Œä¸èƒ½æœ‰ç›¸åŒçš„å€¼ï¼Œé€šä¿—ç‚¹è®²ï¼Œå°±å¥½æ¯”æ’å…¥ä¸¤æ¡è®°å½•ï¼Œè¿™ä¸¤æ¡è®°å½•ä¸­å¤„äºè¯¥å­—æ®µçš„å€¼ä¸èƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> studentA <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  NAME <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>  location <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä¹Ÿå°±æ˜¯è¯´åœ¨æ’å…¥çš„è®°å½•ä¸­ï¼Œæ¯æ¡è®°å½•çš„nameå€¼ä¸èƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p><a name="bae9105a"></a></p><h3 id="é»˜è®¤çº¦æŸ"><a href="#é»˜è®¤çº¦æŸ" class="headerlink" title="é»˜è®¤çº¦æŸ"></a>é»˜è®¤çº¦æŸ</h3><p><strong>Default</strong></p><p>æŒ‡å®šè¿™ä¸€åˆ—çš„é»˜è®¤å€¼ä¸ºå¤šå°‘ï¼Œæ¯”å¦‚ï¼Œç”·æ€§åŒå­¦æ¯”è¾ƒå¤šï¼Œæ€§åˆ«å°±å¯ä»¥è®¾ç½®ä¸ºé»˜è®¤ç”·ï¼Œå¦‚æœæ’å…¥ä¸€è¡Œè®°å½•æ—¶ï¼Œæ€§åˆ«æ²¡æœ‰å¡«ï¼Œé‚£ä¹ˆå°±é»˜è®¤åŠ ä¸Š</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> studentA <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>  NAME <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  eptId <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token number">1111</span><span class="token punctuation">,</span>  salary <span class="token keyword">FLOAT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="f9f952f0"></a></p><h3 id="è‡ªåŠ¨å¢åŠ "><a href="#è‡ªåŠ¨å¢åŠ " class="headerlink" title="è‡ªåŠ¨å¢åŠ "></a>è‡ªåŠ¨å¢åŠ </h3><p><strong>AUTO_INCREMENT</strong></p><p>ä¸€ä¸ªè¡¨åªèƒ½ä¸€ä¸ªå­—æ®µä½¿ç”¨AUTO_INCREMENTï¼Œå¹¶ä¸”ä½¿ç”¨è¿™ä¸ªçº¦æŸçš„å­—æ®µåªèƒ½æ˜¯æ•´æ•°ç±»å‹(ä»»æ„çš„æ•´æ•°ç±»å‹     TINYINT,SMALLIN,INT,BIGINT)ï¼Œé»˜è®¤å€¼æ˜¯1ï¼Œä¹Ÿå°±æ˜¯è¯´ä»1å¼€å§‹å¢åŠ çš„ã€‚ä¸€èˆ¬å°±æ˜¯ç»™ä¸»é”®ä½¿ç”¨çš„ï¼Œè‡ªåŠ¨å¢åŠ ï¼Œä½¿æ¯ä¸ªä¸»é”®çš„å€¼åº¦ä¸ä¸€æ ·ï¼Œå¹¶ä¸”ä¸ç”¨æˆ‘ä»¬è‡ªå·±ç®¡ç†ï¼Œè®©ä¸»é”®è‡ªå·±è‡ªåŠ¨ç”Ÿæˆ</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> studentA <span class="token punctuation">(</span>  id <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>  NAME <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="b13411d7"></a></p><h2 id="æŸ¥çœ‹è¡¨ç»“æ„"><a href="#æŸ¥çœ‹è¡¨ç»“æ„" class="headerlink" title="æŸ¥çœ‹è¡¨ç»“æ„"></a>æŸ¥çœ‹è¡¨ç»“æ„</h2><p><a name="6d13e1b7"></a></p><h3 id="æŸ¥çœ‹è¡¨åŸºæœ¬ç»“æ„è¯­å¥"><a href="#æŸ¥çœ‹è¡¨åŸºæœ¬ç»“æ„è¯­å¥" class="headerlink" title="æŸ¥çœ‹è¡¨åŸºæœ¬ç»“æ„è¯­å¥"></a>æŸ¥çœ‹è¡¨åŸºæœ¬ç»“æ„è¯­å¥</h3><pre class=" language-sql"><code class="language-sql">æ ¼å¼<span class="token number">1</span>ï¼š<span class="token keyword">DESCRIBE</span> è¡¨å<span class="token keyword">DESCRIBE</span>ã€€student<span class="token punctuation">;</span>æ ¼å¼<span class="token number">2</span>ï¼š<span class="token keyword">DESC</span> è¡¨å<span class="token keyword">DESC</span> student<span class="token punctuation">;</span></code></pre><p><a name="f821026d"></a></p><h3 id="æŸ¥çœ‹åˆ›å»ºè¡¨çš„è¯­å¥"><a href="#æŸ¥çœ‹åˆ›å»ºè¡¨çš„è¯­å¥" class="headerlink" title="æŸ¥çœ‹åˆ›å»ºè¡¨çš„è¯­å¥"></a>æŸ¥çœ‹åˆ›å»ºè¡¨çš„è¯­å¥</h3><pre class=" language-sql"><code class="language-sql">æ ¼å¼<span class="token number">1</span>ï¼š<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> è¡¨å<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student<span class="token punctuation">;</span>æ ¼å¼<span class="token number">2</span>ï¼š<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> è¡¨å\G<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> student\G<span class="token punctuation">;</span></code></pre><p><a name="dc15d5f9"></a></p><h2 id="ä¿®æ”¹æ•°æ®è¡¨"><a href="#ä¿®æ”¹æ•°æ®è¡¨" class="headerlink" title="ä¿®æ”¹æ•°æ®è¡¨"></a>ä¿®æ”¹æ•°æ®è¡¨</h2><p>ä¿®æ”¹æ•°æ®è¡¨åŒ…æ‹¬ï¼šå¯¹è¡¨ä¸­å­—æ®µçš„å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€‚  åœ¨è¿™ä¸ªé‡Œé¢ç”¨çš„å…³é”®å­—ä¸º ALTER</p><p><a name="9adf412d"></a></p><h3 id="ä¿®æ”¹è¡¨å"><a href="#ä¿®æ”¹è¡¨å" class="headerlink" title="ä¿®æ”¹è¡¨å"></a>ä¿®æ”¹è¡¨å</h3><pre class=" language-sql"><code class="language-sql">æ ¼å¼ï¼š<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>æ—§è¡¨å<span class="token operator">></span> <span class="token keyword">RENAME</span><span class="token punctuation">[</span><span class="token keyword">TO</span><span class="token punctuation">]</span><span class="token operator">&lt;</span>æ–°è¡¨å<span class="token operator">></span><span class="token punctuation">;</span>å°†studentè¡¨åæ”¹ä¸ºstudent1<span class="token punctuation">(</span>æ”¹å®Œååœ¨æ”¹å›æ¥<span class="token punctuation">)</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> student1<span class="token punctuation">;</span></code></pre><p><a name="f1b0e939"></a></p><h3 id="ä¿®æ”¹è¡¨ä¸­çš„å­—æ®µå"><a href="#ä¿®æ”¹è¡¨ä¸­çš„å­—æ®µå" class="headerlink" title="ä¿®æ”¹è¡¨ä¸­çš„å­—æ®µå"></a>ä¿®æ”¹è¡¨ä¸­çš„å­—æ®µå</h3><pre class=" language-sql"><code class="language-sql">æ ¼å¼ï¼š<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>è¡¨å<span class="token operator">></span> CHANGE<span class="token operator">&lt;</span>æ—§å­—æ®µå<span class="token operator">></span><span class="token operator">&lt;</span>æ–°å­—æ®µå<span class="token operator">></span><span class="token operator">&lt;</span>æ–°æ•°æ®ç±»å‹<span class="token operator">></span>å°†studentè¡¨ä¸­çš„nameå­—æ®µåæ”¹ä¸º username<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student CHANGE name username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è§£é‡Šï¼šè¿™ä¸ªä¸ä»…èƒ½æ”¹å˜å­—æ®µåï¼Œè¿˜èƒ½å°†å­—æ®µçš„æ•°æ®ç±»å‹ä¸€å¹¶ä¿®æ”¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥å•çº¯çš„åªä¿®æ”¹å­—æ®µåï¼Œä¹Ÿå¯ä»¥å•çº¯çš„åªä¿®æ”¹æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥åŒæ—¶ä¸€èµ·ä¿®æ”¹</p><p><a name="d6c757dd"></a></p><h3 id="ä¿®æ”¹è¡¨ä¸­çš„æ•°æ®ç±»å‹"><a href="#ä¿®æ”¹è¡¨ä¸­çš„æ•°æ®ç±»å‹" class="headerlink" title="ä¿®æ”¹è¡¨ä¸­çš„æ•°æ®ç±»å‹"></a>ä¿®æ”¹è¡¨ä¸­çš„æ•°æ®ç±»å‹</h3><pre class=" language-sql"><code class="language-sql">æ ¼å¼ï¼š<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>è¡¨å<span class="token operator">></span> <span class="token keyword">MODIFY</span><span class="token operator">&lt;</span>å­—æ®µå<span class="token operator">></span><span class="token operator">&lt;</span>æ•°æ®ç±»å‹<span class="token operator">></span>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">MODIFY</span> username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è§£é‡Šï¼šåªèƒ½ä¿®æ”¹å­—æ®µåçš„æ•°æ®ç±»å‹ï¼Œä½†æ˜¯å…¶åŸç†è·Ÿä¸Šé¢changeåšçš„äº‹æƒ…ä¸€æ ·ï¼Œè¿™é‡Œä¹Ÿæœ‰ä¿®æ”¹å­—æ®µåçš„è¿‡ç¨‹ï¼Œåªä¸è¿‡ä¿®æ”¹åçš„å­—æ®µåå’Œä¿®æ”¹å‰çš„å­—æ®µåç›¸åŒï¼Œä½†æ˜¯æ•°æ®ç±»å‹ä¸ä¸€æ ·ã€‚</p><p><a name="bbef47b6"></a></p><h3 id="ä¿®æ”¹å­—æ®µçš„æ’åˆ—ä½ç½®"><a href="#ä¿®æ”¹å­—æ®µçš„æ’åˆ—ä½ç½®" class="headerlink" title="ä¿®æ”¹å­—æ®µçš„æ’åˆ—ä½ç½®"></a>ä¿®æ”¹å­—æ®µçš„æ’åˆ—ä½ç½®</h3><pre class=" language-sql"><code class="language-sql">æ–¹å¼<span class="token number">1</span>ï¼š<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>è¡¨å<span class="token operator">></span> <span class="token keyword">MODIFY</span><span class="token operator">&lt;</span>å­—æ®µ<span class="token number">1</span><span class="token operator">></span><span class="token operator">&lt;</span>æ•°æ®ç±»å‹<span class="token operator">></span> <span class="token keyword">FIRST</span><span class="token operator">|</span><span class="token keyword">AFTER</span><span class="token operator">&lt;</span>å­—æ®µ<span class="token number">2</span><span class="token operator">></span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">MODIFY</span> username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">AFTER</span> age<span class="token punctuation">;</span></code></pre><p>è§£é‡Šï¼šå°†å­—æ®µ1çš„ä½ç½®æ”¾åˆ°ç¬¬ä¸€ï¼Œæˆ–è€…æ”¾åˆ°æŒ‡å®šå­—æ®µ2çš„åé¢</p><pre class=" language-sql"><code class="language-sql">æ–¹å¼<span class="token number">2</span>ï¼š<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>è¡¨å<span class="token operator">></span> CHANGE<span class="token operator">&lt;</span>å­—æ®µ<span class="token number">1</span><span class="token operator">></span><span class="token operator">&lt;</span>å­—æ®µ<span class="token number">2</span><span class="token operator">></span><span class="token operator">&lt;</span>æ•°æ®ç±»å‹<span class="token operator">></span> <span class="token keyword">FIRST</span><span class="token operator">|</span><span class="token keyword">AFTER</span><span class="token operator">&lt;</span>å­—æ®µ<span class="token number">3</span><span class="token operator">></span>ã€€<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student CHANGE username username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">AFTER</span> age<span class="token punctuation">;</span></code></pre><p>è§£é‡Šï¼šå…¶å®æ˜¯ä¸€æ ·çš„ï¼Œå°†æ˜¯å­—æ®µ2è¦†ç›–å­—æ®µ1ï¼Œç„¶ååœ¨è¿›è¡Œæ’åº</p><p><strong>æ€»ç»“</strong></p><p>CHANGEå’ŒMODIFYçš„åŒºåˆ«ï¼Ÿ</p><p>åŸç†éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒMODIFYåªèƒ½ä¿®æ”¹æ•°æ®ç±»å‹ï¼Œä½†æ˜¯CHANGEèƒ½å¤Ÿä¿®æ”¹æ•°æ®ç±»å‹å’Œå­—æ®µåï¼Œä¹Ÿå°±æ˜¯è¯´MODIFYæ˜¯CHANGEçš„æ›´å…·ä½“åŒ–çš„ä¸€ä¸ªæ“ä½œã€‚å¯èƒ½è§‰å¾—ç”¨CHANGEåªæ”¹å˜ä¸€ä¸ªæ•°æ®ç±»å‹ä¸å¤ªçˆ½ï¼Œå°±å¢åŠ äº†ä¸€ä¸ªèƒ½ç›´æ¥æ”¹æ•°æ®ç±»å‹çš„ä½¿ç”¨å…³é”®å­—MODIFYæ¥æ“ä½œã€‚</p><p><a name="4484fa04"></a></p><h2 id="æ·»åŠ å­—æ®µ"><a href="#æ·»åŠ å­—æ®µ" class="headerlink" title="æ·»åŠ å­—æ®µ"></a>æ·»åŠ å­—æ®µ</h2><pre class=" language-sql"><code class="language-sql">æ ¼å¼ï¼š<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>è¡¨åç§°<span class="token operator">></span> <span class="token keyword">ADD</span><span class="token operator">&lt;</span>æ–°å­—æ®µå<span class="token operator">></span><span class="token operator">&lt;</span>æ•°æ®ç±»å‹<span class="token operator">></span><span class="token punctuation">[</span>çº¦æŸæ¡ä»¶<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">FIRST</span><span class="token operator">|</span><span class="token keyword">AFTER</span><span class="token operator">&lt;</span>å·²å­˜åœ¨çš„è¡¨å<span class="token operator">></span><span class="token punctuation">]</span>è§£é‡Šï¼šåœ¨ä¸€ä¸ªç‰¹å®šä½ç½®å¢åŠ ä¸€ä¸ªæ–°çš„å­—æ®µï¼Œå¦‚æœä¸æŒ‡å®šä½ç½®ï¼Œé»˜è®¤æ˜¯æœ€åä¸€ä¸ªã€‚<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">ADD</span> sex <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="1cfd4c81"></a></p><h2 id="åˆ é™¤å­—æ®µ"><a href="#åˆ é™¤å­—æ®µ" class="headerlink" title="åˆ é™¤å­—æ®µ"></a>åˆ é™¤å­—æ®µ</h2><pre class=" language-sql"><code class="language-sql">æ ¼å¼ï¼š<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>è¡¨åç§°<span class="token operator">></span> <span class="token keyword">DROP</span><span class="token operator">&lt;</span>å­—æ®µå<span class="token operator">></span><span class="token punctuation">;</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> student <span class="token keyword">DROP</span> sex<span class="token punctuation">;</span></code></pre><p><a name="b47f56e0"></a></p><h2 id="åˆ é™¤è¡¨çš„å¤–é”®çº¦æŸ"><a href="#åˆ é™¤è¡¨çš„å¤–é”®çº¦æŸ" class="headerlink" title="åˆ é™¤è¡¨çš„å¤–é”®çº¦æŸ"></a>åˆ é™¤è¡¨çš„å¤–é”®çº¦æŸ</h2><pre class=" language-sql"><code class="language-sql">æ ¼å¼ï¼š<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>è¡¨åç§°<span class="token operator">></span> <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token operator">&lt;</span>å¤–é”®çº¦æŸå<span class="token operator">></span></code></pre><p>æ³¨æ„ï¼šå¤–é”®çº¦æŸå æŒ‡çš„ä¸æ˜¯è¢«å¤–é”®çº¦æŸä¿®é¥°çš„å­—æ®µåï¼Œåˆ‡è®°ï¼Œè€Œæ˜¯æˆ‘ä»¬åœ¨åˆ›å»ºå¤–é”®çº¦æŸå…³ç³»æ—¶å–çš„åå­—ã€‚</p><p><a name="0498ba16"></a></p><h2 id="æ›´æ”¹è¡¨çš„å­˜å‚¨å¼•æ“"><a href="#æ›´æ”¹è¡¨çš„å­˜å‚¨å¼•æ“" class="headerlink" title="æ›´æ”¹è¡¨çš„å­˜å‚¨å¼•æ“"></a>æ›´æ”¹è¡¨çš„å­˜å‚¨å¼•æ“</h2><pre class=" language-sql"><code class="language-sql">æ ¼å¼ï¼š<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>è¡¨å<span class="token operator">></span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token operator">&lt;</span>æ›´æ”¹åçš„å­˜å‚¨å¼•æ“å<span class="token operator">></span></code></pre><p>è¿™ä¸ªå­˜å‚¨å¼•æ“ç›®å‰æˆ‘è‡ªå·±ä¹Ÿä¸å¤ªæ¸…æ¥šï¼Œè™½ç„¶çŸ¥é“æœ‰å“ªå‡ ç§å¼•æ“ï¼Œä½†æ˜¯ç¨å¾®æ·±å…¥ä¸€ç‚¹å°±ä¸æ¸…æ¥šäº†ï¼Œæ‰€ä»¥æ‰“ç®—ç•™åˆ°æ—¥ååœ¨è¯´ã€‚</p><p><a name="0849f91a"></a></p><h1 id="åˆ é™¤è¡¨"><a href="#åˆ é™¤è¡¨" class="headerlink" title="åˆ é™¤è¡¨"></a>åˆ é™¤è¡¨</h1><p><a name="2fab1f77"></a></p><h2 id="åˆ é™¤æ— å…³è”è¡¨"><a href="#åˆ é™¤æ— å…³è”è¡¨" class="headerlink" title="åˆ é™¤æ— å…³è”è¡¨"></a>åˆ é™¤æ— å…³è”è¡¨</h2><pre class=" language-sql"><code class="language-sql">æ ¼å¼ï¼š<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span><span class="token operator">&lt;</span>è¡¨å<span class="token operator">></span>ï¼›<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> student<span class="token punctuation">;</span></code></pre><p><a name="8b4e771e"></a></p><h2 id="åˆ é™¤è¢«å…¶ä»–è¡¨å…³è”çš„ä¸»è¡¨"><a href="#åˆ é™¤è¢«å…¶ä»–è¡¨å…³è”çš„ä¸»è¡¨" class="headerlink" title="åˆ é™¤è¢«å…¶ä»–è¡¨å…³è”çš„ä¸»è¡¨"></a>åˆ é™¤è¢«å…¶ä»–è¡¨å…³è”çš„ä¸»è¡¨</h2><p>è¿™ä¸ªæ˜¯æ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹ï¼Œåœ¨æœ‰å¤–é”®å…³è”å…³ç³»çš„ä¸¤å¼ è¡¨ä¸­ï¼Œå¦‚æœåˆ é™¤ä¸»è¡¨ï¼Œé‚£ä¹ˆæ˜¯åˆ ä¸æ‰çš„ï¼Œå¹¶ä¸”ä¼šæŠ¥é”™ã€‚å› ä¸ºæœ‰å¼ è¡¨ä¾èµ–äºä»–ã€‚é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿé’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæ€»å…±æœ‰ä¸¤ç§æ–¹æ³•</p><ol><li>å…ˆåˆ é™¤ä½ å­è¡¨ï¼Œç„¶ååœ¨åˆ é™¤çˆ¶è¡¨ï¼Œè¿™æ ·å°±è¾¾åˆ°äº†åˆ é™¤çˆ¶è¡¨çš„ç›®çš„ï¼Œä½†æ˜¯å­è¡¨ä¹Ÿè¦è¢«åˆ é™¤</li><li>å…ˆè§£é™¤å¤–é”®å…³ç³»ï¼Œç„¶ååœ¨åˆ é™¤çˆ¶è¡¨ï¼Œè¿™æ ·ä¹Ÿèƒ½è¾¾åˆ°ç›®çš„ï¼Œå¹¶ä¸”ä¿ç•™äº†å­è¡¨ï¼Œåªåˆ é™¤æˆ‘ä»¬ä¸éœ€è¦çš„çˆ¶è¡¨ã€‚åœ¨3.7ä¸­å°±è®²è§£äº†å¦‚ä½•åˆ é™¤å¤–é”®å…³ç³»ã€‚</li></ol><p><a name="25f9c7fa"></a></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è®²äº†è¿™ä¹ˆå¤šï¼Œä½†å®é™…ä¸­ï¼Œç”¨åˆ°çš„å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œç‰¹åˆ«æ˜¯å¯¹è¡¨ç»“æ„çš„ä¿®æ”¹çš„æ“ä½œï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸€èˆ¬æ•°æ®åº“è¡¨è¢«å®šä¹‰ä¸‹æ¥äº†ï¼Œå°±ä¸ä¼šåœ¨ä¿®æ”¹äº†ï¼Œå‘ç°æ•°æ®åº“è¡¨è®¾è®¡çš„ä¸å¥½ï¼Œä¹Ÿæ˜¯å°†è¡¨å…¨éƒ¨åˆ é™¤ï¼Œç„¶ååœ¨é‡æ–°åˆ›å»ºè¿‡æ–°è¡¨ã€‚ä½†æ˜¯åœ¨æˆ‘ä»¬å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œè¿™äº›æ“ä½œè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºéœ€è¦è¿™äº›åŸºç¡€æ¥å­¦ä¹ åé¢æ›´æ·±å…¥çš„ä¸œè¥¿ï¼Œä¸å¯èƒ½å› ä¸ºå®é™…ä¸­ä¸ç”¨ï¼Œå°±ä¸å­¦è¿™ä¸å­¦é‚£ï¼Œè¦ç›¸ä¿¡ï¼Œä¸ç®¡åšä»€ä¹ˆï¼Œé‚£è‚¯å®šæ˜¯æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œå¯èƒ½é‚£æ„ä¹‰å¹¶ä¸å¤§ï¼Œä½†æ˜¯æ—¥åè‚¯å®šä¼šå¯¹æˆ‘ä»¬æœ‰æ‰€å¸®åŠ©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> databases </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> web </tag>
            
            <tag> sqlåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL æ•™ç¨‹ï¼šå¤šè¡¨æŸ¥è¯¢</title>
      <link href="/databases-mysql-many-query/"/>
      <url>/databases-mysql-many-query/</url>
      
        <content type="html"><![CDATA[<p><a name="3cb64573"></a></p><h1 id="åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥æ•°æ®"><a href="#åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥æ•°æ®" class="headerlink" title="åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥æ•°æ®"></a>åˆ›å»ºæ•°æ®åº“å¹¶æ’å…¥æ•°æ®</h1><p><a name="cd857cef"></a></p><h2 id="è¡¨ä¸€ï¼Œfruitsï¼Œæ°´æœ"><a href="#è¡¨ä¸€ï¼Œfruitsï¼Œæ°´æœ" class="headerlink" title="è¡¨ä¸€ï¼Œfruitsï¼Œæ°´æœ"></a>è¡¨ä¸€ï¼Œfruitsï¼Œæ°´æœ</h2><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># åˆ›å»ºè¡¨ï¼Œæ•°æ®ç±»å‹è¯·è‡ªè¡ŒæŸ¥è¯¢</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> fruits <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  sid <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  NAME CHAR<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  price <span class="token keyword">DECIMAL</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># è¡¨ä¸­æ’å…¥æ•°æ®</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> fruits<span class="token keyword">VALUES</span>  <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token number">5.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'blackberry'</span><span class="token punctuation">,</span> <span class="token number">10.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token string">'melon'</span><span class="token punctuation">,</span> <span class="token number">8.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token number">10.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token string">'grape'</span><span class="token punctuation">,</span> <span class="token number">5.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'coconut'</span><span class="token punctuation">,</span> <span class="token number">9.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token string">'cherry'</span><span class="token punctuation">,</span> <span class="token number">3.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token string">'apricot'</span><span class="token punctuation">,</span> <span class="token number">2.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token string">'lemon'</span><span class="token punctuation">,</span> <span class="token number">6.4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token string">'berry'</span><span class="token punctuation">,</span> <span class="token number">7.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token string">'mango'</span><span class="token punctuation">,</span> <span class="token number">15.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">(</span><span class="token string">'13'</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token string">'HHHHHH'</span><span class="token punctuation">,</span> <span class="token number">12.6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="3317a667"></a></p><h2 id="è¡¨äºŒï¼Œsuppliersï¼Œä¾›åº”å•†"><a href="#è¡¨äºŒï¼Œsuppliersï¼Œä¾›åº”å•†" class="headerlink" title="è¡¨äºŒï¼Œsuppliersï¼Œä¾›åº”å•†"></a>è¡¨äºŒï¼Œsuppliersï¼Œä¾›åº”å•†</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> suppliers <span class="token punctuation">(</span>  sid <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  sName CHAR<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  city CHAR<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  zip CHAR<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  scall CHAR<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>sid<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> suppliers<span class="token keyword">VALUES</span>  <span class="token punctuation">(</span>    <span class="token number">101</span><span class="token punctuation">,</span>    <span class="token string">'Supplies A'</span><span class="token punctuation">,</span>    <span class="token string">'Tianjin'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'18075'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">102</span><span class="token punctuation">,</span>    <span class="token string">'Supplies B'</span><span class="token punctuation">,</span>    <span class="token string">'Chongqing'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'44333'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">103</span><span class="token punctuation">,</span>    <span class="token string">'Supplies C'</span><span class="token punctuation">,</span>    <span class="token string">'Shanghai'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'90046'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">104</span><span class="token punctuation">,</span>    <span class="token string">'Supplies D'</span><span class="token punctuation">,</span>    <span class="token string">'Zhongshan'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'11111'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">105</span><span class="token punctuation">,</span>    <span class="token string">'Supplies E'</span><span class="token punctuation">,</span>    <span class="token string">'Taiyuang'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'22222'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">106</span><span class="token punctuation">,</span>    <span class="token string">'Supplies F'</span><span class="token punctuation">,</span>    <span class="token string">'Beijing'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'45678'</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>    <span class="token number">107</span><span class="token punctuation">,</span>    <span class="token string">'Supplies G'</span><span class="token punctuation">,</span>    <span class="token string">'Zhengzhou'</span><span class="token punctuation">,</span>    <span class="token string">'400000'</span><span class="token punctuation">,</span>    <span class="token string">'33332'</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="37722d2d"></a></p><h2 id="è¡¨3ï¼Œé¡¾å®¢"><a href="#è¡¨3ï¼Œé¡¾å®¢" class="headerlink" title="è¡¨3ï¼Œé¡¾å®¢"></a>è¡¨3ï¼Œé¡¾å®¢</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> people <span class="token punctuation">(</span>  id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  num <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  CITY <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> people<span class="token keyword">VALUES</span>  <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token string">'Shanghai'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'TIANJIN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'BEIJING'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">'NANCHANG'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token string">'NANJING'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">'JIANGXI'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token string">'SHENZHEN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token string">'WUHAN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">,</span> <span class="token string">'GUANZHOU'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token string">'LIAONING'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a name="21ba516d"></a></p><h1 id="æ™®é€šåŒè¡¨æŸ¥è¯¢"><a href="#æ™®é€šåŒè¡¨æŸ¥è¯¢" class="headerlink" title="æ™®é€šåŒè¡¨æŸ¥è¯¢"></a>æ™®é€šåŒè¡¨æŸ¥è¯¢</h1><p>æŸ¥è¯¢æ°´æœçš„ä¾›åº”å•†ç¼–ç ã€åå­—å³å¯¹åº”çš„æ°´æœåç§°å’Œä»·æ ¼</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token number">f</span><span class="token punctuation">.</span>SID<span class="token punctuation">,</span>S<span class="token punctuation">.</span>SNAME<span class="token punctuation">,</span>F<span class="token punctuation">.</span>name<span class="token punctuation">,</span>F<span class="token punctuation">.</span>price <span class="token keyword">FROM</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token punctuation">,</span>suppliers <span class="token keyword">AS</span> S <span class="token keyword">WHERE</span> F<span class="token punctuation">.</span>SID <span class="token operator">=</span>S<span class="token punctuation">.</span>SID<span class="token punctuation">;</span>SID    SNAME    name    price<span class="token number">101</span>    Supplies A    apple    <span class="token number">5.20</span><span class="token number">101</span>    Supplies A    blackberry    <span class="token number">10.20</span><span class="token number">102</span>    Supplies B    orange    <span class="token number">11.20</span><span class="token number">105</span>    Supplies E    melon    <span class="token number">8.20</span><span class="token number">102</span>    Supplies B    banana    <span class="token number">10.30</span><span class="token number">102</span>    Supplies B    grape    <span class="token number">5.30</span><span class="token number">103</span>    Supplies C    coconut    <span class="token number">9.20</span><span class="token number">101</span>    Supplies A    cherry    <span class="token number">3.20</span><span class="token number">103</span>    Supplies C    apricot    <span class="token number">2.20</span><span class="token number">104</span>    Supplies D    lemon    <span class="token number">6.40</span><span class="token number">104</span>    Supplies D    berry    <span class="token number">7.60</span><span class="token number">106</span>    Supplies F    mango    <span class="token number">15.60</span></code></pre><p><a name="301f3da4"></a></p><h1 id="å†…è¿æ¥ï¼Œä¸¤ä¸ªè¡¨çš„å…¬å…±éƒ¨åˆ†"><a href="#å†…è¿æ¥ï¼Œä¸¤ä¸ªè¡¨çš„å…¬å…±éƒ¨åˆ†" class="headerlink" title="å†…è¿æ¥ï¼Œä¸¤ä¸ªè¡¨çš„å…¬å…±éƒ¨åˆ†"></a>å†…è¿æ¥ï¼Œä¸¤ä¸ªè¡¨çš„å…¬å…±éƒ¨åˆ†</h1><p>æ ¼å¼ï¼šè¡¨å (INNER) JOIN è¡¨å ON è¿æ¥æ¡ä»¶</p><p><a name="b889a854"></a></p><h2 id="åŒè¡¨å†…è¿æ¥æŸ¥è¯¢"><a href="#åŒè¡¨å†…è¿æ¥æŸ¥è¯¢" class="headerlink" title="åŒè¡¨å†…è¿æ¥æŸ¥è¯¢"></a>åŒè¡¨å†…è¿æ¥æŸ¥è¯¢</h2><p>æŸ¥è¯¢æ°´æœçš„ä¾›åº”å•†ç¼–ç ã€åå­—ã€åŸå¸‚å³å¯¹åº”çš„æ°´æœåç§°å’Œä»·æ ¼</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token number">f</span><span class="token punctuation">.</span>SID<span class="token punctuation">,</span>S<span class="token punctuation">.</span>SNAME<span class="token punctuation">,</span>F<span class="token punctuation">.</span>name<span class="token punctuation">,</span>F<span class="token punctuation">.</span>price<span class="token punctuation">,</span>s<span class="token punctuation">.</span>city <span class="token keyword">FROM</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> suppliers <span class="token keyword">AS</span> S <span class="token keyword">ON</span> F<span class="token punctuation">.</span>SID <span class="token operator">=</span>S<span class="token punctuation">.</span>SID<span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token number">f</span><span class="token punctuation">.</span>SID<span class="token punctuation">,</span>S<span class="token punctuation">.</span>SNAME<span class="token punctuation">,</span>F<span class="token punctuation">.</span>name<span class="token punctuation">,</span>F<span class="token punctuation">.</span>price<span class="token punctuation">,</span>s<span class="token punctuation">.</span>city <span class="token keyword">FROM</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token keyword">JOIN</span> suppliers <span class="token keyword">AS</span> S <span class="token keyword">ON</span> F<span class="token punctuation">.</span>SID <span class="token operator">=</span>S<span class="token punctuation">.</span>SID<span class="token punctuation">;</span>SID    SNAME    name    price    city<span class="token number">101</span>    Supplies A    apple    <span class="token number">5.20</span>    Tianjin<span class="token number">101</span>    Supplies A    blackberry    <span class="token number">10.20</span>    Tianjin<span class="token number">102</span>    Supplies B    orange    <span class="token number">11.20</span>    Chongqing<span class="token number">105</span>    Supplies E    melon    <span class="token number">8.20</span>    Taiyuang<span class="token number">102</span>    Supplies B    banana    <span class="token number">10.30</span>    Chongqing<span class="token number">102</span>    Supplies B    grape    <span class="token number">5.30</span>    Chongqing<span class="token number">103</span>    Supplies C    coconut    <span class="token number">9.20</span>    Shanghai<span class="token number">101</span>    Supplies A    cherry    <span class="token number">3.20</span>    Tianjin<span class="token number">103</span>    Supplies C    apricot    <span class="token number">2.20</span>    Shanghai<span class="token number">104</span>    Supplies D    lemon    <span class="token number">6.40</span>    Zhongshan<span class="token number">104</span>    Supplies D    berry    <span class="token number">7.60</span>    Zhongshan<span class="token number">106</span>    Supplies F    mango    <span class="token number">15.60</span>    Beijing</code></pre><p>å‘ç°å’Œä¸Šé¢æ™®é€šæŸ¥è¯¢ä¸€æ ·</p><p><a name="dfe513ee"></a></p><h2 id="è‡ªè¿æ¥æŸ¥è¯¢ï¼Œå³åŒè¡¨æ˜¯åŒä¸€å¼ è¡¨"><a href="#è‡ªè¿æ¥æŸ¥è¯¢ï¼Œå³åŒè¡¨æ˜¯åŒä¸€å¼ è¡¨" class="headerlink" title="è‡ªè¿æ¥æŸ¥è¯¢ï¼Œå³åŒè¡¨æ˜¯åŒä¸€å¼ è¡¨"></a>è‡ªè¿æ¥æŸ¥è¯¢ï¼Œå³åŒè¡¨æ˜¯åŒä¸€å¼ è¡¨</h2><p>æŸ¥è¯¢ä¾›åº”idä¸º2çš„æ°´æœä¾›åº”å•†æä¾›çš„å…¶ä»–æ°´æœåç§°</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token number">f2</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>F2<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token number">f2</span><span class="token punctuation">.</span>sid <span class="token keyword">FROM</span> fruits <span class="token keyword">AS</span> <span class="token number">f1</span> <span class="token keyword">JOIN</span> fruits <span class="token keyword">AS</span> F2 <span class="token keyword">ON</span> <span class="token number">f1</span><span class="token punctuation">.</span>sid <span class="token operator">=</span> <span class="token number">f2</span><span class="token punctuation">.</span>sid <span class="token operator">AND</span> <span class="token number">f1</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>id    name    sid<span class="token number">1</span>    apple    <span class="token number">101</span><span class="token number">2</span>    blackberry    <span class="token number">101</span><span class="token number">8</span>    cherry    <span class="token number">101</span></code></pre><p>æŸ¥è¯¢æ¡ä»¶ä¸ºè¡¨1ï¼ŒæŸ¥è¯¢å­—æ®µä¸ºè¡¨2</p><p><a name="e74aabfc"></a></p><h2 id="é€šè¿‡å­å¥æŸ¥è¯¢è¿›è¡Œå†…é“¾æ¥"><a href="#é€šè¿‡å­å¥æŸ¥è¯¢è¿›è¡Œå†…é“¾æ¥" class="headerlink" title="é€šè¿‡å­å¥æŸ¥è¯¢è¿›è¡Œå†…é“¾æ¥"></a>é€šè¿‡å­å¥æŸ¥è¯¢è¿›è¡Œå†…é“¾æ¥</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> fruits<span class="token punctuation">.</span>id<span class="token punctuation">,</span>fruits<span class="token punctuation">.</span>name<span class="token punctuation">,</span>fruits<span class="token punctuation">.</span>sid <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> fruits<span class="token punctuation">.</span>SID <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> fruits<span class="token punctuation">.</span>SID <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> fruits<span class="token punctuation">.</span>ID <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>id    name    sid<span class="token number">1</span>    apple    <span class="token number">101</span><span class="token number">2</span>    blackberry    <span class="token number">101</span><span class="token number">8</span>    cherry    <span class="token number">101</span></code></pre><p><a name="3f1b8d7a"></a></p><h1 id="å¤–è¿æ¥"><a href="#å¤–è¿æ¥" class="headerlink" title="å¤–è¿æ¥"></a>å¤–è¿æ¥</h1><p><a name="811ef322"></a></p><h2 id="å·¦å¤–è¿æ¥ï¼Œå·¦è¡¨å…¨éƒ¨å’Œå·¦å³è¡¨å…¬å…±éƒ¨åˆ†é›†åˆ"><a href="#å·¦å¤–è¿æ¥ï¼Œå·¦è¡¨å…¨éƒ¨å’Œå·¦å³è¡¨å…¬å…±éƒ¨åˆ†é›†åˆ" class="headerlink" title="å·¦å¤–è¿æ¥ï¼Œå·¦è¡¨å…¨éƒ¨å’Œå·¦å³è¡¨å…¬å…±éƒ¨åˆ†é›†åˆ"></a>å·¦å¤–è¿æ¥ï¼Œå·¦è¡¨å…¨éƒ¨å’Œå·¦å³è¡¨å…¬å…±éƒ¨åˆ†é›†åˆ</h2><p>æ ¼å¼ï¼š è¡¨å LEFT (OUTER) JOIN è¡¨å ON æ¡ä»¶</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># SUPPLIERS ä¸ºå·¦è¡¨ï¼Œæ˜¾ç¤ºå…¨éƒ¨å†…å®¹</span><span class="token comment" spellcheck="true"># FRUITS ä¸ºå³è¡¨ï¼Œæ˜¾ç¤ºä¸å·¦è¡¨å…¬å…±éƒ¨åˆ†</span><span class="token comment" spellcheck="true"># å³è¡¨å…¶ä»–å†…å®¹æ˜¾ç¤ºä¸ºç©ºï¼ŒNULL</span><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>sid<span class="token punctuation">,</span>s<span class="token punctuation">.</span>sname<span class="token punctuation">,</span><span class="token number">f</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token number">f</span><span class="token punctuation">.</span>name <span class="token keyword">FROM</span> suppliers <span class="token keyword">AS</span> s <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token keyword">ON</span> <span class="token number">f</span><span class="token punctuation">.</span>sid <span class="token operator">=</span> s<span class="token punctuation">.</span>sid <span class="token punctuation">;</span>sid    sname    id    name<span class="token number">101</span>    Supplies A    <span class="token number">1</span>    apple<span class="token number">101</span>    Supplies A    <span class="token number">2</span>    blackberry<span class="token number">102</span>    Supplies B    <span class="token number">3</span>    orange<span class="token number">105</span>    Supplies E    <span class="token number">4</span>    melon<span class="token number">102</span>    Supplies B    <span class="token number">5</span>    banana<span class="token number">102</span>    Supplies B    <span class="token number">6</span>    grape<span class="token number">103</span>    Supplies C    <span class="token number">7</span>    coconut<span class="token number">101</span>    Supplies A    <span class="token number">8</span>    cherry<span class="token number">103</span>    Supplies C    <span class="token number">9</span>    apricot<span class="token number">104</span>    Supplies D    <span class="token number">10</span>    lemon<span class="token number">104</span>    Supplies D    <span class="token number">11</span>    berry<span class="token number">106</span>    Supplies F    <span class="token number">12</span>    mango<span class="token number">107</span>    Supplies G    <span class="token boolean">NULL</span>  <span class="token boolean">NULL</span></code></pre><p><a name="9da13b9e"></a></p><h2 id="å³å¤–è¿æ¥ï¼Œå³è¡¨å…¨éƒ¨å’Œå·¦å³è¡¨å…¬å…±éƒ¨åˆ†é›†åˆ"><a href="#å³å¤–è¿æ¥ï¼Œå³è¡¨å…¨éƒ¨å’Œå·¦å³è¡¨å…¬å…±éƒ¨åˆ†é›†åˆ" class="headerlink" title="å³å¤–è¿æ¥ï¼Œå³è¡¨å…¨éƒ¨å’Œå·¦å³è¡¨å…¬å…±éƒ¨åˆ†é›†åˆ"></a>å³å¤–è¿æ¥ï¼Œå³è¡¨å…¨éƒ¨å’Œå·¦å³è¡¨å…¬å…±éƒ¨åˆ†é›†åˆ</h2><blockquote><p>ä¸å·¦å¤–è¿æ¥ç›¸ä¼¼,å°±æ˜¯å…¨éƒ¨æ˜¾ç¤ºå³è¡¨åŠå…¬å…±éƒ¨åˆ†</p></blockquote><p>æ ¼å¼ï¼š è¡¨å RIGHT (OUTER) JOIN è¡¨å ON æ¡ä»¶</p><pre class=" language-sql"><code class="language-sql"><span class="token comment" spellcheck="true"># SUPPLIERS ä¸ºå·¦è¡¨ï¼Œæ˜¾ç¤ºä¸å³è¡¨å…¬å…±éƒ¨åˆ†</span><span class="token comment" spellcheck="true"># FRUITS ä¸ºå³è¡¨ï¼Œæ˜¾ç¤ºå…¨éƒ¨å†…å®¹</span><span class="token comment" spellcheck="true"># å·¦è¡¨å…¶ä»–å†…å®¹æ˜¾ç¤ºä¸ºç©ºï¼ŒNULL</span><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>sid<span class="token punctuation">,</span>s<span class="token punctuation">.</span>sname<span class="token punctuation">,</span><span class="token number">f</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token number">f</span><span class="token punctuation">.</span>name <span class="token keyword">FROM</span> suppliers <span class="token keyword">AS</span> s <span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> fruits <span class="token keyword">AS</span> <span class="token number">f</span> <span class="token keyword">ON</span> <span class="token number">f</span><span class="token punctuation">.</span>sid <span class="token operator">=</span> s<span class="token punctuation">.</span>sid <span class="token punctuation">;</span>sid    sname    id    name<span class="token number">101</span>    Supplies A    <span class="token number">1</span>    apple<span class="token number">101</span>    Supplies A    <span class="token number">2</span>    blackberry<span class="token number">102</span>    Supplies B    <span class="token number">3</span>    orange<span class="token number">105</span>    Supplies E    <span class="token number">4</span>    melon<span class="token number">102</span>    Supplies B    <span class="token number">5</span>    banana<span class="token number">102</span>    Supplies B    <span class="token number">6</span>    grape<span class="token number">103</span>    Supplies C    <span class="token number">7</span>    coconut<span class="token number">101</span>    Supplies A    <span class="token number">8</span>    cherry<span class="token number">103</span>    Supplies C    <span class="token number">9</span>    apricot<span class="token number">104</span>    Supplies D    <span class="token number">10</span>    lemon<span class="token number">104</span>    Supplies D    <span class="token number">11</span>    berry<span class="token number">106</span>    Supplies F    <span class="token number">12</span>    mango<span class="token boolean">NULL</span>  <span class="token boolean">NULL</span>    <span class="token number">13</span>    HHHHHH</code></pre><p><a name="8f5c198c"></a></p><h1 id="ä¸‰è¡¨æŸ¥è¯¢"><a href="#ä¸‰è¡¨æŸ¥è¯¢" class="headerlink" title="ä¸‰è¡¨æŸ¥è¯¢"></a>ä¸‰è¡¨æŸ¥è¯¢</h1><ul><li>è¡¨ä¸€å’Œè¡¨äºŒ<code>sid</code>å…³è”</li><li>è¡¨ä¸€å’Œè¡¨ä¸‰<code>id</code>å…³è”</li></ul><p>æŸ¥è¯¢ä¾›åº”å•†Supplies Bä¾›åº”çš„æ°´æœé¡¾å®¢è´­ä¹°é‡</p><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>  s<span class="token punctuation">.</span>city<span class="token punctuation">,</span>  s<span class="token punctuation">.</span>sName<span class="token punctuation">,</span>  <span class="token number">f</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>  p<span class="token punctuation">.</span>NAME<span class="token punctuation">,</span>  p<span class="token punctuation">.</span>num<span class="token keyword">FROM</span>  fruits <span class="token keyword">AS</span> F  <span class="token keyword">JOIN</span> suppliers <span class="token keyword">AS</span> s    <span class="token keyword">ON</span> <span class="token number">f</span><span class="token punctuation">.</span>sid <span class="token operator">=</span> s<span class="token punctuation">.</span>sid    <span class="token operator">AND</span> s<span class="token punctuation">.</span>sName <span class="token operator">=</span> <span class="token string">'Supplies B'</span>  <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> people <span class="token keyword">AS</span> p    <span class="token keyword">ON</span> <span class="token number">f</span><span class="token punctuation">.</span>id <span class="token operator">=</span> p<span class="token punctuation">.</span>id<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> p<span class="token punctuation">.</span>num <span class="token keyword">DESC</span><span class="token punctuation">;</span>city    sName    name    NAME    numChongqing    Supplies B    banana    E    <span class="token number">56</span>Chongqing    Supplies B    grape    F    <span class="token number">15</span>Chongqing    Supplies B    orange    C    <span class="token number">3</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> databases </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> web </tag>
            
            <tag> sqlå¤šè¡¨æŸ¥è¯¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL æ•™ç¨‹ï¼šèšåˆå‡½æ•°</title>
      <link href="/databases-mysql-aggregate-function/"/>
      <url>/databases-mysql-aggregate-function/</url>
      
        <content type="html"><![CDATA[<p><a name="71cc4c7f"></a></p><h1 id="èšåˆå‡½æ•°ç‰¹ç‚¹"><a href="#èšåˆå‡½æ•°ç‰¹ç‚¹" class="headerlink" title="èšåˆå‡½æ•°ç‰¹ç‚¹"></a>èšåˆå‡½æ•°ç‰¹ç‚¹</h1><ol><li>ç»„å‡½æ•°ï¼Œå°†å­—æ®µå½“ä½œä¸€ä¸ªç»„è¿›è¡Œç»Ÿè®¡ï¼Œå¯ç»“åˆåˆ†ç»„<code>GROUP BY</code>è”åˆä½¿ç”¨</li><li>ä¸ç”¨<code>GROUP BY</code>ï¼Œä¸­é—´ç»“æœé›†ä¸­çš„æ‰€æœ‰è¡Œè‡ªåŠ¨å½¢æˆä¸€ç»„ï¼Œç„¶åè®¡ç®—ç»„åˆæ•°</li><li>æ¯ä¸ªç»„å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼ˆå­—æ®µåæˆ–è€…è¡¨è¾¾å¼ï¼‰ ç»Ÿè®¡ç»“æœä¸­é»˜è®¤å¿½ç•¥å­—æ®µä¸º<code>NULL</code>çš„è®°å½•ï¼Œä¸å‚ä¸è®¡ç®—</li><li>è¦æƒ³åˆ—å€¼ä¸º<code>NULL</code>çš„è¡Œä¹Ÿå‚ä¸ç»„å‡½æ•°çš„è®¡ç®—ï¼Œå¿…é¡»ä½¿ç”¨<code>IFNULL</code>å‡½æ•°å¯¹<code>NULL</code>å€¼åšè½¬æ¢ã€‚</li><li>ä¸å…è®¸å‡ºç°åµŒå¥— æ¯”å¦‚<code>sum(max(...))</code></li></ol><p><a name="2d711b09"></a></p><h1 id="å†…å®¹"><a href="#å†…å®¹" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h1><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span>id    sid    name    price<span class="token number">1</span>    <span class="token number">101</span>    apple    <span class="token number">5.20</span><span class="token number">2</span>    <span class="token number">101</span>    blackberry    <span class="token number">10.20</span><span class="token number">3</span>    <span class="token number">102</span>    orange    <span class="token number">11.20</span><span class="token number">4</span>    <span class="token number">105</span>    melon    <span class="token number">8.20</span><span class="token number">5</span>    <span class="token number">102</span>    banana    <span class="token number">10.30</span><span class="token number">6</span>    <span class="token number">102</span>    grape    <span class="token number">5.30</span><span class="token number">7</span>    <span class="token number">103</span>    coconut    <span class="token number">9.20</span><span class="token number">8</span>    <span class="token number">101</span>    cherry    <span class="token number">3.20</span><span class="token number">9</span>    <span class="token number">103</span>    apricot    <span class="token number">2.20</span><span class="token number">10</span>    <span class="token number">104</span>    lemon    <span class="token number">6.40</span><span class="token number">11</span>    <span class="token number">104</span>    berry    <span class="token number">7.60</span><span class="token number">12</span>    <span class="token number">106</span>    mango    <span class="token number">15.60</span></code></pre><p><a name="ee828f04"></a></p><h1 id="COUNT-ç»Ÿè®¡è¡Œçš„æ•°é‡ã€‚éNULLå€¼"><a href="#COUNT-ç»Ÿè®¡è¡Œçš„æ•°é‡ã€‚éNULLå€¼" class="headerlink" title="COUNT(*) ç»Ÿè®¡è¡Œçš„æ•°é‡ã€‚éNULLå€¼"></a>COUNT(*) ç»Ÿè®¡è¡Œçš„æ•°é‡ã€‚éNULLå€¼</h1><p><a name="0784c2bb"></a></p><h2 id="ç»Ÿè®¡idå’Œsid-çš„è¡Œæ•°"><a href="#ç»Ÿè®¡idå’Œsid-çš„è¡Œæ•°" class="headerlink" title="ç»Ÿè®¡idå’Œsid çš„è¡Œæ•°"></a>ç»Ÿè®¡idå’Œsid çš„è¡Œæ•°</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">COUNT</span><span class="token punctuation">(</span>sid<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span><span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>    <span class="token function">count</span><span class="token punctuation">(</span>sid<span class="token punctuation">)</span><span class="token number">12</span>    <span class="token number">12</span></code></pre><p><a name="08ab268e"></a></p><h2 id="ç»Ÿè®¡å½“sidä¸º103æ—¶idçš„è¡Œæ•°"><a href="#ç»Ÿè®¡å½“sidä¸º103æ—¶idçš„è¡Œæ•°" class="headerlink" title="ç»Ÿè®¡å½“sidä¸º103æ—¶idçš„è¡Œæ•°"></a>ç»Ÿè®¡å½“sidä¸º103æ—¶idçš„è¡Œæ•°</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> SID <span class="token operator">=</span> <span class="token number">103</span><span class="token punctuation">;</span><span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token number">2</span></code></pre><p><a name="6f40e06e"></a></p><h2 id="DISTINCT-è¿‡æ»¤æ‰é‡å¤è¡Œ"><a href="#DISTINCT-è¿‡æ»¤æ‰é‡å¤è¡Œ" class="headerlink" title="DISTINCT è¿‡æ»¤æ‰é‡å¤è¡Œ"></a>DISTINCT è¿‡æ»¤æ‰é‡å¤è¡Œ</h2><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>Sid<span class="token punctuation">)</span> <span class="token keyword">AS</span> SID <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span>SID<span class="token number">12</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> Sid<span class="token punctuation">)</span> <span class="token keyword">AS</span> SID <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span>SID<span class="token number">6</span></code></pre><p><a name="a8cf1578"></a></p><h1 id="MAX-æœ€å¤§å€¼"><a href="#MAX-æœ€å¤§å€¼" class="headerlink" title="MAX(*) æœ€å¤§å€¼"></a>MAX(*) æœ€å¤§å€¼</h1><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span><span class="token function">max</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token number">12</span></code></pre><p><a name="1a441977"></a></p><h1 id="MIN-æœ€å°å€¼"><a href="#MIN-æœ€å°å€¼" class="headerlink" title="MIN(*) æœ€å°å€¼"></a>MIN(*) æœ€å°å€¼</h1><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits<span class="token punctuation">;</span><span class="token function">min</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token number">1</span></code></pre><p><a name="714b468f"></a></p><h1 id="AVG-å¹³å‡å€¼"><a href="#AVG-å¹³å‡å€¼" class="headerlink" title="AVG(*) å¹³å‡å€¼"></a>AVG(*) å¹³å‡å€¼</h1><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> ID <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">AVG</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token number">8.866667</span></code></pre><p><a name="6ecc704c"></a></p><h1 id="SUM-ç´¯åŠ å’Œ"><a href="#SUM-ç´¯åŠ å’Œ" class="headerlink" title="SUM(*) ç´¯åŠ å’Œ"></a>SUM(*) ç´¯åŠ å’Œ</h1><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">FROM</span> fruits <span class="token keyword">WHERE</span> SID <span class="token operator">=</span> <span class="token number">102</span><span class="token punctuation">;</span><span class="token function">SUM</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token number">26.80</span></code></pre><p><a name="6378002c"></a></p><h1 id="GROUP-BY-ç»„åˆä½¿ç”¨"><a href="#GROUP-BY-ç»„åˆä½¿ç”¨" class="headerlink" title="GROUP BY ç»„åˆä½¿ç”¨"></a>GROUP BY ç»„åˆä½¿ç”¨</h1><pre class=" language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>  <span class="token function">MAX</span><span class="token punctuation">(</span>ID<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">MIN</span><span class="token punctuation">(</span>SID<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">COUNT</span><span class="token punctuation">(</span>SID<span class="token punctuation">)</span><span class="token punctuation">,</span>  GROUP_CONCAT<span class="token punctuation">(</span>NAME<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">AVG</span><span class="token punctuation">(</span>PRICE<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">SUM</span><span class="token punctuation">(</span>PRICE<span class="token punctuation">)</span><span class="token keyword">FROM</span>  fruits<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SID<span class="token punctuation">;</span><span class="token function">MAX</span><span class="token punctuation">(</span>ID<span class="token punctuation">)</span>    <span class="token function">MIN</span><span class="token punctuation">(</span>SID<span class="token punctuation">)</span>    <span class="token function">COUNT</span><span class="token punctuation">(</span>SID<span class="token punctuation">)</span>    group_concat<span class="token punctuation">(</span>NAME<span class="token punctuation">)</span>    <span class="token function">AVG</span><span class="token punctuation">(</span>PRICE<span class="token punctuation">)</span>    <span class="token function">SUM</span><span class="token punctuation">(</span>PRICE<span class="token punctuation">)</span><span class="token number">8</span>    <span class="token number">101</span>    <span class="token number">3</span>    apple<span class="token punctuation">,</span>blackberry<span class="token punctuation">,</span>cherry    <span class="token number">6.200000</span>    <span class="token number">18.60</span><span class="token number">6</span>    <span class="token number">102</span>    <span class="token number">3</span>    orange<span class="token punctuation">,</span>banana<span class="token punctuation">,</span>grape    <span class="token number">8.933333</span>    <span class="token number">26.80</span><span class="token number">9</span>    <span class="token number">103</span>    <span class="token number">2</span>    coconut<span class="token punctuation">,</span>apricot    <span class="token number">5.700000</span>    <span class="token number">11.40</span><span class="token number">11</span>    <span class="token number">104</span>    <span class="token number">2</span>    lemon<span class="token punctuation">,</span>berry    <span class="token number">7.000000</span>    <span class="token number">14.00</span><span class="token number">4</span>    <span class="token number">105</span>    <span class="token number">1</span>    melon    <span class="token number">8.200000</span>    <span class="token number">8.20</span><span class="token number">12</span>    <span class="token number">106</span>    <span class="token number">1</span>    mango    <span class="token number">15.600000</span>    <span class="token number">15.60</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> databases </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> web </tag>
            
            <tag> sqlèšåˆå‡½æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python ä½¿ç”¨ Seleniumï¼Œè®¾ç½®æµè§ˆå™¨ä¸å¼¹çª—ï¼Œä¸‹è½½æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®</title>
      <link href="/python-selenium-download/"/>
      <url>/python-selenium-download/</url>
      
        <content type="html"><![CDATA[<p><a name="aaaee3ba"></a></p><h1 id="Firefox-æ–‡ä»¶ä¸‹è½½"><a href="#Firefox-æ–‡ä»¶ä¸‹è½½" class="headerlink" title="Firefox æ–‡ä»¶ä¸‹è½½"></a>Firefox æ–‡ä»¶ä¸‹è½½</h1><p><strong>_ è®¾ç½®å…¶Profileï¼š_</strong></p><ul><li><code>browser.download.dir</code>ï¼šæŒ‡å®šä¸‹è½½è·¯å¾„</li><li><code>browser.download.folderList</code>ï¼šè‡ªå®šä¹‰ä¸‹è½½è·¯å¾„ä¸º2ï¼›ä¸‹è½½åˆ°æ¡Œé¢ä¸º0ï¼›ä¸‹è½½åˆ°é»˜è®¤è·¯å¾„ä¸º1</li><li><code>browser.download.manager.showWhenStarting</code>ï¼šåœ¨å¼€å§‹ä¸‹è½½æ—¶ï¼Œæ˜¯å¦æ˜¾ç¤ºä¸‹è½½ç®¡ç†å™¨</li><li><code>browser.helperApps.neverAsk.saveToDisk</code>ï¼šå¯¹æ‰€ç»™å‡ºæ–‡ä»¶ç±»å‹ä¸å†å¼¹å‡ºæ¡†è¿›è¡Œè¯¢é—®ï¼Œéœ€æŒ‡å®šç±»å‹</li></ul><p>ä¸‹é¢æ¥ä¸ªç¤ºä¾‹ï¼š</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#! /usr/bin/env python</span><span class="token comment" spellcheck="true"># coding: utf-8 </span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">import</span> time profile <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>FirefoxProfile<span class="token punctuation">(</span><span class="token punctuation">)</span>profile<span class="token punctuation">.</span>set_preference<span class="token punctuation">(</span><span class="token string">'browser.download.dir'</span><span class="token punctuation">,</span> <span class="token string">'d:\\'</span><span class="token punctuation">)</span>profile<span class="token punctuation">.</span>set_preference<span class="token punctuation">(</span><span class="token string">'browser.download.folderList'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>profile<span class="token punctuation">.</span>set_preference<span class="token punctuation">(</span><span class="token string">'browser.download.manager.showWhenStarting'</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">)</span>profile<span class="token punctuation">.</span>set_preference<span class="token punctuation">(</span><span class="token string">'browser.helperApps.neverAsk.saveToDisk'</span><span class="token punctuation">,</span> <span class="token string">'application/vnd.ms-excel'</span><span class="token punctuation">)</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Firefox<span class="token punctuation">(</span>firefox_profile<span class="token operator">=</span>profile<span class="token punctuation">)</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.zhwei.cn/'</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//a[text()="test.xlsx"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Firefoxéœ€è¦é’ˆå¯¹æ¯ç§æ–‡ä»¶ç±»å‹è¿›è¡Œè®¾ç½®ï¼Œè¿™é‡Œéœ€è¦æˆ‘ä»¬æŸ¥è¯¢å¯¹åº”æ–‡ä»¶çš„MIMEç±»å‹ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹é“¾æ¥è¿›è¡ŒæŸ¥è¯¢ï¼š<a href="http://www.w3school.com.cn/media/media_mimeref.asp" target="_blank" rel="noopener">MIME å‚è€ƒæ‰‹å†Œ</a></p><p><a name="0b813998"></a></p><h1 id="Chrome-æ–‡ä»¶ä¸‹è½½"><a href="#Chrome-æ–‡ä»¶ä¸‹è½½" class="headerlink" title="Chrome æ–‡ä»¶ä¸‹è½½"></a>Chrome æ–‡ä»¶ä¸‹è½½</h1><p><strong>_ è®¾ç½®å…¶optionsï¼š_</strong></p><ul><li><code>download.default_directory</code>ï¼šè®¾ç½®ä¸‹è½½è·¯å¾„</li><li><code>profile.default_content_settings.popups</code>ï¼šè®¾ç½®ä¸º 0 ç¦æ­¢å¼¹å‡ºçª—å£</li></ul><p>ç¤ºä¾‹ï¼š</p><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">#! /usr/bin/env python</span><span class="token comment" spellcheck="true"># coding: utf-8 </span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">import</span> time  options <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>prefs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'profile.default_content_settings.popups'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'download.default_directory'</span><span class="token punctuation">:</span> <span class="token string">'d:\\'</span><span class="token punctuation">}</span>options<span class="token punctuation">.</span>add_experimental_option<span class="token punctuation">(</span><span class="token string">'prefs'</span><span class="token punctuation">,</span> prefs<span class="token punctuation">)</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>executable_path<span class="token operator">=</span><span class="token string">'D:\\chromedriver.exe'</span><span class="token punctuation">,</span> chrome_options<span class="token operator">=</span>options<span class="token punctuation">)</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.zhwei.cn/'</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//a[text()="test.xlsx"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Selenium </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> selenium </tag>
            
            <tag> webdriver </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
