import{_ as t,F as p,g as l,K as n,h as i,l as s,ar as h,o as k}from"./chunks/framework.VlluEs-f.js";const V=JSON.parse('{"title":"09JpaSpecificationExecutor解决了哪些问题？","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/Spring Data JPA 原理与实战_文档/(4709) 09  JpaSpecificationExecutor 解决了哪些问题？.md","filePath":"posts/backEnd/Spring Data JPA 原理与实战_文档/(4709) 09  JpaSpecificationExecutor 解决了哪些问题？.md","lastUpdated":1718371218000}'),e={name:"posts/backEnd/Spring Data JPA 原理与实战_文档/(4709) 09  JpaSpecificationExecutor 解决了哪些问题？.md"},E=s("h1",{id:"_09jpaspecificationexecutor解决了哪些问题",tabindex:"-1"},[i("09JpaSpecificationExecutor解决了哪些问题？ "),s("a",{class:"header-anchor",href:"#_09jpaspecificationexecutor解决了哪些问题","aria-label":'Permalink to "09JpaSpecificationExecutor解决了哪些问题？"'},"​")],-1),r=s("p",null,"欢迎来到第二个模块，从这一课时开始，我们就要进入高级用法与实战的学习。在进阶高级开发 / 架构师的路上，我将尽可能把经验都传授给你，帮助你少走弯路。",-1),d=s("p",null,"学习完前面 8 个课时，相信作为一名开发人员，你对 JPA 的基本用法已经有了一定的了解。那么从这一课时开始，我们要介绍一些复杂场景的使用，特别是作为一名架构师必须要掌握的内容。",-1),g=s("p",null,"我们先来看看除了前几节课我们讲解的 Define Query Method 和 @Query 之外，还有哪些查询方法。首先看一个简单的 QueryByExampleExecutor 用法。",-1),y=s("h3",{id:"querybyexampleexecutor用法",tabindex:"-1"},[i("QueryByExampleExecutor用法 "),s("a",{class:"header-anchor",href:"#querybyexampleexecutor用法","aria-label":'Permalink to "QueryByExampleExecutor用法"'},"​")],-1),c=s("p",null,"QueryByExampleExecutor（QBE）是一种用户友好的查询技术，具有简单的接口，它允许动态查询创建，并且不需要编写包含字段名称的查询。",-1),F=s("p",null,"下面是一个 UML 图，你可以看到 QueryByExampleExecutor 是 JpaRepository 的父接口，也就是 JpaRespository 里面继承了 QueryByExampleExecutor 的所有方法。",-1),o=h("",17),u=h("",15),C=s("p",null,"通过 Structure 视图可以很容易地发现，我们要关心的方法都是这些 public 类型的返回 ExampleMatcher 的方法，那么我们把这些方法搞明白了是不是就可以掌握其详细用法了呢？下面看看它的实现类。",-1),A=h("",32),D=h("",4),m=h("",5),B=h("",6),_=s("p",null,"从而找到 findAll 方法的实现类，如下所示：",-1),x=h("",3),b=s("p",null,[i("我们接着看上面的 getQuery 方法的实现，可以看到接收的参数是 Specification"),s("code",null,"<S>"),i("接口，所以不用关心实现类是什么。")],-1),v=s("p",null,"我们接着再看这个断点的 getQuery 方法：",-1),q=s("p",null,"里面有一段代码会调用 applySpecificationToCriteria 生成 root，并由 Root 作为参数生成 Query，从而交给 EM（EntityManager）进行查询。",-1),T=s("p",null,"我们再来看一下关键的 applySpecificationToCriteria 方法。",-1),f=s("p",null,"根据 Specification 调用 toPredicate 方法，生成 Predicate，从而实现查询需求。",-1),S=s("p",null,"现在我们已经对 QueryByExampleExecutor 的用法和实现原理基本掌握了，我们再来看一个十分相似的接口：JpaSpecificationExecutor 是干什么用的。",-1),M=s("h3",{id:"jpaspecificationexecutor-接口结构",tabindex:"-1"},[i("JpaSpecificationExecutor 接口结构 "),s("a",{class:"header-anchor",href:"#jpaspecificationexecutor-接口结构","aria-label":'Permalink to "JpaSpecificationExecutor 接口结构"'},"​")],-1),j=s("p",null,"正如我们开篇提到的【图一：Repository 类图】，JpaSpecificationExecutor 是 JPA 里面的另一个接口分支。我们先来看看它的基本语法。",-1),P=h("",9);function w(I,N,R,U,L,Q){const a=p("Image");return k(),l("div",null,[E,r,d,g,y,c,F,n(a,{alt:"Drawing 0.png",src:"https://s0.lgstatic.com/i/image/M00/5D/4B/CgqCHl-EE7WAAfi5AACTjc0iffY586.png"}),i(),o,n(a,{alt:"Drawing 1.png",src:"https://s0.lgstatic.com/i/image/M00/5D/40/Ciqc1F-EFDCAa50VAADEF8jBllY550.png"}),i(),u,n(a,{alt:"Drawing 2.png",src:"https://s0.lgstatic.com/i/image/M00/5D/4C/CgqCHl-EFFGAHjlEAAOzUKkyjE0156.png"}),i(),C,n(a,{alt:"Drawing 3.png",src:"https://s0.lgstatic.com/i/image/M00/5D/4C/CgqCHl-EFFeAcXU9AACEfIRngF4284.png"}),i(),A,n(a,{alt:"Drawing 4.png",src:"https://s0.lgstatic.com/i/image/M00/5D/41/Ciqc1F-EFHuAXsn3AABiCE6_I0I978.png"}),i(),D,n(a,{alt:"Drawing 5.png",src:"https://s0.lgstatic.com/i/image/M00/5D/4C/CgqCHl-EFIiAKEMxAAFkdJSuuX4896.png"}),i(),m,n(a,{alt:"Drawing 6.png",src:"https://s0.lgstatic.com/i/image/M00/5D/4C/CgqCHl-EFJGAOa8BAAGc6Bk2F3g271.png"}),i(),B,n(a,{alt:"Drawing 7.png",src:"https://s0.lgstatic.com/i/image/M00/5D/4C/CgqCHl-EFJmAO7ItAABKDcL98Uc576.png"}),i(),_,n(a,{alt:"Drawing 8.png",src:"https://s0.lgstatic.com/i/image/M00/5D/4C/CgqCHl-EFKCAOUw0AAaMM8yZ64k573.png"}),i(),x,n(a,{alt:"Drawing 9.png",src:"https://s0.lgstatic.com/i/image/M00/5D/41/Ciqc1F-EFKeAOHpRAASLh36FrZI858.png"}),i(),b,n(a,{alt:"Drawing 10.png",src:"https://s0.lgstatic.com/i/image/M00/5D/41/Ciqc1F-EFK2AWfUgAAEJccNGWh4199.png"}),i(),v,n(a,{alt:"Drawing 11.png",src:"https://s0.lgstatic.com/i/image/M00/5D/41/Ciqc1F-EFLOAfcLIAAEtDgDfmQU527.png"}),i(),q,T,n(a,{alt:"Drawing 12.png",src:"https://s0.lgstatic.com/i/image/M00/5D/4C/CgqCHl-EFLyAJh4iAAFuOV3pYzA214.png"}),i(),f,S,M,j,n(a,{alt:"Drawing 13.png",src:"https://s0.lgstatic.com/i/image/M00/5D/4C/CgqCHl-EFMSABjEBAAEBE-nLmV0807.png"}),i(),P])}const H=t(e,[["render",w]]);export{V as __pageData,H as default};
