import{_ as h,F as l,g as e,K as n,h as i,l as s,ar as t,o as k}from"./chunks/framework.VlluEs-f.js";const _=JSON.parse('{"title":"第07讲：JavaHighLevelClient，读写ES利器","description":"","frontmatter":{},"headers":[],"relativePath":"posts/backEnd/098-讲带你搞懂 SkyWalking文档/(1727) 第07讲：Java High Level Client，读写 ES 利器.md","filePath":"posts/backEnd/098-讲带你搞懂 SkyWalking文档/(1727) 第07讲：Java High Level Client，读写 ES 利器.md","lastUpdated":1718371218000}'),p={name:"posts/backEnd/098-讲带你搞懂 SkyWalking文档/(1727) 第07讲：Java High Level Client，读写 ES 利器.md"},E=s("h1",{id:"第07讲-javahighlevelclient-读写es利器",tabindex:"-1"},[i("第07讲：JavaHighLevelClient，读写ES利器 "),s("a",{class:"header-anchor",href:"#第07讲-javahighlevelclient-读写es利器","aria-label":'Permalink to "第07讲：JavaHighLevelClient，读写ES利器"'},"​")],-1),r=s("p",null,"通过前面搭建 SkyWalking 的运行环境我们知道，SkyWalking OAP 后端可以使用多种存储对数据进行持久化，例如 MySQL、TiDB 等，默认使用 ElasticSearch 作为持久化存储，在后面的源码分析过程中也将以 ElasticSearch 作为主要存储进行分析。",-1),d=s("h3",{id:"elasticsearch-基本概念",tabindex:"-1"},[i("ElasticSearch 基本概念 "),s("a",{class:"header-anchor",href:"#elasticsearch-基本概念","aria-label":'Permalink to "ElasticSearch 基本概念"'},"​")],-1),g=s("p",null,"本课时将快速介绍一下 ElasticSearch 的基本概念，如果你没有用过 ElasticSearch ，可以通过本小节迅速了解 ElasticSearch 中涉及的基本概念。Elasticsearch 是一个基于 Apache Lucene 的开源搜索引擎，无论在开源还是专业领域，Apache Lucene 可以被认为是迄今为止最先进、性能最好、功能最全的搜索引擎库。但是，Apache Lucene 只是一个工具库，本身使用也比较复杂，直接使用 Apache Lucene 对开发人员的要求比较高，需要检索方面的知识来理解它是如何工作的。ElasticSearch 使用 Java 对 Apache Lucene 进行了封装，提供了简单易用的 RESTful API，隐藏 Apache Lucene 的复杂性，降低了全文检索的编程门槛。",-1),y=s("p",null,"ElasticSearch 中有几个比较核心的概念，为了方便你理解，我将其与数据库中的概念进行映射，如下图所示：",-1),c=t("",23),o=s("p",null,"副本带来了两个好处：一个是在主分片出现故障的时候，可以通过副本继续提供服务（所以，分片副本一般不与主分片分配到同一个节点上）；另一个就是查询操作可以在分片副本上执行，因此可以提升整个 ElasticSearch 查询性能。",-1),F=s("h3",{id:"elasticsearch-写入流程简介",tabindex:"-1"},[i("ElasticSearch 写入流程简介 "),s("a",{class:"header-anchor",href:"#elasticsearch-写入流程简介","aria-label":'Permalink to "ElasticSearch 写入流程简介"'},"​")],-1),u=s("p",null,"分片是 ElasticSearch 中最小的数据分配单位，即一个分片总是作为一个整体被分配到集群中的某个节点。继续深入分片的结构会发现，一个分片是由多个 Segment 构成的，如下图所示：",-1),C=t("",13),D=t("",38);function A(q,B,m,S,v,b){const a=l("Image");return k(),e("div",null,[E,r,d,g,y,n(a,{alt:"",src:"https://s0.lgstatic.com/i/image3/M01/03/81/Ciqah158kASATlQvAAApiOhG1PE953.png"}),i(),c,n(a,{alt:"",src:"https://s0.lgstatic.com/i/image3/M01/7C/97/Cgq2xl58kASAIlnSAAA2g6WmR_U791.png"}),i(),o,F,u,n(a,{alt:"",src:"https://s0.lgstatic.com/i/image3/M01/03/81/Ciqah158kASAPMPyAABiTVfbZ1w517.png"}),i(),C,n(a,{alt:"",src:"https://s0.lgstatic.com/i/image3/M01/7C/97/Cgq2xl58kASAVIIqAADyYyiGJl0221.png"}),i(),D])}const I=h(p,[["render",A]]);export{_ as __pageData,I as default};
